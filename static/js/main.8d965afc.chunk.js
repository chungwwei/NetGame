(this.webpackJsonplight_off=this.webpackJsonplight_off||[]).push([[0],{70:function(a,n,l){},71:function(a,n,l){},77:function(a,n,l){"use strict";l.r(n);var t=l(3),b=l(0),e=l.n(b),k=l(10),i=l.n(k),s=(l(70),l(71),l(43)),r=l(15),A=l(26),o=l(7),h=l(8),g=function(){function a(){Object(o.a)(this,a),this.undoStk=[],this.redoStk=[]}return Object(h.a)(a,[{key:"execute",value:function(a){this.undoStk.push(a),this.redoStk=[]}},{key:"executeCommands",value:function(a){}},{key:"undo",value:function(){if(this.undoStk.length>0){var a=this.undoStk.pop();a.undo(),this.redoStk.push(a)}}},{key:"redo",value:function(){if(this.redoStk.length>0){var a=this.redoStk.pop();a.redo(),this.undoStk.push(a)}}}]),a}(),c=function(){function a(n,l){Object(o.a)(this,a),this.game=void 0,this.curGrid=void 0,this.game=n,this.curGrid=[];for(var t=0;t<l.length;t++){this.curGrid[t]=[];for(var b=0;b<l[t].length;b++)this.curGrid[t].push(l[t][b].deepCopy())}}return Object(h.a)(a,[{key:"execute",value:function(){}},{key:"undo",value:function(){this.game.setBoard(this.curGrid)}},{key:"redo",value:function(){this.game.setBoard(this.curGrid)}}]),a}(),d=function(){function a(n,l,t,b,e,k){Object(o.a)(this,a),this.i=void 0,this.j=void 0,this.type=void 0,this.isStart=void 0,this.isFinish=void 0,this.isPartPath=void 0,this.imgSrc=void 0,this.i=n,this.j=l,this.type=t,this.isFinish=e,this.isStart=b,this.isPartPath=k,this.imgSrc="/src/i0.png"}return Object(h.a)(a,[{key:"deepCopy",value:function(){return new a(this.i,this.j,this.type,this.isStart,this.isFinish,this.isPartPath)}}]),a}(),u=function(){function a(){Object(o.a)(this,a),this.levels=void 0,this.currentLevel=void 0,this.levels=new Map,this.currentLevel="none",this.initLevels()}return Object(h.a)(a,[{key:"initLevels",value:function(){var a,n;this.levels.set("classic",[]),this.levels.set("wrapping",[]),null===(a=this.levels.get("classic"))||void 0===a||a.push([["start","t0","d0","blank","blank","blank","blank","blank","blank","blank"],["blank","t0","i0","i0","d0","t2","finish","blank","blank","blank"],["blank","finish","blank","blank","t2","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","start","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","i0","d0","blank","blank","blank","blank","blank","blank","blank"],["blank","d0","d0","blank","blank","blank","blank","blank","blank","blank"],["blank","finish","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["d1","finish","d0","i0","d1","blank","blank","blank","blank","blank"],["d1","blank","d0","d1","d1","blank","blank","blank","blank","blank"],["i0","d0","blank","d1","d1","blank","blank","blank","blank","blank"],["start","i0","i0","i0","t1","finish","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["finish","d1","finish","d1","finish","blank","blank","blank","blank","blank"],["d1","t1","d0","t1","finish","blank","blank","blank","blank","blank"],["finish","i0","start","d1","d1","blank","blank","blank","blank","blank"],["i0","i0","t1","d1","finish","blank","blank","blank","blank","blank"],["d2","d1","d2","t1","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["finish","d1","finish","d1","finish","blank","blank","blank","blank","blank"],["d1","t1","d0","t1","finish","blank","blank","blank","blank","blank"],["finish","i0","start","d1","d1","blank","blank","blank","blank","blank"],["i0","i0","t1","d1","finish","blank","blank","blank","blank","blank"],["d2","d1","d2","t1","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","d0","","blank","blank","blank","blank","blank","blank","blank"],["blank","t0","i0","i0","t1","t2","finish","blank","blank","blank"],["blank","finish","blank","blank","t2","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t0","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","t0","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","t0","i0","i0","t1","t2","finish","blank","blank","blank"],["blank","finish","blank","blank","t2","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t0","t1","finish","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]]),null===(n=this.levels.get("wrapping"))||void 0===n||n.push([["i0","start","blank","blank","blank","blank","blank","blank","d0","i0"],["blank","d0","d0","blank","blank","blank","blank","blank","finish","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","i1","d0","blank","blank","blank","blank","blank","finish","blank"],["i1","i1","t0","blank","blank","blank","blank","blank","d2","i1"],["blank","blank","blank","blank","blank","blank","blank","blank","d1","i1"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","i1","d0","blank","blank","blank","blank","blank","blank","blank"],["i1","i1","t0","t2","finish","blank","blank","blank","d2","i1"],["blank","blank","t1","blank","blank","blank","blank","blank","d1","i1"],["blank","blank","start","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","blank","d0","blank","blank","blank","blank","blank","blank","blank"],["t1","blank","t0","blank","blank","blank","blank","blank","d2","i1"],["d1","i0","d1","blank","blank","blank","blank","blank","d1","i1"],["i0","d2","t1","blank","blank","blank","blank","blank","i0","finish"],["blank","blank","blank","blank","blank","blank","blank","blank","d2","d3"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","blank","blank","blank","t0","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["d0","t1","finish","blank","start","i0","i0","d1","blank","blank"],["t1","blank","blank","blank","i1","blank","blank","d1","i0","i0"],["blank","blank","blank","blank","i1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","i1","d0","blank","blank","blank","blank","blank","finish","blank"],["i1","i1","t0","t2","finish","blank","blank","blank","d2","i1"],["blank","blank","t1","blank","blank","blank","blank","blank","d1","i1"],["blank","blank","start","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","i1","d0","blank","blank","blank","blank","blank","finish","blank"],["i1","i1","t0","t2","finish","blank","blank","blank","t1","i1"],["blank","blank","t1","blank","blank","blank","blank","blank","t1","i1"],["blank","blank","start","blank","blank","blank","blank","finish","d0","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]])}}]),a}(),v=function(){function a(n,l){Object(o.a)(this,a),this.board=void 0,this.R=void 0,this.C=void 0,this.dirs=void 0,this.levelManager=void 0,this.commandManager=void 0,this.levels=void 0,this.solutionBoard=void 0,this.commandManager=new g,this.levelManager=new u,this.levels=this.levelManager.levels,this.board=[],this.R=n,this.C=l;for(var t=0;t<n;t++){this.board[t]=[];for(var b=0;b<l;b++){var e=new d(t,b,"blank",!1,!1,!1);this.board[t].push(e)}}this.dirs=new Map,this.dirs.set("i0",[[1,0],[-1,0]]),this.dirs.set("i1",[[0,-1],[0,1]]),this.dirs.set("d0",[[-1,0],[0,1]]),this.dirs.set("d1",[[1,0],[0,1]]),this.dirs.set("d2",[[1,0],[0,-1]]),this.dirs.set("d3",[[-1,0],[0,-1]]),this.dirs.set("t0",[[-1,0],[0,-1],[0,1]]),this.dirs.set("t1",[[1,0],[-1,0],[0,1]]),this.dirs.set("t2",[[0,1],[0,-1],[1,0]]),this.dirs.set("t3",[[1,0],[-1,0],[0,-1]]),this.dirs.set("e0",[[-1,0]]),this.dirs.set("e1",[[0,1]]),this.dirs.set("e2",[[1,0]]),this.dirs.set("e3",[[0,-1]]),this.dirs.set("blank",[[]]),this.dirs.set("4ways",[[1,0],[-1,0],[0,-1],[0,1]]),this.dirs.set("start",[[1,0],[-1,0],[0,-1],[0,1]]),this.dirs.set("finish",[[1,0],[-1,0],[0,-1],[0,1]])}return Object(h.a)(a,[{key:"isCompatible",value:function(a,n,l){var t,b=Object(A.a)(l);try{for(b.s();!(t=b.n()).done;){var e=Object(r.a)(t.value,2),k=e[0],i=e[1];if(a===-k&&n===-i)return!0}}catch(s){b.e(s)}finally{b.f()}return!1}},{key:"wrappingBFS",value:function(){for(var a=[],n=[],l=0;l<this.R;l++){a.push([]);for(var t=0;t<this.C;t++)a[l].push(!1),"start"===this.board[l][t].type&&(a[l][t]=!0,n.push([l,t,0,"start"]))}for(var b=[];0!=n.length;){var e=n.shift(),k=Object(r.a)(e,4),i=k[0],s=k[1],o=k[2],h=k[3],g=(n.length,this.dirs.get(h));if("end"===h)return b;var c,d=Object(A.a)(g);try{for(d.s();!(c=d.n()).done;){var u=Object(r.a)(c.value,2),v=u[0],w=u[1],B=(i+v+this.R)%this.R,f=(s+w+this.C)%this.C;if(this.isWithinBound(B,f)){var C=this.board[B][f].type,p=this.dirs.get(C);console.log(B+" "+f+" ",C),!a[B][f]&&"blank"!==this.board[B][f].type&&this.isCompatible(v,w,p)&&(n.push([B,f,o+1,this.board[B][f].type]),b.push([B,f]),a[B][f]=!0,this.board[B][f].isPartPath=!0)}}}catch(y){d.e(y)}finally{d.f()}}return console.log(b),b}},{key:"BFS",value:function(){for(var a=[],n=[],l=0;l<this.R;l++){a.push([]);for(var t=0;t<this.C;t++)a[l].push(!1),"start"===this.board[l][t].type&&(a[l][t]=!0,n.push([l,t,0,"start"]))}for(var b=[];0!=n.length;){var e=n.shift(),k=Object(r.a)(e,4),i=k[0],s=k[1],o=k[2],h=k[3],g=(n.length,this.dirs.get(h));if("end"===h)return b;var c,d=Object(A.a)(g);try{for(d.s();!(c=d.n()).done;){var u=Object(r.a)(c.value,2),v=u[0],w=u[1],B=i+v,f=s+w;if(this.isWithinBound(B,f)){var C=this.board[B][f].type,p=this.dirs.get(C);!a[B][f]&&"blank"!==this.board[B][f].type&&this.isCompatible(v,w,p)&&(n.push([B,f,o+1,this.board[B][f].type]),b.push([B,f]),a[B][f]=!0,this.board[B][f].isPartPath=!0)}}}catch(y){d.e(y)}finally{d.f()}}return console.log(b),b}},{key:"rotate",value:function(a,n,l){if("start"!==l&&"finish"!==l&&"4ways"!==l){var t=-1,b=l.charAt(0),e=+l.charAt(1);"i"===b&&(t=(e+1)%2),"t"!==b&&"d"!==b||(t=(e+1)%4);var k=Object(s.a)(this.getBoard()),i=new c(this,k);this.commandManager.execute(i),this.board[a][n].type=b+t+""}}},{key:"reset",value:function(a){}},{key:"move",value:function(a,n){}},{key:"hasSolution",value:function(){for(var a=[],n=[],l=[],t=0,b=0;b<this.R;b++){a.push([]);for(var e=0;e<this.C;e++)a[b].push(!1),"start"===this.board[b][e].type&&(a[b][e]=!0,l.push([b,e,0,"start"])),"finish"===this.board[b][e].type&&(n.push([b,e]),t++)}for(var k=[];0!=l.length;){var i=l.shift(),s=Object(r.a)(i,4),o=s[0],h=s[1],g=s[2],c=s[3];"finish"===c&&(t-=1);l.length;var d,u=this.dirs.get(c),v=Object(A.a)(u);try{for(v.s();!(d=v.n()).done;){var w=Object(r.a)(d.value,2),B=w[0],f=w[1],C=o+B,p=h+f;if(this.isWithinBound(C,p)){var y=this.board[C][p].type,j=this.dirs.get(y);!a[C][p]&&"blank"!==this.board[C][p].type&&this.isCompatible(B,f,j)&&(l.push([C,p,g+1,this.board[C][p].type]),k.push([C,p]),a[C][p]=!0,this.board[C][p].isPartPath=!0)}}}catch(I){v.e(I)}finally{v.f()}}return 0===t}},{key:"hasSolutionWrapping",value:function(){for(var a=[],n=[],l=[],t=0;t<this.R;t++){a.push([]);for(var b=0;b<this.C;b++)a[t].push(!1),"start"===this.board[t][b].type&&(a[t][b]=!0,l.push([t,b,0,"start"])),"finish"===this.board[t][b].type&&n.push([t,b])}for(var e=[];0!=l.length;){var k,i=l.shift(),s=Object(r.a)(i,4),o=s[0],h=s[1],g=s[2],c=s[3],d=(l.length,this.dirs.get(c)),u=Object(A.a)(d);try{for(u.s();!(k=u.n()).done;){var v=Object(r.a)(k.value,2),w=v[0],B=v[1],f=(o+w+this.R)%this.R,C=(h+B+this.C)%this.C;if(this.isWithinBound(f,C)){var p=this.board[f][C].type,y=this.dirs.get(p);!a[f][C]&&"blank"!==this.board[f][C].type&&this.isCompatible(w,B,y)&&(l.push([f,C,g+1,this.board[f][C].type]),e.push([f,C]),a[f][C]=!0,this.board[f][C].isPartPath=!0)}}}catch(j){u.e(j)}finally{u.f()}}return this.win(n,a)}},{key:"win",value:function(a,n){if(0===a.length)return!1;for(var l=0;l<a.length;l++){var t=a[l][0],b=a[l][1];if(!1===n[t][b])return!1}return!0}},{key:"generateBoard",value:function(){}},{key:"solveBoard",value:function(a){console.log("SOLVING");for(var n=[],l=[],t=0;t<this.R;t++){n.push([]);for(var b=0;b<this.C;b++)n[t].push(!1),"start"===this.board[t][b].type&&(n[t][b]=!0,l.push([t,b]))}if("classic"===a){var e,k=Object(A.a)(l);try{for(k.s();!(e=k.n()).done;){var i=Object(r.a)(e.value,2),s=i[0],o=i[1];this.backtrack(s,o,n)}}catch(v){k.e(v)}finally{k.f()}}else{console.log("wrapping is called");var h,g=Object(A.a)(l);try{for(g.s();!(h=g.n()).done;){var c=Object(r.a)(h.value,2),d=c[0],u=c[1];this.backtrackWrapping(d,u,n)}}catch(v){g.e(v)}finally{g.f()}}console.log("DONE SOLVING")}},{key:"backtrack",value:function(a,n,l){if(console.log(a+" "+n),this.hasSolution()){console.log("a solution exists");for(var t=[],b=0;b<this.R;b++){t[b]=[];for(var e=0;e<this.C;e++){var k=this.board[b][e].deepCopy();t[b].push(k)}}return this.solutionBoard=t,console.log(t),!0}var i=this.board[a][n].type,s=i.charAt(0),A=+i.charAt(1);if("start"===i){l[a][n]=!0;for(var o=0,h=[[1,0],[-1,0],[0,-1],[0,1]];o<h.length;o++){var g=Object(r.a)(h[o],2),c=a+g[0],d=n+g[1];if(this.isWithinBound(c,d)&&"blank"!==this.board[c][d].type&&!l[c][d]&&"finish"!==this.board[c][d].type&&this.backtrack(c,d,l))return!0}l[a][n]=!1}else{l[a][n]=!0;var u=0;"i"===s&&(u=2),"t"!==s&&"d"!=s||(u=4);for(var v=0;v<u;v++){var w=-1;"i"===s&&(w=(A+v)%u),"t"!==s&&"d"!==s||(w=(A+v)%u);var B=s+w;this.board[a][n].type=B;for(var f=0,C=[[1,0],[-1,0],[0,-1],[0,1]];f<C.length;f++){var p=Object(r.a)(C[f],2),y=a+p[0],j=n+p[1];if(this.isWithinBound(y,j)&&"blank"!==this.board[y][j].type&&!l[y][j]&&"finish"!==this.board[y][j].type&&this.backtrack(y,j,l))return!0}}l[a][n]=!1}return!1}},{key:"backtrackWrapping",value:function(a,n,l){if(this.hasSolutionWrapping()){console.log("a solution exists");for(var t=[],b=0;b<this.R;b++){t[b]=[];for(var e=0;e<this.C;e++){var k=this.board[b][e].deepCopy();t[b].push(k)}}return this.solutionBoard=t,console.log(t),!0}var i=this.board[a][n].type,s=i.charAt(0),A=+i.charAt(1);if("start"===i)for(var o=0,h=[[1,0],[-1,0],[0,-1],[0,1]];o<h.length;o++){var g=Object(r.a)(h[o],2),c=g[0],d=g[1],u=(a+c+this.R)%this.R,v=(n+d+this.C)%this.C;if(this.isWithinBound(u,v)&&"blank"!==this.board[u][v].type&&!l[u][v]){if(l[u][v]=!0,this.backtrackWrapping(u,v,l))return!0;l[u][v]=!1}}else{if("finish"===i)return;for(var w=0;w<5;w++){var B=-1;"i"===s&&(B=(A+w)%2),"t"!==s&&"d"!==s||(B=(A+w)%4),this.board[a][n].type=s+B+"";for(var f=0,C=[[1,0],[-1,0],[0,-1],[0,1]];f<C.length;f++){var p=Object(r.a)(C[f],2),y=p[0],j=p[1],I=(a+y+this.R)%this.R,Q=(n+j+this.C)%this.C;if(this.isWithinBound(I,Q)&&"blank"!==this.board[I][Q].type&&!l[I][Q]){if(l[I][Q]=!0,this.backtrackWrapping(I,Q,l))return!0;l[I][Q]=!1}}}}return!1}},{key:"minBFS",value:function(){for(var a=[],n=[],l=0;l<this.R;l++){a.push([]);for(var t=0;t<this.C;t++)a[l].push(!1),"start"===this.board[l][t].type&&(a[l][t]=!0,n.push([l,t,0,"start"]))}for(;0!=n.length;){console.log("processing: ".concat(n[0]));var b=n.shift(),e=Object(r.a)(b,4),k=(e[0],e[1]),i=e[2],s=e[3];if("finish"===s){console.log("rotation needed is: ".concat(i));break}var o=-1,h=s.charAt(0),g=+s.charAt(1),c=1;"i"===h&&(c=2),"t"!==h&&"d"!==h||(c=4),"start"!==s&&"finish"!==s||(c=1),"4ways"===s&&(c=1);for(var d=0;d<c;d++){o=(g+d)%c;var u;"i"===h||"t"===h||"d"===h?(u=this.dirs.get(h+o+""),h+o+""):(u=this.dirs.get(s),s);var v,w=Object(A.a)(u);try{for(w.s();!(v=w.n()).done;){var B=Object(r.a)(v.value,2),f=B[0],C=B[1],p=d+f,y=k+C;if(this.isWithinBound(p,y)&&!a[p][y]&&"blank"!==this.board[p][y].type){var j=this.board[p][y].type,I=this.dirs.get(j);this.isCompatible(f,C,I)?(console.log("a"),n.unshift([p,y,i,this.board[p][y].type]),a[p][y]=!0):(console.log("b"),n.push([p,y,i+1,this.board[p][y].type]),a[p][y]=!0)}}}catch(Q){w.e(Q)}finally{w.f()}}}console.log("done solving")}},{key:"isWithinBound",value:function(a,n){return a>=0&&a<this.R&&n>=0&&n<this.C}},{key:"setBoard",value:function(a){this.board=a}},{key:"getBoard",value:function(){return this.board}},{key:"getLevels",value:function(){return this.levels}},{key:"getCommandManager",value:function(){return this.commandManager}},{key:"getSolutionBoard",value:function(){return this.solutionBoard}}]),a}(),w=l(22),B=l(21),f=l(106),C=l(111),p=l(110),y=l(102),j=function(a){Object(w.a)(l,a);var n=Object(B.a)(l);function l(){return Object(o.a)(this,l),n.apply(this,arguments)}return Object(h.a)(l,[{key:"render",value:function(){var a=this.props,n=a.i,l=a.j,b=a.isStart,e=a.isFinish,k=a.isPartPath,i=(a.imgSrc,a.onClick),s=a.type,r=e?"cell_finish":b?"cell_start":k?"cell_path":"pipe_grid_cell",A="i0"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAYAAAA4TnrqAAABC0lEQVR4Xu3SwQmAMAAEQW3B0izU0tKCIliAC0EQxveShPHW5eNv37Zz1pXHGOuss96c8+ll94NgvfktTwMLVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCIT0z8u6AJFgLFtVL+B3AAAAAElFTkSuQmCC":"i1"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABB0lEQVR4Xu3ZMQEAIQwEwcQC0vDv5V/ElCz9UgzXsdMhgaW6eALEEQQYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtUAHvOR/e8XS+Adr7B2h+E2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW6ACYv983q8cTiDAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOY/GDIddZwfwdcAAAAASUVORK5CYIIA":"finish"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAB+0lEQVR4Xu3aYW6DMAyGYTjH7n+0naMVk5AQBRrzxY7x3v3GJXnyOdB088SfJDBL1RRPAIohABBAUUAsJ4EAigJiOQkEUBQQy0kggKKAWB6WwN/X9BLHelj+M4/9MvB4wL1qNGg5wBU0CrIs4DaZnpgpAK0TvLOfWu/Rul8/EnA/OQtob8jhgD0nZIHs1eIhgGcT64k3KpXugCPwVszWRCoLWRpwgWxBTAs4Mn2tT1H1OtcEHgEqq61O1qMeQFE1FLBa+hZ7ALMm8D/sf64JBFCMNoCdASs+QEJbGEBjImlhI1jLaUjFFLq9B5JAMYFnJyFLCltOSK5unynJbglsPUrqsE5/HzEKtQxg9M+Z6/1cAaNTOAJxOGBr6yn7Zus97mwnQwHViSmoj/lVLuJ1RoVUFtI9gUf7oDLgszZTEJXxlAHcwloxAbyz+3eqKZnATjZNHwNgE9P5RQACKAqI5SQQQFFALHdPYMQ3EdFAKgdQ4nP+146rU2lx3GnKwxOofG1Ko7YZCIDiqgCYGbD6E3ixd00ggGK8AewMWO0JHN7CABoTuW9hAAH8EAh9CpNAEkgCjRn4enloCy+jqdbGAH7N2PUFAGYGPDpQpYWNK1b9Zdq1hTnSN6bt6PLqJzIkUAwJgNkBxfGlL3dPYHoBcYAAAigKiOUkUAR8AztP5FHcQVXrAAAAAElFTkSuQmCC":"start"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAACGklEQVR4Xu3b63GDMBAEYKgj/ZeWOpwhMR4PA0jK6vYe3vwNB+ZjdVIUvC76gQRWqFrFiwDBEAhQgKAAWK4EChAUAMuVQAGCAmC5ElgN8PuxPMB7+i3/WjlrXPcEzgK7Q7fE/AjAHdcC0hWQkb6zZM6EdAPswRu90Z5zzu6PLoB3NzqKdtX7GNfYrk0HZN3YDnt2vVkPiQ7IxpuxHGqdg5bAinjUBF4BzhxOrbRY/J6SwKp4tARaN3KLZPWe0y2B2YfuDuwCWAXPbQgLsLdBPI879kABCvAloB44GIbj4QIUICgAlrskcPaeHGgAlbsBVkF0BayASAHcoLSdBXWKv+KKiLQE3m2xZx7KdMBqSXQBbCFmSmRYwH3IR994cAPsSeH7vBUV0hWwNbGcTfzRIEMAZoYMBZgRMiTgKKTnsA4NmAEyBWBkyFSAvZDMIZ0SsGcNyUJMC9hKowAHts88X15Kn0DvJApwIOlnh5YBvJtYLPthKcArRAEODDP2hFIugewUmgB6v87GfKWYAujxPw7WQ6QBsrfnSwMyMD8G8DjBzlhypO+BrT+vBlYl//rqfhnAd6je7/L24F6l1OPdG5NJpIUwE7N1LesVgAvg8aatQWf01asHFQLQEtQSb/vcIQHPnvZoSq3h9s+YBrCn13kcI0BQXYACBAXAciVQgKAAWK4EChAUAMuVQAGCAmC5EihAUAAsVwJBwB9ttMlRPh89fQAAAABJRU5ErkJgggAA":"d0"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABOElEQVR4Xu3YUQqCQBiF0dxCS2uhLc0tFNWLUEH2CWNxevbOyPGKfzMdBv1Ox+Nly63P8zxtud6naw3Z9HZzAD99RG+uAwjwLuAVjkUACPAh4CscmwAQ4DoBY8w6r6erAQI0B8YOAAS4EDDGxDoABLhOwBizzsscGL0AAnwt4DwwNgMgQAeqsQMAAX4jYJD+Rm2RAQjQeWDsAECADlS36IA5cDvFASv9zX/hAXb/9REBOEog7usVBhgFYlwDAUaBGNdAgFEgxjUQYBSIcQ0EGAViXAMBRoEY18BfBYz3vZv4sAbuRiDeCECAUSDGNRBgFIhxDQQYBWJcAwFGgRjXQIBRIMY1EGAUiHENBBgFYlwDAUaBGNdAgFEgxjUQYBSIcQ0EGAViXAMBRoEY10CAUSDGNRBgFIjxK+ySnRaA3wdtAAAAAElFTkSuQmCC":"d1"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABHElEQVR4Xu3Y0QmEMAAFQW3B0iz0SrOFEwI24Aq5w/F/IYwvCK6LJwmsqRYvAOMIAAKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwv8V8B9277x7D+RT1sgwPj+AQIcAq5wHAJAgFEg5hYIMArE3AIBRoGYWyDAKBBzCwQYBWJugQCjQMwtEGAUiLkFvhnwcxzTBnC5TzvAE7/0AcbrAxDgfQFX+L7dKAECHAK+wnEIAAFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYn4ChvmVdTjkQdkAAAAASUVORK5CYIIA":"d2"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABMElEQVR4Xu3ZwQnCQABFwaQFS7NQS0sLCgYk4Cn7Aisynv0SxqescV08ksCa1sYLwBgBQIBRIM4VCDAKxLkCAUaBOFcgwCgQ5woEGAXiXIEAo0CcKxBgFIhzBQKMAnGuQIBRIM4VCDAKxLkCAUaBOFcgwCgQ5woEGAXiXIEV8H67PeNr/MT8sW1TYlgBtvcfYPNbAALcBXwHxhIAAowCca5AgFEgzhUIMArEuQIBRoE4VyDAKBDnCgQYBeJ8WoHxuofnV9/IBTj8Vky+nRWve3iuwGG6fQgQ4Ftgyl+BCoz1AQT4EfARjjEABOggHRsACHBEwC+REbXDBiBAP+ViAwABHgTckY45AAR4TsAx5pzX17MBAnSMiQ0ABOgceEUD7gdeouggHRkBAjwn8C8H6Rd6x8hRzGFqNgAAAABJRU5ErkJgggAA":"d3"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABLElEQVR4Xu3bwQ2CQABFQbcFSrNQS6MFSTwRb+RtsiGMZx+S2Y8nHa/Fr/e2fWfcwmffx4zrXL3Gkg893yTAq0f2936AAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAp8OOGsB0THny36dBbCd3QAI8CfgEW5DABj9AAKsArH3HQgwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSI+bIFxvt+fL78H+t3PwGA8QQBAowCMbdAgFEg5hYIMArE3AIBRoGYWyDAKBBzCwQYBWJugQCjQMwtEGAUiLkFAowCMbdAgFEg5hYIMArE3AIBRoGYWyDAKBBzC4yAB6OyyFEZbMxMAAAAAElFTkSuQmCC":"t0"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABJElEQVR4Xu3bsQ2DMABFQbwCozFoRmOFpI3o0LNkIY6aB+j8W8a2+Dr2/TvjEz7nOWY85+4zlrz0/yMB3j2yy/0AAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5Bb4dcNYCouNj8wGwnR3A5rcBBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLrICxf32+/I/1p58AwHiCAAFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQVGwB9oI5V10ClTrwAAAABJRU5ErkJgggAA":"t1"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABO0lEQVR4Xu3bQQrCMBAFUHsFj+ZBPVqvoKibQCt08gOB8FxnGnn+knGq223S63G/v0Zu/dz3beT1rl5ryqafNwfw6kf0Zx1AgF8Bt3AYBIAAfwJO4TAJAAHWBLQxNa/DaoAA9YFhBgACbAS0MWEcAAKsCWhjal76wNALIMBzAfPAMBkAARqohhkACLBHQCPdo9bUAARoHhhmACBAA9URGdAHjlOccKVlvgtPsFvrEAE4SyDc1y0MMBQIyyUQYCgQlksgwFAgLJdAgKFAWC6BAEOBsFwCAYYCYbkEAjSRDjMAEGCPgF8m9Kg1NQABrvVQyR9twkQDBFgTcIjUvA6rAQJ0CocZAAiwEdDGhHEACLAmoI2peekDQy+AAM8Flnkq5xQOIw4QYE1AG1PzcgqHXgABamNGZ8A8cIToG3FmFSWEGIs+AAAAAElFTkSuQmCC":"t2"==s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABGklEQVR4Xu3ZwQ1AQABFwd0WlKZQpWmBhA48iYNxfyLj72nn8CSBmWrxABhHABBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFtgBVyX5Yjv+HU+Abb/D7D5DYAAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEVMPaP8zeuErZ9//xS7LMPAPh4e3cIEOAl4AjHIQAEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3wAh4AjCrlXXmpLvzAAAAAElFTkSuQmCC":"t3"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABSklEQVR4Xu3ZUQqCQBQF0NyCS2uhLc0tFDlBggbOuwMSnL59oxzv4GWabhf97vP8HHnrx7JMI9c7u9YlN30/HMCzr+jHdQABrgK2cBgEgACbgK9wmASAAPsE1Jg+r93VAAHqgWEGAALcCKgxYRwAAuwTUGP6vPTA0AsgwGMB54FhMgACdKAaZgAgwIqAIl1R28wABOg8MMxAAxy9lUY8VGWNy46zAFZe13dGAjM/Wzj0AwjwI+AjEkYBIMBQIByXQIChQDgugQBDgXBcAgGGAuG4BAIMBcJxCfxXwPC5y+OjD3IvS2BZIBwECLD9qRQ6lMclsEzXBgECtIXDDAAEuBHQA8M4AATYJ6DG9HntrgYIUI0JMwAQoB44IgNtDT0wtAQIsE9AD+zzUqRDL4AAjwX8qRQmAyBARTrMAECAFQFFuqK2mQEIcBV4ASiGQGDSPWW2AAAAAElFTkSuQmCC":"4ways"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABPklEQVR4Xu3aUWrCUBCG0boFl9aFdmluoVLzEogFJ98FEY7Pd5Jw8l8yGXP5etPv+3r9XXnqn9vtsvJ4rx7rLSf9uziAr96if9YBBPgQsIVjEAAC3AQ8hWMSAAKcCWhjZl6H1QAB6gNjBgAC3AloY2IcAAKcCWhjZl76wOgFEOBzAfPAmAyAAA1UYwYAAjwjoJE+o7arAQjQPDBmYANcvZVWXNQnHQNgvFsAAUaBWC6BAKNALJdAgFEglksgwCgQyyUQYBSI5RIIMArEcgkEGAViuQQCjAKx3JcJADcBX6jGJAAEOBNY/W+gBM78D6sBApwJ2MIzr8NqgAAfAt5EYhAAAvQqFzMAEOAZAW3MGbVdDUCA+sCYAYAAdwLGWTEOAAHOBLQxMy/zwOgFEOBzAfPAmAyAAM0DYwYAfjTgHdcIEprY+NNXAAAAAElFTkSuQmCC":"";return Object(t.jsx)("div",{id:"cell-".concat(n,"-").concat(l),className:"node ".concat(r),onClick:function(){return i(n,l,s)},children:Object(t.jsx)("img",{src:A,alt:""})})}}]),l}(b.Component),I=function(a){Object(w.a)(l,a);var n=Object(B.a)(l);function l(a){var t;return Object(o.a)(this,l),(t=n.call(this,a)).state={refresh:!1},t}return Object(h.a)(l,[{key:"handleClick",value:function(a,n,l){this.props.game.rotate(a,n,l),this.setState({refresh:!this.state.refresh})}},{key:"animatePath",value:function(a){console.log("animating path");for(var n=function(n){setTimeout((function(){var l=a[n];document.getElementById("cell-".concat(l[0],"-").concat(l[1])).className="pipe_grid_cell node-shortest-path"}),5*n)},l=0;l<a.length;l++)n(l)}},{key:"runBFS",value:function(){var a=this.props.selectedLevel.split(" "),n=a[0];a[1];if("classic"===n){var l=this.props.game.BFS();this.animatePath(l)}else if("wrapping"===n){var t=this.props.game.wrappingBFS();this.animatePath(t)}}},{key:"render",value:function(){var a=this,n=this.props.game.getBoard();return Object(t.jsxs)("div",{children:[Object(t.jsx)(y.a,{onClick:function(){return a.runBFS()},children:" FLOW "}),Object(t.jsx)("div",{className:"pipe_board center",children:Object(t.jsx)("div",{className:"grid_container",children:n.map((function(n,l){return Object(t.jsx)("div",{className:"pipe_grid_row",children:n.map((function(n,b){return Object(t.jsx)(j,{isFinish:!1,isStart:!1,isPartPath:n.isPartPath,i:l,j:b,type:n.type,imgSrc:n.imgSrc,onClick:function(l,t,b){return a.handleClick(l,t,n.type)}})}))})}))})})]})}}]),l}(b.Component),Q=function(a){Object(w.a)(l,a);var n=Object(B.a)(l);function l(a){var t;return Object(o.a)(this,l),(t=n.call(this,a)).state={refresh:!1,selectedLevel:"none"},t}return Object(h.a)(l,[{key:"handleChange",value:function(a){var n=a.target.value;if(void 0!==n&&null!==n&&""!==n&&"none"!==n){for(var l=n.split(" "),t=l[0],b=+l[1],e=this.props.game.getLevels().get(t)[b],k=this.props.game.getBoard(),i=0;i<k.length;i++)for(var s=0;s<k[i].length;s++)k[i][s].type=e[i][s],k[i][s].isPartPath=!1;this.setState({refresh:!this.state.refresh,selectedLevel:n})}}},{key:"handleReset",value:function(){console.log("doing a reset");var a=this.state.selectedLevel;if(void 0!==a&&null!==a&&""!==a&&"none"!==a){for(var n=a.split(" "),l=n[0],t=+n[1],b=this.props.game.getLevels().get(l)[t],e=this.props.game.getBoard(),k=0;k<e.length;k++)for(var i=0;i<e[k].length;i++)e[k][i].type=b[k][i],e[k][i].isPartPath=!1;this.setState({refresh:!this.state.refresh,selectedLevel:a})}}},{key:"handleFlowClick",value:function(){}},{key:"handleUndoClick",value:function(){this.props.game.getCommandManager().undo(),this.setState({refresh:!this.state.refresh})}},{key:"handleRedoClick",value:function(){console.log("redoing");var a=this.props.game.getCommandManager();console.log(a.redoStk),a.redo(),this.setState({refresh:!this.state.refresh})}},{key:"handleSolveClick",value:function(){var a=this.props.game;console.log("solve click"),a.minBFS()}},{key:"render",value:function(){var a=this,n=this.props.game,l=n.getLevels();return Object(t.jsxs)("div",{children:[Object(t.jsx)("h1",{children:"Flood Tubes"}),Object(t.jsxs)("div",{className:"hud",children:[Object(t.jsxs)(f.a,{children:[Object(t.jsx)(C.a,{htmlFor:"grouped-native-select",children:"Levels"}),Object(t.jsxs)(p.a,{native:!0,defaultValue:"",id:"grouped-native-select",onChange:function(n){return a.handleChange(n)},children:[Object(t.jsx)("option",{"aria-label":"None",value:""}),Object(s.a)(l.keys()).map((function(a){var n;return Object(t.jsx)("optgroup",{label:a,children:Object(s.a)(Array(null===(n=l.get(a))||void 0===n?void 0:n.length)).map((function(n,l){return Object(t.jsx)("option",{value:"".concat(a," ").concat(l),children:"".concat(a," ").concat(l)})}))})}))]})]}),Object(t.jsx)(y.a,{variant:"outlined",color:"primary",onClick:function(){a.handleReset()},children:" reset "}),Object(t.jsx)(y.a,{variant:"outlined",color:"primary",onClick:function(){a.handleUndoClick()},children:" undo "}),Object(t.jsx)(y.a,{variant:"outlined",color:"primary",onClick:function(){a.handleRedoClick()},children:" redo "}),Object(t.jsx)(y.a,{variant:"outlined",color:"primary",onClick:function(){a.handleSolveClick()},children:" solve "})]}),Object(t.jsx)("div",{children:Object(t.jsx)(I,{game:n,selectedLevel:this.state.selectedLevel})})]})}}]),l}(e.a.Component),E=l(112),O=function(){function a(n,l,t){Object(o.a)(this,a),this.game=void 0,this.curGrid=void 0,this.playerX=void 0,this.playerY=void 0,this.player=void 0,this.game=n,this.curGrid=[];for(var b=0;b<l.length;b++){this.curGrid[b]=[];for(var e=0;e<l[b].length;e++)this.curGrid[b].push(l[b][e].deepCopy())}this.playerX=t.getX(),this.playerY=t.getY(),this.player=t}return Object(h.a)(a,[{key:"execute",value:function(){for(var a=this.game.getBoard(),n=0;n<a.length;n++)for(var l=0;l<a[n].length;l++){var t=a[n][l];t.setI(this.curGrid[n][l].getI()),t.setJ(this.curGrid[n][l].getJ()),t.setType(this.curGrid[n][l].getType()),t.setIsBox(this.curGrid[n][l].getIsBox()),t.setIsPlayer(this.curGrid[n][l].getIsPlayer())}this.player.setX(this.playerX),this.player.setY(this.playerY)}},{key:"undo",value:function(){var a=this.game.getCommandManager().undoStk,n=a.length-1;n>=0&&(console.log(a[n]),a[n].execute())}},{key:"redo",value:function(){for(var a=this.game.getBoard(),n=0;n<a.length;n++)for(var l=0;l<a[n].length;l++){var t=a[n][l];t.setI(this.curGrid[n][l].getI()),t.setJ(this.curGrid[n][l].getJ()),t.setType(this.curGrid[n][l].getType()),t.setIsBox(this.curGrid[n][l].getIsBox()),t.setIsPlayer(this.curGrid[n][l].getIsPlayer())}this.player.setX(this.playerX),this.player.setY(this.playerY)}},{key:"getStateBoard",value:function(){return this.curGrid}}]),a}(),m=function(a){Object(w.a)(l,a);var n=Object(B.a)(l);function l(){return Object(o.a)(this,l),n.apply(this,arguments)}return Object(h.a)(l,[{key:"render",value:function(){var a=this.props,n=a.i,l=a.j,b=(a.imgSrc,a.onClick),e=a.type,k=a.isPlayer,i=a.isBox,s="g"===e?"ground":"w"===e?"wall":"e"===e?"endpoint":"ground",r=!0===k?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJCQzQyNTY5RTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJCQzcyN0ZCRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkJDNDI1NjdFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkJDNDI1NjhFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6SouJPAAAJbklEQVR42uxb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":!0===i?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJCNzFCOTYwRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJCNzFCOTYxRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkI2RDc0OTBFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkI3MUI5NUZFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5zSkZWAAADbUlEQVR42tyb3W4SQRTHz5yCUEuLF5q0F0aSvoBvYCPaa99AY+o9PoG+gXhprD6D11IMvkEfob1pUxOTfoCAYEcOMGWz3WXPLjsfy/+m7Een8/vlMLDTGQGefGo0yitSvAIBO6PDe5OzYgcyHdmavjgHCS1YEd/2qtVjdVWoF18azXcSoDYDX96MOOtvnlff3giYwr/339i+uIB+r5dp2EKxCKVyOcCCrO3tPvuI+83moyB4Cv0iNbB08JPip2oHhH/B8FmXMB9+XPuV/YODlwhCVqIay5qESPjZYPACpeQNelmRwIYfDwNQQSHEYzrodbuZl8CFV6zEjupk5/Iy0xLiwBOrCnovZlVCUnhKzn+TuqG4ujq/NSHg18kJDPp9q/D5QgEebm8ngr9VAdxKaI+u/z47g7ul0rgDNuGpD9SXdgBcFHyogHkSFLyKLQkKXiVMwjz4uQKCJPjhbUnww4dJiIIPHAPCxoThYBAI75XwZ/RT95gQBu+VMAbL5yPhIyvAK+H0+DjyPt2VEAWvQn3lwLMFULqdDvxlPBnqksCFpz5SX7nBOJ2wJUEXfGwBNiTohE8kwKQE3fCJBZiQYAJ+IQE6JZiCX1iADgkm4VMRkKYE0/CpCUhDgg34VAUsIsEWPOtZIIkEyp2ICRP17KBe24DXIiCuBE50waf+FkjydrAJr1VAGhJ0w2sXsIgEE/BGBCSRYAremIDxjNJwqOXeTAjgfs7rnlSxIiAuvGkJ6CK8SQnoKrwpCWgTnkZ7mxOtWr4KJ32w4T47pP1/B3QB3uaUO9qGty0BXYC3KQFdgbclAV2CtyEBXYM3LQFdhDcpAV2FNyUBXYY3ISHnOrxXQpxvjKlWAK3De7C1ZX0mh1sJ1FfuOsYcB54WIaqFiJ2rKyvw3EpYW1+H+5ubN8dR+x2QA69CDdMfsAUfVQl+eM6KVuTCh0kwDR8mwQ/PlYBx4P0SbMH7JYTBcyTk4sJ7GxVCgAtZ29hg9TdoTMAk8JwVmCazyCr3XNbhvRIoUavc/YwIEo6CLmQJPkklzAQIecRp3HX4uBIoUspDlCAOlwU+tgQhWigQ6ssEH0cCsSNtJBYhO0ezCs+RQMxT9kk+N5ofxGTz9NLn1uZpla/ffzy5Fte16Zb5ZdtFfk5b6VFi/fXu05/q5H8BBgA93r8llM20NwAAAABJRU5ErkJggg==":"";return Object(t.jsx)("div",{id:"cell-".concat(n,"-").concat(l),className:"node ".concat(s),onClick:function(){return b(n,l,e)},children:Object(t.jsx)("img",{src:r,alt:""})})}}]),l}(b.Component),F=function(a){Object(w.a)(l,a);var n=Object(B.a)(l);function l(a){var t;return Object(o.a)(this,l),(t=n.call(this,a)).state={refresh:!1},t}return Object(h.a)(l,[{key:"handleKeys",value:function(a){var n=a.key;console.log(n);var l=this.props.game.canMove(n),t=l[0],b=l[1],e=this.props.game;if(t){b?(console.log("move box"),this.props.game.moveBox(n)):(console.log("move player"),this.props.game.movePlayer(n));var k=e.getCommandManager(),i=new O(e,e.getBoard(),e.getPlayer());k.execute(i),console.log(k.undoStk),this.setState({refresh:!this.state.refresh})}}},{key:"handleRedoClick",value:function(){this.props.game.redo(),this.setState({refresh:!this.state.refresh})}},{key:"handleUndoClick",value:function(){console.log("undo is clicked");var a=this.props.game;a.undo(),console.log(a.getCommandManager().undoStk),this.setState({refresh:!this.state.refresh})}},{key:"handleReset",value:function(){var a=this.props.game.getLevelManger().getCurLevel();this.props.game.loadLevel(a),this.setState({refresh:!this.state.refresh})}},{key:"handleChange",value:function(a){var n=a.target.value;this.props.game.loadLevel(n),this.setState({refresh:!this.state.refresh})}},{key:"render",value:function(){var a=this,n=this.props.game.getBoard();return Object(t.jsxs)("div",{children:[Object(t.jsx)("h1",{children:"Sokoban"}),Object(t.jsxs)("div",{className:"hud",children:[Object(t.jsx)(C.a,{id:"label",children:"Levels"}),Object(t.jsxs)(p.a,{labelId:"label",id:"select",onChange:function(n){return a.handleChange(n)},children:[Object(t.jsx)(E.a,{value:"1",children:" 1 "}),Object(t.jsx)(E.a,{value:"2",children:" 2 "}),Object(t.jsx)(E.a,{value:"3",children:" 3 "})]}),Object(t.jsx)(y.a,{variant:"outlined",color:"primary",onClick:function(){a.handleReset()},children:" reset "}),Object(t.jsx)(y.a,{variant:"outlined",color:"primary",onClick:function(){a.handleUndoClick()},children:" undo "}),Object(t.jsx)(y.a,{variant:"outlined",color:"primary",onClick:function(){a.handleRedoClick()},children:" redo "})]}),Object(t.jsx)("div",{className:"pipe_board center",tabIndex:0,onKeyDown:function(n){return a.handleKeys(n)},children:Object(t.jsx)("div",{className:"grid_container",children:n.map((function(a,n){return Object(t.jsx)("div",{className:"pipe_grid_row",children:a.map((function(a,l){return Object(t.jsx)(m,{i:n,j:l,type:a.type,imgSrc:a.type,onClick:function(a,n,l){},isPlayer:a.getIsPlayer(),isBox:a.getIsBox()})}))})}))})})]})}}]),l}(b.Component),Y=function(){function a(n,l){Object(o.a)(this,a),this.x=void 0,this.y=void 0,this.x=n,this.y=l}return Object(h.a)(a,[{key:"setX",value:function(a){this.x=a}},{key:"setY",value:function(a){this.y=a}},{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}}]),a}(),M=function(){function a(n,l,t,b,e){Object(o.a)(this,a),this.i=void 0,this.j=void 0,this.type=void 0,this.isPlayer=void 0,this.isBox=void 0,this.i=n,this.j=l,this.type=t,this.isPlayer=b,this.isBox=e}return Object(h.a)(a,[{key:"deepCopy",value:function(){return new a(this.i,this.j,this.type,this.isPlayer,this.isBox)}},{key:"setIsPlayer",value:function(a){this.isPlayer=a}},{key:"setIsBox",value:function(a){this.isBox=a}},{key:"setI",value:function(a){this.i=a}},{key:"setJ",value:function(a){this.j=a}},{key:"setType",value:function(a){this.type=a}},{key:"getIsPlayer",value:function(){return this.isPlayer}},{key:"getIsBox",value:function(){return this.isBox}},{key:"getI",value:function(){return this.i}},{key:"getJ",value:function(){return this.j}},{key:"getType",value:function(){return this.type}}]),a}(),x=function(){function a(n,l,t,b){Object(o.a)(this,a),this.levelName=void 0,this.baseLayer=void 0,this.boxesPos=void 0,this.playerPos=void 0,this.levelName=n,this.baseLayer=l,this.boxesPos=t,this.playerPos=b}return Object(h.a)(a,[{key:"setBaseLayer",value:function(a){this.baseLayer=a}},{key:"setBoxesPos",value:function(a){this.boxesPos=a}},{key:"setPlayerPos",value:function(a){this.playerPos=a}},{key:"getBaseLayer",value:function(){return this.baseLayer}},{key:"getBoxesPos",value:function(){return this.boxesPos}},{key:"getPlayerPos",value:function(){return this.playerPos}},{key:"getLevelName",value:function(){return this.levelName}}]),a}(),G=function(){function a(){Object(o.a)(this,a),this.curLevel=void 0,this.levels=void 0,this.curLevel="1",this.levels=new Map;var n=new x("level1",[["w","w","w","w","w","w","w","w","w","w"],["w","g","g","g","g","g","g","g","g","w"],["w","w","g","g","g","g","e","g","g","w"],["w","w","g","g","g","w","w","g","g","w"],["w","w","g","g","g","e","e","g","w","w"],["w","w","g","g","g","g","w","g","g","w"],["w","w","g","g","g","g","g","g","g","w"],["w","w","w","g","g","e","w","w","w","w"],["w","w","w","g","g","g","g","g","g","w"],["w","w","w","g","w","w","w","w","w","w"]],[[5,3],[3,3],[2,5]],[[5,5]]),l=new x("level2",[["w","w","w","w","w","w","w","w","w","w"],["w","g","g","g","g","g","g","g","g","w"],["w","g","g","g","g","g","g","g","g","w"],["w","g","g","g","g","w","w","g","g","w"],["w","w","w","w","g","g","g","g","w","w"],["w","e","g","g","g","g","w","g","g","w"],["w","e","g","g","g","g","g","g","g","w"],["w","w","w","g","g","g","w","w","w","w"],["w","w","w","g","g","g","g","g","g","w"],["w","w","w","g","w","w","w","w","w","w"]],[[2,3],[2,2]],[[5,5]]),t=new x("level3",[["w","w","w","w","w","w","w","w","w","w"],["w","w","w","e","g","g","g","g","g","w"],["w","g","g","g","g","g","g","","g","w"],["w","g","g","g","g","w","w","g","g","w"],["w","w","w","g","g","w","g","g","w","w"],["w","w","g","g","g","g","w","g","w","w"],["w","w","g","g","g","g","g","g","w","w"],["w","w","g","g","g","g","w","w","w","w"],["w","w","g","g","g","g","g","g","g","w"],["w","w","w","w","w","w","w","w","w","w"]],[[3,3],[2,2]],[[6,5]]);this.levels.set("1",n),this.levels.set("2",l),this.levels.set("3",t)}return Object(h.a)(a,[{key:"setCurLevel",value:function(a){this.curLevel=a}},{key:"getCurLevel",value:function(){return this.curLevel}},{key:"getLevels",value:function(){return this.levels}},{key:"getLevel",value:function(a){if(void 0!==a||null!==a)return this.levels.get(a)}}]),a}(),S=function(){function a(n,l){Object(o.a)(this,a),this.board=void 0,this.R=void 0,this.C=void 0,this.levelManager=void 0,this.commandManager=void 0,this.levels=void 0,this.dirs=void 0,this.player=void 0,this.commandManager=new g,this.levelManager=new G,this.levels=this.levelManager.getLevels(),this.dirs=new Map,this.dirs.set("w",[-1,0]),this.dirs.set("s",[1,0]),this.dirs.set("a",[0,-1]),this.dirs.set("d",[0,1]),this.board=[],this.R=n,this.C=l;for(var t=0;t<n;t++){this.board[t]=[];for(var b=0;b<l;b++){var e=new M(t,b,"g",!1,!1);this.board[t].push(e)}}this.player=new Y(0,0);var k=new O(this,this.getBoard(),this.player);this.commandManager.execute(k)}return Object(h.a)(a,[{key:"loadLevel",value:function(a){var n=this.levelManager.getLevel(a);if(void 0!==n&&null!==n){this.levelManager.setCurLevel(a);for(var l=n.getBaseLayer(),t=n.getBoxesPos(),b=n.getPlayerPos(),e=0;e<this.board.length;e++)for(var k=0;k<this.board[e].length;k++)this.board[e][k]=new M(e,k,l[e][k],!1,!1);for(var i=0;i<t.length;i++){var s=t[i][0],r=t[i][1];this.board[s][r].setIsBox(!0)}var A=b[0][0],o=b[0][1];this.player.setX(A),this.player.setY(o),this.board[A][o].setIsPlayer(!0)}}},{key:"canMove",value:function(a){var n=this.player.getX(),l=this.player.getY(),t=this.dirs.get(a);if(void 0===t||null===t)return[!1,!1];var b=t[0],e=t[1],k=n+b,i=l+e;if(this.board[k][i].getIsBox()){var s=k+b,r=i+e;if(this.board[s][r].getIsBox())return[!1,!1];if("w"===this.board[s][r].type)return[!1,!1];if("e"===this.board[s][r].type)return[!0,!0];if("g"===this.board[s][r].type)return[!0,!0]}else{if("w"===this.board[k][i].type)return[!1,!1];if("e"===this.board[k][i].type)return[!0,!1];if("g"===this.board[k][i].type)return[!0,!1]}return[!1,!1]}},{key:"movePlayer",value:function(a){var n=this.dirs.get(a);if(void 0===n||null===n)return!1;var l=n[0],t=n[1],b=this.player.getX(),e=this.player.getY(),k=b+l,i=e+t;this.board[b][e].setIsPlayer(!1),this.board[k][i].setIsPlayer(!0),this.player.setX(k),this.player.setY(i)}},{key:"moveBox",value:function(a){var n=this.dirs.get(a);if(void 0===n||null===n)return!1;var l=n[0],t=n[1],b=this.player.getX(),e=this.player.getY(),k=b+l,i=e+t;this.board[b][e].setIsPlayer(!1),this.board[k][i].setIsPlayer(!0),this.player.setX(k),this.player.setY(i);var s=b+2*l,r=e+2*t;this.board[k][i].setIsBox(!1),this.board[s][r].setIsBox(!0)}},{key:"undo",value:function(){this.commandManager.undo()}},{key:"redo",value:function(){this.commandManager.redo()}},{key:"isWithinBound",value:function(a,n){return a>=0&&a<this.R&&n>=0&&n<this.C}},{key:"setBoard",value:function(a){this.board=a}},{key:"getBoard",value:function(){return this.board}},{key:"getLevels",value:function(){return this.levels}},{key:"getCommandManager",value:function(){return this.commandManager}},{key:"getLevelManger",value:function(){return this.levelManager}},{key:"getPlayer",value:function(){return this.player}},{key:"setPlayer",value:function(a){this.player=a}}]),a}(),R=l(107),U=l(108),L=l(109),P=l(48),D=l(12);var N=function(){var a=new v(10,10),n=new S(10,10);return Object(t.jsxs)(P.a,{basename:"/NetGame",children:[Object(t.jsx)("div",{className:"App",children:Object(t.jsxs)(D.c,{children:[Object(t.jsxs)(D.a,{path:"/",exact:!0,children:[Object(t.jsx)("h1",{children:"HOME"}),Object(t.jsx)(P.b,{to:"/sokoban",children:Object(t.jsxs)(R.a,{children:[Object(t.jsx)(U.a,{children:Object(t.jsx)(L.a,{children:Object(t.jsx)("h1",{children:" Sokoban "})})}),"a"]})}),Object(t.jsx)(P.b,{to:"/flushtubes",children:Object(t.jsx)(R.a,{children:Object(t.jsx)(U.a,{children:Object(t.jsx)(L.a,{children:Object(t.jsx)("h1",{children:" Flush Tubes [Under Development]"})})})})})]}),Object(t.jsx)(D.a,{exact:!0,path:"NetGame/sokoban",children:Object(t.jsx)(F,{game:n})}),Object(t.jsx)(D.a,{exact:!0,path:"NetGame/flushtubes",children:Object(t.jsx)(Q,{game:a})})]})}),Object(t.jsx)(F,{game:n})]})},V=function(a){a&&a instanceof Function&&l.e(3).then(l.bind(null,114)).then((function(n){var l=n.getCLS,t=n.getFID,b=n.getFCP,e=n.getLCP,k=n.getTTFB;l(a),t(a),b(a),e(a),k(a)}))};i.a.render(Object(t.jsx)(e.a.StrictMode,{children:Object(t.jsx)(N,{})}),document.getElementById("root")),V()}},[[77,1,2]]]);
//# sourceMappingURL=main.8d965afc.chunk.js.map