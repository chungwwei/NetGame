(this.webpackJsonplight_off=this.webpackJsonplight_off||[]).push([[0],{75:function(a,n,l){},76:function(a,n,l){},77:function(a,n,l){},83:function(a,n,l){"use strict";l.r(n);var e,t=l(2),i=l(0),b=l.n(i),k=l(10),s=l.n(k),r=(l(75),l(76),l(77),l(47)),o=l(13),A=l(27),h=l(7),c=l(8),g=function(){function a(){Object(h.a)(this,a),this.undoStk=[],this.redoStk=[]}return Object(c.a)(a,[{key:"execute",value:function(a){this.undoStk.push(a),this.redoStk=[]}},{key:"executeCommands",value:function(a){}},{key:"undo",value:function(){if(this.undoStk.length>0){var a=this.undoStk.pop();a.undo(),this.redoStk.push(a)}}},{key:"redo",value:function(){if(this.redoStk.length>0){var a=this.redoStk.pop();a.redo(),this.undoStk.push(a)}}}]),a}(),u=function(){function a(n,l){Object(h.a)(this,a),this.game=void 0,this.curGrid=void 0,this.game=n,this.curGrid=[];for(var e=0;e<l.length;e++){this.curGrid[e]=[];for(var t=0;t<l[e].length;t++)this.curGrid[e].push(l[e][t].deepCopy())}}return Object(c.a)(a,[{key:"execute",value:function(){}},{key:"undo",value:function(){this.game.setBoard(this.curGrid)}},{key:"redo",value:function(){this.game.setBoard(this.curGrid)}}]),a}(),d=function(){function a(n,l,e,t,i,b){Object(h.a)(this,a),this.i=void 0,this.j=void 0,this.type=void 0,this.isStart=void 0,this.isFinish=void 0,this.isPartPath=void 0,this.imgSrc=void 0,this.i=n,this.j=l,this.type=e,this.isFinish=i,this.isStart=t,this.isPartPath=b,this.imgSrc="/src/i0.png"}return Object(c.a)(a,[{key:"deepCopy",value:function(){return new a(this.i,this.j,this.type,this.isStart,this.isFinish,this.isPartPath)}}]),a}(),v=function(){function a(){Object(h.a)(this,a),this.levels=void 0,this.currentLevel=void 0,this.levels=new Map,this.currentLevel="none",this.initLevels()}return Object(c.a)(a,[{key:"initLevels",value:function(){var a,n;this.levels.set("classic",[]),this.levels.set("wrapping",[]),null===(a=this.levels.get("classic"))||void 0===a||a.push([["start","t0","d0","blank","blank","blank","blank","blank","blank","blank"],["blank","t0","i0","i0","d0","t2","finish","blank","blank","blank"],["blank","finish","blank","blank","t2","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","start","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","i0","d0","blank","blank","blank","blank","blank","blank","blank"],["blank","d0","d0","blank","blank","blank","blank","blank","blank","blank"],["blank","finish","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["d1","finish","d0","i0","d1","blank","blank","blank","blank","blank"],["d1","blank","d0","d1","d1","blank","blank","blank","blank","blank"],["i0","d0","blank","d1","d1","blank","blank","blank","blank","blank"],["start","i0","i0","i0","t1","finish","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["finish","d1","finish","d1","finish","blank","blank","blank","blank","blank"],["d1","t1","d0","t1","finish","blank","blank","blank","blank","blank"],["finish","i0","start","d1","d1","blank","blank","blank","blank","blank"],["i0","i0","t1","d1","finish","blank","blank","blank","blank","blank"],["d2","d1","d2","t1","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["finish","d1","finish","d1","finish","blank","blank","blank","blank","blank"],["d1","t1","d0","t1","finish","blank","blank","blank","blank","blank"],["finish","i0","start","d1","d1","blank","blank","blank","blank","blank"],["i0","i0","t1","d1","finish","blank","blank","blank","blank","blank"],["d2","d1","d2","t1","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","d0","","blank","blank","blank","blank","blank","blank","blank"],["blank","t0","i0","i0","t1","t2","finish","blank","blank","blank"],["blank","finish","blank","blank","t2","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t0","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","t0","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","t0","i0","i0","t1","t2","finish","blank","blank","blank"],["blank","finish","blank","blank","t2","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t0","t1","finish","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]]),null===(n=this.levels.get("wrapping"))||void 0===n||n.push([["i0","start","blank","blank","blank","blank","blank","blank","d0","i0"],["blank","d0","d0","blank","blank","blank","blank","blank","finish","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","i1","d0","blank","blank","blank","blank","blank","finish","blank"],["i1","i1","t0","blank","blank","blank","blank","blank","d2","i1"],["blank","blank","blank","blank","blank","blank","blank","blank","d1","i1"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","i1","d0","blank","blank","blank","blank","blank","blank","blank"],["i1","i1","t0","t2","finish","blank","blank","blank","d2","i1"],["blank","blank","t1","blank","blank","blank","blank","blank","d1","i1"],["blank","blank","start","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","blank","d0","blank","blank","blank","blank","blank","blank","blank"],["t1","blank","t0","blank","blank","blank","blank","blank","d2","i1"],["d1","i0","d1","blank","blank","blank","blank","blank","d1","i1"],["i0","d2","t1","blank","blank","blank","blank","blank","i0","finish"],["blank","blank","blank","blank","blank","blank","blank","blank","d2","d3"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","blank","blank","blank","t0","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["d0","t1","finish","blank","start","i0","i0","d1","blank","blank"],["t1","blank","blank","blank","i1","blank","blank","d1","i0","i0"],["blank","blank","blank","blank","i1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","i1","d0","blank","blank","blank","blank","blank","finish","blank"],["i1","i1","t0","t2","finish","blank","blank","blank","d2","i1"],["blank","blank","t1","blank","blank","blank","blank","blank","d1","i1"],["blank","blank","start","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","i1","d0","blank","blank","blank","blank","blank","finish","blank"],["i1","i1","t0","t2","finish","blank","blank","blank","t1","i1"],["blank","blank","t1","blank","blank","blank","blank","blank","t1","i1"],["blank","blank","start","blank","blank","blank","blank","finish","d0","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]])}}]),a}(),f=function(){function a(n,l){Object(h.a)(this,a),this.board=void 0,this.R=void 0,this.C=void 0,this.dirs=void 0,this.levelManager=void 0,this.commandManager=void 0,this.levels=void 0,this.solutionBoard=void 0,this.commandManager=new g,this.levelManager=new v,this.levels=this.levelManager.levels,this.board=[],this.R=n,this.C=l;for(var e=0;e<n;e++){this.board[e]=[];for(var t=0;t<l;t++){var i=new d(e,t,"blank",!1,!1,!1);this.board[e].push(i)}}this.dirs=new Map,this.dirs.set("i0",[[1,0],[-1,0]]),this.dirs.set("i1",[[0,-1],[0,1]]),this.dirs.set("d0",[[-1,0],[0,1]]),this.dirs.set("d1",[[1,0],[0,1]]),this.dirs.set("d2",[[1,0],[0,-1]]),this.dirs.set("d3",[[-1,0],[0,-1]]),this.dirs.set("t0",[[-1,0],[0,-1],[0,1]]),this.dirs.set("t1",[[1,0],[-1,0],[0,1]]),this.dirs.set("t2",[[0,1],[0,-1],[1,0]]),this.dirs.set("t3",[[1,0],[-1,0],[0,-1]]),this.dirs.set("e0",[[-1,0]]),this.dirs.set("e1",[[0,1]]),this.dirs.set("e2",[[1,0]]),this.dirs.set("e3",[[0,-1]]),this.dirs.set("blank",[[]]),this.dirs.set("4ways",[[1,0],[-1,0],[0,-1],[0,1]]),this.dirs.set("start",[[1,0],[-1,0],[0,-1],[0,1]]),this.dirs.set("finish",[[1,0],[-1,0],[0,-1],[0,1]])}return Object(c.a)(a,[{key:"isCompatible",value:function(a,n,l){var e,t=Object(A.a)(l);try{for(t.s();!(e=t.n()).done;){var i=Object(o.a)(e.value,2),b=i[0],k=i[1];if(a===-b&&n===-k)return!0}}catch(s){t.e(s)}finally{t.f()}return!1}},{key:"wrappingBFS",value:function(){for(var a=[],n=[],l=0;l<this.R;l++){a.push([]);for(var e=0;e<this.C;e++)a[l].push(!1),"start"===this.board[l][e].type&&(a[l][e]=!0,n.push([l,e,0,"start"]))}for(var t=[];0!=n.length;){var i=n.shift(),b=Object(o.a)(i,4),k=b[0],s=b[1],r=b[2],h=b[3],c=(n.length,this.dirs.get(h));if("end"===h)return t;var g,u=Object(A.a)(c);try{for(u.s();!(g=u.n()).done;){var d=Object(o.a)(g.value,2),v=d[0],f=d[1],B=(k+v+this.R)%this.R,w=(s+f+this.C)%this.C;if(this.isWithinBound(B,w)){var C=this.board[B][w].type,y=this.dirs.get(C);console.log(B+" "+w+" ",C),!a[B][w]&&"blank"!==this.board[B][w].type&&this.isCompatible(v,f,y)&&(n.push([B,w,r+1,this.board[B][w].type]),t.push([B,w]),a[B][w]=!0,this.board[B][w].isPartPath=!0)}}}catch(p){u.e(p)}finally{u.f()}}return console.log(t),t}},{key:"BFS",value:function(){for(var a=[],n=[],l=0;l<this.R;l++){a.push([]);for(var e=0;e<this.C;e++)a[l].push(!1),"start"===this.board[l][e].type&&(a[l][e]=!0,n.push([l,e,0,"start"]))}for(var t=[];0!=n.length;){var i=n.shift(),b=Object(o.a)(i,4),k=b[0],s=b[1],r=b[2],h=b[3],c=(n.length,this.dirs.get(h));if("end"===h)return t;var g,u=Object(A.a)(c);try{for(u.s();!(g=u.n()).done;){var d=Object(o.a)(g.value,2),v=d[0],f=d[1],B=k+v,w=s+f;if(this.isWithinBound(B,w)){var C=this.board[B][w].type,y=this.dirs.get(C);!a[B][w]&&"blank"!==this.board[B][w].type&&this.isCompatible(v,f,y)&&(n.push([B,w,r+1,this.board[B][w].type]),t.push([B,w]),a[B][w]=!0,this.board[B][w].isPartPath=!0)}}}catch(p){u.e(p)}finally{u.f()}}return console.log(t),t}},{key:"rotate",value:function(a,n,l){if("start"!==l&&"finish"!==l&&"4ways"!==l){var e=-1,t=l.charAt(0),i=+l.charAt(1);"i"===t&&(e=(i+1)%2),"t"!==t&&"d"!==t||(e=(i+1)%4);var b=Object(r.a)(this.getBoard()),k=new u(this,b);this.commandManager.execute(k),this.board[a][n].type=t+e+""}}},{key:"reset",value:function(a){}},{key:"move",value:function(a,n){}},{key:"hasSolution",value:function(){for(var a=[],n=[],l=[],e=0,t=0;t<this.R;t++){a.push([]);for(var i=0;i<this.C;i++)a[t].push(!1),"start"===this.board[t][i].type&&(a[t][i]=!0,l.push([t,i,0,"start"])),"finish"===this.board[t][i].type&&(n.push([t,i]),e++)}for(var b=[];0!=l.length;){var k=l.shift(),s=Object(o.a)(k,4),r=s[0],h=s[1],c=s[2],g=s[3];"finish"===g&&(e-=1);l.length;var u,d=this.dirs.get(g),v=Object(A.a)(d);try{for(v.s();!(u=v.n()).done;){var f=Object(o.a)(u.value,2),B=f[0],w=f[1],C=r+B,y=h+w;if(this.isWithinBound(C,y)){var p=this.board[C][y].type,j=this.dirs.get(p);!a[C][y]&&"blank"!==this.board[C][y].type&&this.isCompatible(B,w,j)&&(l.push([C,y,c+1,this.board[C][y].type]),b.push([C,y]),a[C][y]=!0,this.board[C][y].isPartPath=!0)}}}catch(I){v.e(I)}finally{v.f()}}return 0===e}},{key:"hasSolutionWrapping",value:function(){for(var a=[],n=[],l=[],e=0;e<this.R;e++){a.push([]);for(var t=0;t<this.C;t++)a[e].push(!1),"start"===this.board[e][t].type&&(a[e][t]=!0,l.push([e,t,0,"start"])),"finish"===this.board[e][t].type&&n.push([e,t])}for(var i=[];0!=l.length;){var b,k=l.shift(),s=Object(o.a)(k,4),r=s[0],h=s[1],c=s[2],g=s[3],u=(l.length,this.dirs.get(g)),d=Object(A.a)(u);try{for(d.s();!(b=d.n()).done;){var v=Object(o.a)(b.value,2),f=v[0],B=v[1],w=(r+f+this.R)%this.R,C=(h+B+this.C)%this.C;if(this.isWithinBound(w,C)){var y=this.board[w][C].type,p=this.dirs.get(y);!a[w][C]&&"blank"!==this.board[w][C].type&&this.isCompatible(f,B,p)&&(l.push([w,C,c+1,this.board[w][C].type]),i.push([w,C]),a[w][C]=!0,this.board[w][C].isPartPath=!0)}}}catch(j){d.e(j)}finally{d.f()}}return this.win(n,a)}},{key:"win",value:function(a,n){if(0===a.length)return!1;for(var l=0;l<a.length;l++){var e=a[l][0],t=a[l][1];if(!1===n[e][t])return!1}return!0}},{key:"generateBoard",value:function(){}},{key:"solveBoard",value:function(a){console.log("SOLVING");for(var n=[],l=[],e=0;e<this.R;e++){n.push([]);for(var t=0;t<this.C;t++)n[e].push(!1),"start"===this.board[e][t].type&&(n[e][t]=!0,l.push([e,t]))}if("classic"===a){var i,b=Object(A.a)(l);try{for(b.s();!(i=b.n()).done;){var k=Object(o.a)(i.value,2),s=k[0],r=k[1];this.backtrack(s,r,n)}}catch(v){b.e(v)}finally{b.f()}}else{console.log("wrapping is called");var h,c=Object(A.a)(l);try{for(c.s();!(h=c.n()).done;){var g=Object(o.a)(h.value,2),u=g[0],d=g[1];this.backtrackWrapping(u,d,n)}}catch(v){c.e(v)}finally{c.f()}}console.log("DONE SOLVING")}},{key:"backtrack",value:function(a,n,l){if(console.log(a+" "+n),this.hasSolution()){console.log("a solution exists");for(var e=[],t=0;t<this.R;t++){e[t]=[];for(var i=0;i<this.C;i++){var b=this.board[t][i].deepCopy();e[t].push(b)}}return this.solutionBoard=e,console.log(e),!0}var k=this.board[a][n].type,s=k.charAt(0),r=+k.charAt(1);if("start"===k){l[a][n]=!0;for(var A=0,h=[[1,0],[-1,0],[0,-1],[0,1]];A<h.length;A++){var c=Object(o.a)(h[A],2),g=a+c[0],u=n+c[1];if(this.isWithinBound(g,u)&&"blank"!==this.board[g][u].type&&!l[g][u]&&"finish"!==this.board[g][u].type&&this.backtrack(g,u,l))return!0}l[a][n]=!1}else{l[a][n]=!0;var d=0;"i"===s&&(d=2),"t"!==s&&"d"!=s||(d=4);for(var v=0;v<d;v++){var f=-1;"i"===s&&(f=(r+v)%d),"t"!==s&&"d"!==s||(f=(r+v)%d);var B=s+f;this.board[a][n].type=B;for(var w=0,C=[[1,0],[-1,0],[0,-1],[0,1]];w<C.length;w++){var y=Object(o.a)(C[w],2),p=a+y[0],j=n+y[1];if(this.isWithinBound(p,j)&&"blank"!==this.board[p][j].type&&!l[p][j]&&"finish"!==this.board[p][j].type&&this.backtrack(p,j,l))return!0}}l[a][n]=!1}return!1}},{key:"backtrackWrapping",value:function(a,n,l){if(this.hasSolutionWrapping()){console.log("a solution exists");for(var e=[],t=0;t<this.R;t++){e[t]=[];for(var i=0;i<this.C;i++){var b=this.board[t][i].deepCopy();e[t].push(b)}}return this.solutionBoard=e,console.log(e),!0}var k=this.board[a][n].type,s=k.charAt(0),r=+k.charAt(1);if("start"===k)for(var A=0,h=[[1,0],[-1,0],[0,-1],[0,1]];A<h.length;A++){var c=Object(o.a)(h[A],2),g=c[0],u=c[1],d=(a+g+this.R)%this.R,v=(n+u+this.C)%this.C;if(this.isWithinBound(d,v)&&"blank"!==this.board[d][v].type&&!l[d][v]){if(l[d][v]=!0,this.backtrackWrapping(d,v,l))return!0;l[d][v]=!1}}else{if("finish"===k)return;for(var f=0;f<5;f++){var B=-1;"i"===s&&(B=(r+f)%2),"t"!==s&&"d"!==s||(B=(r+f)%4),this.board[a][n].type=s+B+"";for(var w=0,C=[[1,0],[-1,0],[0,-1],[0,1]];w<C.length;w++){var y=Object(o.a)(C[w],2),p=y[0],j=y[1],I=(a+p+this.R)%this.R,m=(n+j+this.C)%this.C;if(this.isWithinBound(I,m)&&"blank"!==this.board[I][m].type&&!l[I][m]){if(l[I][m]=!0,this.backtrackWrapping(I,m,l))return!0;l[I][m]=!1}}}}return!1}},{key:"minBFS",value:function(){for(var a=[],n=[],l=0;l<this.R;l++){a.push([]);for(var e=0;e<this.C;e++)a[l].push(!1),"start"===this.board[l][e].type&&(a[l][e]=!0,n.push([l,e,0,"start"]))}for(;0!=n.length;){console.log("processing: ".concat(n[0]));var t=n.shift(),i=Object(o.a)(t,4),b=(i[0],i[1]),k=i[2],s=i[3];if("finish"===s){console.log("rotation needed is: ".concat(k));break}var r=-1,h=s.charAt(0),c=+s.charAt(1),g=1;"i"===h&&(g=2),"t"!==h&&"d"!==h||(g=4),"start"!==s&&"finish"!==s||(g=1),"4ways"===s&&(g=1);for(var u=0;u<g;u++){r=(c+u)%g;var d;"i"===h||"t"===h||"d"===h?(d=this.dirs.get(h+r+""),h+r+""):(d=this.dirs.get(s),s);var v,f=Object(A.a)(d);try{for(f.s();!(v=f.n()).done;){var B=Object(o.a)(v.value,2),w=B[0],C=B[1],y=u+w,p=b+C;if(this.isWithinBound(y,p)&&!a[y][p]&&"blank"!==this.board[y][p].type){var j=this.board[y][p].type,I=this.dirs.get(j);this.isCompatible(w,C,I)?(console.log("a"),n.unshift([y,p,k,this.board[y][p].type]),a[y][p]=!0):(console.log("b"),n.push([y,p,k+1,this.board[y][p].type]),a[y][p]=!0)}}}catch(m){f.e(m)}finally{f.f()}}}console.log("done solving")}},{key:"isWithinBound",value:function(a,n){return a>=0&&a<this.R&&n>=0&&n<this.C}},{key:"setBoard",value:function(a){this.board=a}},{key:"getBoard",value:function(){return this.board}},{key:"getLevels",value:function(){return this.levels}},{key:"getCommandManager",value:function(){return this.commandManager}},{key:"getSolutionBoard",value:function(){return this.solutionBoard}}]),a}(),B=l(25),w=l(24),C=l(114),y=l(121),p=l(118),j=l(110),I=function(a){Object(B.a)(l,a);var n=Object(w.a)(l);function l(){return Object(h.a)(this,l),n.apply(this,arguments)}return Object(c.a)(l,[{key:"render",value:function(){var a=this.props,n=a.i,l=a.j,e=a.isStart,i=a.isFinish,b=a.isPartPath,k=(a.imgSrc,a.onClick),s=a.type,r=i?"cell_finish":e?"cell_start":b?"cell_path":"pipe_grid_cell",o="i0"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAYAAAA4TnrqAAABC0lEQVR4Xu3SwQmAMAAEQW3B0izU0tKCIliAC0EQxveShPHW5eNv37Zz1pXHGOuss96c8+ll94NgvfktTwMLVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCIT0z8u6AJFgLFtVL+B3AAAAAElFTkSuQmCC":"i1"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABB0lEQVR4Xu3ZMQEAIQwEwcQC0vDv5V/ElCz9UgzXsdMhgaW6eALEEQQYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtUAHvOR/e8XS+Adr7B2h+E2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW6ACYv983q8cTiDAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOY/GDIddZwfwdcAAAAASUVORK5CYIIA":"finish"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAB+0lEQVR4Xu3aYW6DMAyGYTjH7n+0naMVk5AQBRrzxY7x3v3GJXnyOdB088SfJDBL1RRPAIohABBAUUAsJ4EAigJiOQkEUBQQy0kggKKAWB6WwN/X9BLHelj+M4/9MvB4wL1qNGg5wBU0CrIs4DaZnpgpAK0TvLOfWu/Rul8/EnA/OQtob8jhgD0nZIHs1eIhgGcT64k3KpXugCPwVszWRCoLWRpwgWxBTAs4Mn2tT1H1OtcEHgEqq61O1qMeQFE1FLBa+hZ7ALMm8D/sf64JBFCMNoCdASs+QEJbGEBjImlhI1jLaUjFFLq9B5JAMYFnJyFLCltOSK5unynJbglsPUrqsE5/HzEKtQxg9M+Z6/1cAaNTOAJxOGBr6yn7Zus97mwnQwHViSmoj/lVLuJ1RoVUFtI9gUf7oDLgszZTEJXxlAHcwloxAbyz+3eqKZnATjZNHwNgE9P5RQACKAqI5SQQQFFALHdPYMQ3EdFAKgdQ4nP+146rU2lx3GnKwxOofG1Ko7YZCIDiqgCYGbD6E3ixd00ggGK8AewMWO0JHN7CABoTuW9hAAH8EAh9CpNAEkgCjRn4enloCy+jqdbGAH7N2PUFAGYGPDpQpYWNK1b9Zdq1hTnSN6bt6PLqJzIkUAwJgNkBxfGlL3dPYHoBcYAAAigKiOUkUAR8AztP5FHcQVXrAAAAAElFTkSuQmCC":"start"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAACGklEQVR4Xu3b63GDMBAEYKgj/ZeWOpwhMR4PA0jK6vYe3vwNB+ZjdVIUvC76gQRWqFrFiwDBEAhQgKAAWK4EChAUAMuVQAGCAmC5ElgN8PuxPMB7+i3/WjlrXPcEzgK7Q7fE/AjAHdcC0hWQkb6zZM6EdAPswRu90Z5zzu6PLoB3NzqKdtX7GNfYrk0HZN3YDnt2vVkPiQ7IxpuxHGqdg5bAinjUBF4BzhxOrbRY/J6SwKp4tARaN3KLZPWe0y2B2YfuDuwCWAXPbQgLsLdBPI879kABCvAloB44GIbj4QIUICgAlrskcPaeHGgAlbsBVkF0BayASAHcoLSdBXWKv+KKiLQE3m2xZx7KdMBqSXQBbCFmSmRYwH3IR994cAPsSeH7vBUV0hWwNbGcTfzRIEMAZoYMBZgRMiTgKKTnsA4NmAEyBWBkyFSAvZDMIZ0SsGcNyUJMC9hKowAHts88X15Kn0DvJApwIOlnh5YBvJtYLPthKcArRAEODDP2hFIugewUmgB6v87GfKWYAujxPw7WQ6QBsrfnSwMyMD8G8DjBzlhypO+BrT+vBlYl//rqfhnAd6je7/L24F6l1OPdG5NJpIUwE7N1LesVgAvg8aatQWf01asHFQLQEtQSb/vcIQHPnvZoSq3h9s+YBrCn13kcI0BQXYACBAXAciVQgKAAWK4EChAUAMuVQAGCAmC5EihAUAAsVwJBwB9ttMlRPh89fQAAAABJRU5ErkJgggAA":"d0"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABOElEQVR4Xu3YUQqCQBiF0dxCS2uhLc0tFNWLUEH2CWNxevbOyPGKfzMdBv1Ox+Nly63P8zxtud6naw3Z9HZzAD99RG+uAwjwLuAVjkUACPAh4CscmwAQ4DoBY8w6r6erAQI0B8YOAAS4EDDGxDoABLhOwBizzsscGL0AAnwt4DwwNgMgQAeqsQMAAX4jYJD+Rm2RAQjQeWDsAECADlS36IA5cDvFASv9zX/hAXb/9REBOEog7usVBhgFYlwDAUaBGNdAgFEgxjUQYBSIcQ0EGAViXAMBRoEY18BfBYz3vZv4sAbuRiDeCECAUSDGNRBgFIhxDQQYBWJcAwFGgRjXQIBRIMY1EGAUiHENBBgFYlwDAUaBGNdAgFEgxjUQYBSIcQ0EGAViXAMBRoEY10CAUSDGNRBgFIjxK+ySnRaA3wdtAAAAAElFTkSuQmCC":"d1"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABHElEQVR4Xu3Y0QmEMAAFQW3B0iz0SrOFEwI24Aq5w/F/IYwvCK6LJwmsqRYvAOMIAAKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwv8V8B9277x7D+RT1sgwPj+AQIcAq5wHAJAgFEg5hYIMArE3AIBRoGYWyDAKBBzCwQYBWJugQCjQMwtEGAUiLkFvhnwcxzTBnC5TzvAE7/0AcbrAxDgfQFX+L7dKAECHAK+wnEIAAFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYn4ChvmVdTjkQdkAAAAASUVORK5CYIIA":"d2"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABMElEQVR4Xu3ZwQnCQABFwaQFS7NQS0sLCgYk4Cn7Aisynv0SxqescV08ksCa1sYLwBgBQIBRIM4VCDAKxLkCAUaBOFcgwCgQ5woEGAXiXIEAo0CcKxBgFIhzBQKMAnGuQIBRIM4VCDAKxLkCAUaBOFcgwCgQ5woEGAXiXIEV8H67PeNr/MT8sW1TYlgBtvcfYPNbAALcBXwHxhIAAowCca5AgFEgzhUIMArEuQIBRoE4VyDAKBDnCgQYBeJ8WoHxuofnV9/IBTj8Vky+nRWve3iuwGG6fQgQ4Ftgyl+BCoz1AQT4EfARjjEABOggHRsACHBEwC+REbXDBiBAP+ViAwABHgTckY45AAR4TsAx5pzX17MBAnSMiQ0ABOgceEUD7gdeouggHRkBAjwn8C8H6Rd6x8hRzGFqNgAAAABJRU5ErkJgggAA":"d3"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABLElEQVR4Xu3bwQ2CQABFQbcFSrNQS6MFSTwRb+RtsiGMZx+S2Y8nHa/Fr/e2fWfcwmffx4zrXL3Gkg893yTAq0f2936AAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAp8OOGsB0THny36dBbCd3QAI8CfgEW5DABj9AAKsArH3HQgwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSI+bIFxvt+fL78H+t3PwGA8QQBAowCMbdAgFEg5hYIMArE3AIBRoGYWyDAKBBzCwQYBWJugQCjQMwtEGAUiLkFAowCMbdAgFEg5hYIMArE3AIBRoGYWyDAKBBzC4yAB6OyyFEZbMxMAAAAAElFTkSuQmCC":"t0"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABJElEQVR4Xu3bsQ2DMABFQbwCozFoRmOFpI3o0LNkIY6aB+j8W8a2+Dr2/TvjEz7nOWY85+4zlrz0/yMB3j2yy/0AAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5Bb4dcNYCouNj8wGwnR3A5rcBBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLrICxf32+/I/1p58AwHiCAAFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQVGwB9oI5V10ClTrwAAAABJRU5ErkJgggAA":"t1"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABO0lEQVR4Xu3bQQrCMBAFUHsFj+ZBPVqvoKibQCt08gOB8FxnGnn+knGq223S63G/v0Zu/dz3beT1rl5ryqafNwfw6kf0Zx1AgF8Bt3AYBIAAfwJO4TAJAAHWBLQxNa/DaoAA9YFhBgACbAS0MWEcAAKsCWhjal76wNALIMBzAfPAMBkAARqohhkACLBHQCPdo9bUAARoHhhmACBAA9URGdAHjlOccKVlvgtPsFvrEAE4SyDc1y0MMBQIyyUQYCgQlksgwFAgLJdAgKFAWC6BAEOBsFwCAYYCYbkEAjSRDjMAEGCPgF8m9Kg1NQABrvVQyR9twkQDBFgTcIjUvA6rAQJ0CocZAAiwEdDGhHEACLAmoI2peekDQy+AAM8Flnkq5xQOIw4QYE1AG1PzcgqHXgABamNGZ8A8cIToG3FmFSWEGIs+AAAAAElFTkSuQmCC":"t2"==s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABGklEQVR4Xu3ZwQ1AQABFwd0WlKZQpWmBhA48iYNxfyLj72nn8CSBmWrxABhHABBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFtgBVyX5Yjv+HU+Abb/D7D5DYAAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEVMPaP8zeuErZ9//xS7LMPAPh4e3cIEOAl4AjHIQAEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3wAh4AjCrlXXmpLvzAAAAAElFTkSuQmCC":"t3"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABSklEQVR4Xu3ZUQqCQBQF0NyCS2uhLc0tFDlBggbOuwMSnL59oxzv4GWabhf97vP8HHnrx7JMI9c7u9YlN30/HMCzr+jHdQABrgK2cBgEgACbgK9wmASAAPsE1Jg+r93VAAHqgWEGAALcCKgxYRwAAuwTUGP6vPTA0AsgwGMB54FhMgACdKAaZgAgwIqAIl1R28wABOg8MMxAAxy9lUY8VGWNy46zAFZe13dGAjM/Wzj0AwjwI+AjEkYBIMBQIByXQIChQDgugQBDgXBcAgGGAuG4BAIMBcJxCfxXwPC5y+OjD3IvS2BZIBwECLD9qRQ6lMclsEzXBgECtIXDDAAEuBHQA8M4AATYJ6DG9HntrgYIUI0JMwAQoB44IgNtDT0wtAQIsE9AD+zzUqRDL4AAjwX8qRQmAyBARTrMAECAFQFFuqK2mQEIcBV4ASiGQGDSPWW2AAAAAElFTkSuQmCC":"4ways"===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABPklEQVR4Xu3aUWrCUBCG0boFl9aFdmluoVLzEogFJ98FEY7Pd5Jw8l8yGXP5etPv+3r9XXnqn9vtsvJ4rx7rLSf9uziAr96if9YBBPgQsIVjEAAC3AQ8hWMSAAKcCWhjZl6H1QAB6gNjBgAC3AloY2IcAAKcCWhjZl76wOgFEOBzAfPAmAyAAA1UYwYAAjwjoJE+o7arAQjQPDBmYANcvZVWXNQnHQNgvFsAAUaBWC6BAKNALJdAgFEglksgwCgQyyUQYBSI5RIIMArEcgkEGAViuQQCjAKx3JcJADcBX6jGJAAEOBNY/W+gBM78D6sBApwJ2MIzr8NqgAAfAt5EYhAAAvQqFzMAEOAZAW3MGbVdDUCA+sCYAYAAdwLGWTEOAAHOBLQxMy/zwOgFEOBzAfPAmAyAAM0DYwYAfjTgHdcIEprY+NNXAAAAAElFTkSuQmCC":"";return Object(t.jsx)("div",{id:"cell-".concat(n,"-").concat(l),className:"node ".concat(r),onClick:function(){return k(n,l,s)},children:Object(t.jsx)("img",{src:o,alt:""})})}}]),l}(i.Component),m=function(a){Object(B.a)(l,a);var n=Object(w.a)(l);function l(a){var e;return Object(h.a)(this,l),(e=n.call(this,a)).state={refresh:!1},e}return Object(c.a)(l,[{key:"handleClick",value:function(a,n,l){this.props.game.rotate(a,n,l),this.setState({refresh:!this.state.refresh})}},{key:"animatePath",value:function(a){console.log("animating path");for(var n=function(n){setTimeout((function(){var l=a[n];document.getElementById("cell-".concat(l[0],"-").concat(l[1])).className="pipe_grid_cell node-shortest-path"}),5*n)},l=0;l<a.length;l++)n(l)}},{key:"runBFS",value:function(){var a=this.props.selectedLevel.split(" "),n=a[0];a[1];if("classic"===n){var l=this.props.game.BFS();this.animatePath(l)}else if("wrapping"===n){var e=this.props.game.wrappingBFS();this.animatePath(e)}}},{key:"render",value:function(){var a=this,n=this.props.game.getBoard();return Object(t.jsxs)("div",{children:[Object(t.jsx)(j.a,{onClick:function(){return a.runBFS()},children:" FLOW "}),Object(t.jsx)("div",{className:"pipe_board center",children:Object(t.jsx)("div",{className:"grid_container",children:n.map((function(n,l){return Object(t.jsx)("div",{className:"pipe_grid_row",children:n.map((function(n,e){return Object(t.jsx)(I,{isFinish:!1,isStart:!1,isPartPath:n.isPartPath,i:l,j:e,type:n.type,imgSrc:n.imgSrc,onClick:function(l,e,t){return a.handleClick(l,e,n.type)}})}))})}))})})]})}}]),l}(i.Component),O=function(a){Object(B.a)(l,a);var n=Object(w.a)(l);function l(a){var e;return Object(h.a)(this,l),(e=n.call(this,a)).state={refresh:!1,selectedLevel:"none"},e}return Object(c.a)(l,[{key:"handleChange",value:function(a){var n=a.target.value;if(void 0!==n&&null!==n&&""!==n&&"none"!==n){for(var l=n.split(" "),e=l[0],t=+l[1],i=this.props.game.getLevels().get(e)[t],b=this.props.game.getBoard(),k=0;k<b.length;k++)for(var s=0;s<b[k].length;s++)b[k][s].type=i[k][s],b[k][s].isPartPath=!1;this.setState({refresh:!this.state.refresh,selectedLevel:n})}}},{key:"handleReset",value:function(){console.log("doing a reset");var a=this.state.selectedLevel;if(void 0!==a&&null!==a&&""!==a&&"none"!==a){for(var n=a.split(" "),l=n[0],e=+n[1],t=this.props.game.getLevels().get(l)[e],i=this.props.game.getBoard(),b=0;b<i.length;b++)for(var k=0;k<i[b].length;k++)i[b][k].type=t[b][k],i[b][k].isPartPath=!1;this.setState({refresh:!this.state.refresh,selectedLevel:a})}}},{key:"handleFlowClick",value:function(){}},{key:"handleUndoClick",value:function(){this.props.game.getCommandManager().undo(),this.setState({refresh:!this.state.refresh})}},{key:"handleRedoClick",value:function(){console.log("redoing");var a=this.props.game.getCommandManager();console.log(a.redoStk),a.redo(),this.setState({refresh:!this.state.refresh})}},{key:"handleSolveClick",value:function(){var a=this.props.game;console.log("solve click"),a.minBFS()}},{key:"render",value:function(){var a=this,n=this.props.game,l=n.getLevels();return Object(t.jsxs)("div",{children:[Object(t.jsx)("h1",{children:"Flood Tubes"}),Object(t.jsxs)("div",{className:"hud",children:[Object(t.jsxs)(C.a,{children:[Object(t.jsx)(y.a,{htmlFor:"grouped-native-select",children:"Levels"}),Object(t.jsxs)(p.a,{native:!0,defaultValue:"",id:"grouped-native-select",onChange:function(n){return a.handleChange(n)},children:[Object(t.jsx)("option",{"aria-label":"None",value:""}),Object(r.a)(l.keys()).map((function(a){var n;return Object(t.jsx)("optgroup",{label:a,children:Object(r.a)(Array(null===(n=l.get(a))||void 0===n?void 0:n.length)).map((function(n,l){return Object(t.jsx)("option",{value:"".concat(a," ").concat(l),children:"".concat(a," ").concat(l)})}))})}))]})]}),Object(t.jsx)(j.a,{variant:"outlined",color:"primary",onClick:function(){a.handleReset()},children:" reset "}),Object(t.jsx)(j.a,{variant:"outlined",color:"primary",onClick:function(){a.handleUndoClick()},children:" undo "}),Object(t.jsx)(j.a,{variant:"outlined",color:"primary",onClick:function(){a.handleRedoClick()},children:" redo "}),Object(t.jsx)(j.a,{variant:"outlined",color:"primary",onClick:function(){a.handleSolveClick()},children:" solve "})]}),Object(t.jsx)("div",{children:Object(t.jsx)(m,{game:n,selectedLevel:this.state.selectedLevel})})]})}}]),l}(b.a.Component),Q=l(122),E=l(120),F=function(){function a(n,l,e){Object(h.a)(this,a),this.game=void 0,this.curGrid=void 0,this.playerX=void 0,this.playerY=void 0,this.player=void 0,this.game=n,this.curGrid=[];for(var t=0;t<l.length;t++){this.curGrid[t]=[];for(var i=0;i<l[t].length;i++)this.curGrid[t].push(l[t][i].deepCopy())}this.playerX=e.getX(),this.playerY=e.getY(),this.player=e}return Object(c.a)(a,[{key:"execute",value:function(){for(var a=this.game.getBoard(),n=0;n<a.length;n++)for(var l=0;l<a[n].length;l++){var e=a[n][l];e.setI(this.curGrid[n][l].getI()),e.setJ(this.curGrid[n][l].getJ()),e.setType(this.curGrid[n][l].getType()),e.setIsBox(this.curGrid[n][l].getIsBox()),e.setIsPlayer(this.curGrid[n][l].getIsPlayer())}this.player.setX(this.playerX),this.player.setY(this.playerY)}},{key:"undo",value:function(){var a=this.game.getCommandManager().undoStk,n=a.length-1;n>=0&&(console.log(a[n]),a[n].execute())}},{key:"redo",value:function(){for(var a=this.game.getBoard(),n=0;n<a.length;n++)for(var l=0;l<a[n].length;l++){var e=a[n][l];e.setI(this.curGrid[n][l].getI()),e.setJ(this.curGrid[n][l].getJ()),e.setType(this.curGrid[n][l].getType()),e.setIsBox(this.curGrid[n][l].getIsBox()),e.setIsPlayer(this.curGrid[n][l].getIsPlayer())}this.player.setX(this.playerX),this.player.setY(this.playerY)}},{key:"getStateBoard",value:function(){return this.curGrid}}]),a}(),M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJCQzQyNTY5RTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJCQzcyN0ZCRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkJDNDI1NjdFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkJDNDI1NjhFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6SouJPAAAJbklEQVR42uxb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",G=function(a){Object(B.a)(l,a);var n=Object(w.a)(l);function l(){return Object(h.a)(this,l),n.apply(this,arguments)}return Object(c.a)(l,[{key:"render",value:function(){var a=this.props,n=a.i,l=a.j,e=(a.imgSrc,a.onClick),i=a.type,b=a.isPlayer,k=a.isBox,s="g"===i?"ground":"w"===i?"wall":"e"===i?"endpoint":"ground",r=!0===b?M:!0===k?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJCNzFCOTYwRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJCNzFCOTYxRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkI2RDc0OTBFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkI3MUI5NUZFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5zSkZWAAADbUlEQVR42tyb3W4SQRTHz5yCUEuLF5q0F0aSvoBvYCPaa99AY+o9PoG+gXhprD6D11IMvkEfob1pUxOTfoCAYEcOMGWz3WXPLjsfy/+m7Een8/vlMLDTGQGefGo0yitSvAIBO6PDe5OzYgcyHdmavjgHCS1YEd/2qtVjdVWoF18azXcSoDYDX96MOOtvnlff3giYwr/339i+uIB+r5dp2EKxCKVyOcCCrO3tPvuI+83moyB4Cv0iNbB08JPip2oHhH/B8FmXMB9+XPuV/YODlwhCVqIay5qESPjZYPACpeQNelmRwIYfDwNQQSHEYzrodbuZl8CFV6zEjupk5/Iy0xLiwBOrCnovZlVCUnhKzn+TuqG4ujq/NSHg18kJDPp9q/D5QgEebm8ngr9VAdxKaI+u/z47g7ul0rgDNuGpD9SXdgBcFHyogHkSFLyKLQkKXiVMwjz4uQKCJPjhbUnww4dJiIIPHAPCxoThYBAI75XwZ/RT95gQBu+VMAbL5yPhIyvAK+H0+DjyPt2VEAWvQn3lwLMFULqdDvxlPBnqksCFpz5SX7nBOJ2wJUEXfGwBNiTohE8kwKQE3fCJBZiQYAJ+IQE6JZiCX1iADgkm4VMRkKYE0/CpCUhDgg34VAUsIsEWPOtZIIkEyp2ICRP17KBe24DXIiCuBE50waf+FkjydrAJr1VAGhJ0w2sXsIgEE/BGBCSRYAremIDxjNJwqOXeTAjgfs7rnlSxIiAuvGkJ6CK8SQnoKrwpCWgTnkZ7mxOtWr4KJ32w4T47pP1/B3QB3uaUO9qGty0BXYC3KQFdgbclAV2CtyEBXYM3LQFdhDcpAV2FNyUBXYY3ISHnOrxXQpxvjKlWAK3De7C1ZX0mh1sJ1FfuOsYcB54WIaqFiJ2rKyvw3EpYW1+H+5ubN8dR+x2QA69CDdMfsAUfVQl+eM6KVuTCh0kwDR8mwQ/PlYBx4P0SbMH7JYTBcyTk4sJ7GxVCgAtZ29hg9TdoTMAk8JwVmCazyCr3XNbhvRIoUavc/YwIEo6CLmQJPkklzAQIecRp3HX4uBIoUspDlCAOlwU+tgQhWigQ6ssEH0cCsSNtJBYhO0ezCs+RQMxT9kk+N5ofxGTz9NLn1uZpla/ffzy5Fte16Zb5ZdtFfk5b6VFi/fXu05/q5H8BBgA93r8llM20NwAAAABJRU5ErkJggg==":"";return Object(t.jsx)("div",{id:"cell-".concat(n,"-").concat(l),className:"node ".concat(s),onClick:function(){return e(n,l,i)},children:Object(t.jsx)("img",{src:r,alt:""})})}}]),l}(i.Component),Y=function(a){Object(B.a)(l,a);var n=Object(w.a)(l);function l(a){var e;return Object(h.a)(this,l),(e=n.call(this,a)).state={moves:0,refresh:!1,won:!1},e}return Object(c.a)(l,[{key:"handleKeys",value:function(a){var n=a.key;console.log(n);var l=this.props.game.canMove(n),e=l[0],t=l[1],i=this.props.game;if(e){t?(console.log("move box"),this.props.game.moveBox(n)):(console.log("move player"),this.props.game.movePlayer(n));var b=i.getCommandManager(),k=new F(i,i.getBoard(),i.getPlayer());b.execute(k),console.log(b.undoStk);var s=this.props.game.hasWon();this.setState({moves:this.state.moves+1,refresh:!this.state.refresh,won:s})}}},{key:"handleRedoClick",value:function(){this.props.game.redo(),this.setState({refresh:!this.state.refresh})}},{key:"handleUndoClick",value:function(){console.log("undo is clicked");var a=this.props.game;a.undo(),console.log(a.getCommandManager().undoStk),this.setState({refresh:!this.state.refresh})}},{key:"handleReset",value:function(){var a=this.props.game.getLevelManger().getCurLevel();this.props.game.loadLevel(a),this.setState({moves:0,refresh:!this.state.refresh})}},{key:"handleChange",value:function(a){var n=a.target.value;this.props.game.loadLevel(n),this.setState({moves:0,refresh:!this.state.refresh})}},{key:"render",value:function(){var a=this,n=this.props.game.getBoard();return Object(t.jsxs)("div",{children:[Object(t.jsx)("h1",{children:"Sokoban"}),Object(t.jsxs)("div",{className:"hud",children:[Object(t.jsx)(y.a,{id:"label",children:"Levels"}),Object(t.jsxs)(p.a,{labelId:"label",id:"select",onChange:function(n){return a.handleChange(n)},children:[Object(t.jsx)(Q.a,{value:"1",children:" 1 "}),Object(t.jsx)(Q.a,{value:"2",children:" 2 "}),Object(t.jsx)(Q.a,{value:"3",children:" 3 "})]}),Object(t.jsx)(j.a,{variant:"outlined",color:"primary",onClick:function(){a.handleReset()},children:" reset "}),Object(t.jsx)(j.a,{variant:"outlined",color:"primary",onClick:function(){a.handleUndoClick()},children:" undo "}),Object(t.jsx)(j.a,{variant:"outlined",color:"primary",onClick:function(){a.handleRedoClick()},children:" redo "}),Object(t.jsxs)("h1",{children:["Moves: ",this.state.moves]})]}),Object(t.jsx)("div",{className:"pipe_board center",tabIndex:0,onKeyDown:function(n){return a.handleKeys(n)},children:Object(t.jsx)("div",{className:"grid_container",children:n.map((function(a,n){return Object(t.jsx)("div",{className:"pipe_grid_row",children:a.map((function(a,l){return Object(t.jsx)(G,{i:n,j:l,type:a.type,imgSrc:a.type,onClick:function(a,n,l){},isPlayer:a.getIsPlayer(),isBox:a.getIsBox()})}))})}))})}),Object(t.jsx)(E.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:1e3,message:"The level is cleared",open:this.state.won,onClose:function(){}})]})}}]),l}(i.Component),x=function(){function a(n,l){Object(h.a)(this,a),this.x=void 0,this.y=void 0,this.x=n,this.y=l}return Object(c.a)(a,[{key:"setX",value:function(a){this.x=a}},{key:"setY",value:function(a){this.y=a}},{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}}]),a}(),R=function(){function a(n,l,e,t,i){Object(h.a)(this,a),this.i=void 0,this.j=void 0,this.type=void 0,this.isPlayer=void 0,this.isBox=void 0,this.i=n,this.j=l,this.type=e,this.isPlayer=t,this.isBox=i}return Object(c.a)(a,[{key:"deepCopy",value:function(){return new a(this.i,this.j,this.type,this.isPlayer,this.isBox)}},{key:"setIsPlayer",value:function(a){this.isPlayer=a}},{key:"setIsBox",value:function(a){this.isBox=a}},{key:"setI",value:function(a){this.i=a}},{key:"setJ",value:function(a){this.j=a}},{key:"setType",value:function(a){this.type=a}},{key:"getIsPlayer",value:function(){return this.isPlayer}},{key:"getIsBox",value:function(){return this.isBox}},{key:"getI",value:function(){return this.i}},{key:"getJ",value:function(){return this.j}},{key:"getType",value:function(){return this.type}}]),a}(),S=function(){function a(n,l,e,t,i){Object(h.a)(this,a),this.levelName=void 0,this.baseLayer=void 0,this.boxesPos=void 0,this.playerPos=void 0,this.numBoxes=void 0,this.levelName=n,this.baseLayer=l,this.boxesPos=e,this.playerPos=t,this.numBoxes=i}return Object(c.a)(a,[{key:"setBaseLayer",value:function(a){this.baseLayer=a}},{key:"setBoxesPos",value:function(a){this.boxesPos=a}},{key:"setPlayerPos",value:function(a){this.playerPos=a}},{key:"getBaseLayer",value:function(){return this.baseLayer}},{key:"getBoxesPos",value:function(){return this.boxesPos}},{key:"getPlayerPos",value:function(){return this.playerPos}},{key:"getLevelName",value:function(){return this.levelName}},{key:"getNumBoxes",value:function(){return this.numBoxes}}]),a}(),U=function(){function a(){Object(h.a)(this,a),this.curLevel=void 0,this.levels=void 0,this.curLevel="1",this.levels=new Map;var n=new S("level1",[["w","w","w","w","w","w","w","w","w","w"],["w","g","g","g","g","g","g","g","g","w"],["w","w","g","g","g","g","e","g","g","w"],["w","w","g","g","g","w","w","g","g","w"],["w","w","g","g","g","e","e","g","w","w"],["w","w","g","g","g","g","w","g","g","w"],["w","w","g","g","g","g","g","g","g","w"],["w","w","w","g","g","e","w","w","w","w"],["w","w","w","g","g","g","g","g","g","w"],["w","w","w","g","w","w","w","w","w","w"]],[[5,3],[3,3],[2,5]],[[5,5]],2),l=new S("level2",[["w","w","w","w","w","w","w","w","w","w"],["w","g","g","g","g","g","g","g","g","w"],["w","g","g","g","g","g","g","g","g","w"],["w","g","g","g","g","w","w","g","g","w"],["w","w","w","w","g","g","g","g","w","w"],["w","e","g","g","g","g","w","g","g","w"],["w","e","g","g","g","g","g","g","g","w"],["w","w","w","g","g","g","w","w","w","w"],["w","w","w","g","g","g","g","g","g","w"],["w","w","w","g","w","w","w","w","w","w"]],[[2,3],[2,2]],[[5,5]],2),e=new S("level3",[["w","w","w","w","w","w","w","w","w","w"],["w","w","w","e","g","g","g","g","g","w"],["w","g","g","g","g","g","g","","g","w"],["w","g","g","g","g","w","w","g","g","w"],["w","w","w","g","g","w","g","g","w","w"],["w","w","g","g","g","g","w","g","w","w"],["w","w","g","g","g","g","g","g","w","w"],["w","w","g","g","g","g","w","w","w","w"],["w","w","g","g","g","g","g","g","g","w"],["w","w","w","w","w","w","w","w","w","w"]],[[3,3],[2,2]],[[6,5]],2);this.levels.set("1",n),this.levels.set("2",l),this.levels.set("3",e)}return Object(c.a)(a,[{key:"setCurLevel",value:function(a){this.curLevel=a}},{key:"getCurLevel",value:function(){return this.curLevel}},{key:"getLevels",value:function(){return this.levels}},{key:"getLevel",value:function(a){if(void 0!==a||null!==a)return this.levels.get(a)}}]),a}(),N=function(){function a(n,l){Object(h.a)(this,a),this.board=void 0,this.R=void 0,this.C=void 0,this.levelManager=void 0,this.commandManager=void 0,this.levels=void 0,this.dirs=void 0,this.player=void 0,this.numberOfBoxes=void 0,this.numberOfBoxes=-1,this.commandManager=new g,this.levelManager=new U,this.levels=this.levelManager.getLevels(),this.dirs=new Map,this.dirs.set("w",[-1,0]),this.dirs.set("s",[1,0]),this.dirs.set("a",[0,-1]),this.dirs.set("d",[0,1]),this.board=[],this.R=n,this.C=l;for(var e=0;e<n;e++){this.board[e]=[];for(var t=0;t<l;t++){var i=new R(e,t,"g",!1,!1);this.board[e].push(i)}}this.player=new x(0,0);var b=new F(this,this.getBoard(),this.player);this.commandManager.execute(b)}return Object(c.a)(a,[{key:"loadLevel",value:function(a){var n=this.levelManager.getLevel(a);if(void 0!==n&&null!==n){this.levelManager.setCurLevel(a);var l=n.getBaseLayer(),e=n.getBoxesPos(),t=n.getPlayerPos();this.numberOfBoxes=n.getNumBoxes();for(var i=0;i<this.board.length;i++)for(var b=0;b<this.board[i].length;b++)this.board[i][b]=new R(i,b,l[i][b],!1,!1);for(var k=0;k<e.length;k++){var s=e[k][0],r=e[k][1];this.board[s][r].setIsBox(!0)}var o=t[0][0],A=t[0][1];this.player.setX(o),this.player.setY(A),this.board[o][A].setIsPlayer(!0),this.commandManager=new g}}},{key:"canMove",value:function(a){var n=this.player.getX(),l=this.player.getY(),e=this.dirs.get(a);if(void 0===e||null===e)return[!1,!1];var t=e[0],i=e[1],b=n+t,k=l+i;if(this.board[b][k].getIsBox()){var s=b+t,r=k+i;if(this.board[s][r].getIsBox())return[!1,!1];if("w"===this.board[s][r].type)return[!1,!1];if("e"===this.board[s][r].type)return[!0,!0];if("g"===this.board[s][r].type)return[!0,!0]}else{if("w"===this.board[b][k].type)return[!1,!1];if("e"===this.board[b][k].type)return[!0,!1];if("g"===this.board[b][k].type)return[!0,!1]}return[!1,!1]}},{key:"movePlayer",value:function(a){var n=this.dirs.get(a);if(void 0===n||null===n)return!1;var l=n[0],e=n[1],t=this.player.getX(),i=this.player.getY(),b=t+l,k=i+e;this.board[t][i].setIsPlayer(!1),this.board[b][k].setIsPlayer(!0),this.player.setX(b),this.player.setY(k)}},{key:"moveBox",value:function(a){var n=this.dirs.get(a);if(void 0===n||null===n)return!1;var l=n[0],e=n[1],t=this.player.getX(),i=this.player.getY(),b=t+l,k=i+e;this.board[t][i].setIsPlayer(!1),this.board[b][k].setIsPlayer(!0),this.player.setX(b),this.player.setY(k);var s=t+2*l,r=i+2*e;this.board[b][k].setIsBox(!1),this.board[s][r].setIsBox(!0)}},{key:"hasWon",value:function(){for(var a=0,n=0;n<this.board.length;n++)for(var l=0;l<this.board[n].length;l++){var e=this.board[n][l],t=e.getIsBox();"e"===e.getType()&&!0===t&&(a+=1)}return a===this.numberOfBoxes}},{key:"undo",value:function(){this.commandManager.undo()}},{key:"redo",value:function(){this.commandManager.redo()}},{key:"isWithinBound",value:function(a,n){return a>=0&&a<this.R&&n>=0&&n<this.C}},{key:"setBoard",value:function(a){this.board=a}},{key:"getBoard",value:function(){return this.board}},{key:"getLevels",value:function(){return this.levels}},{key:"getCommandManager",value:function(){return this.commandManager}},{key:"getLevelManger",value:function(){return this.levelManager}},{key:"getPlayer",value:function(){return this.player}},{key:"setPlayer",value:function(a){this.player=a}}]),a}(),L=l(115),P=l(116),D=l(117),W=l(48),T=l(14),V=function(){function a(n,l,e,t,i,b,k,s,r){Object(h.a)(this,a),this.i=void 0,this.j=void 0,this.type=void 0,this.isGem=void 0,this.isBrokenCircle=void 0,this.isPlayer=void 0,this.isWall=void 0,this.isBomb=void 0,this.isGround=void 0,this.i=n,this.j=l,this.type=e,this.isPlayer=t,this.isWall=i,this.isGem=b,this.isBomb=s,this.isBrokenCircle=k,this.isGround=r}return Object(c.a)(a,[{key:"deepCopy",value:function(){return new a(this.i,this.j,this.type,this.isPlayer,this.isWall,this.isGem,this.isBrokenCircle,this.isBomb,this.isGround)}},{key:"setIsPlayer",value:function(a){this.isPlayer=a}},{key:"setIsWall",value:function(a){this.isWall=a}},{key:"setI",value:function(a){this.i=a}},{key:"setJ",value:function(a){this.j=a}},{key:"setType",value:function(a){this.type=a}},{key:"setIsGem",value:function(a){this.isGem=a}},{key:"setIsBomb",value:function(a){this.isBomb=a}},{key:"setIsBrokenCircle",value:function(a){this.isBrokenCircle=a}},{key:"setIsGround",value:function(a){this.isGround=a}},{key:"getIsPlayer",value:function(){return this.isPlayer}},{key:"getIsWall",value:function(){return this.isWall}},{key:"getIsGem",value:function(){return this.isGem}},{key:"getIsBomb",value:function(){return this.isBomb}},{key:"getIsGround",value:function(){return this.isGround}},{key:"getIsBrokenCircle",value:function(){return this.isBrokenCircle}},{key:"getI",value:function(){return this.i}},{key:"getJ",value:function(){return this.j}},{key:"getType",value:function(){return this.type}}]),a}();!function(a){a[a.UP=0]="UP",a[a.DOWN=1]="DOWN",a[a.LEFT=2]="LEFT",a[a.RIGHT=3]="RIGHT",a[a.UPLEFT=4]="UPLEFT",a[a.UPRIGHT=5]="UPRIGHT",a[a.DOWNLEFT=6]="DOWNLEFT",a[a.DOWNRIGHT=7]="DOWNRIGHT",a[a.SAME=8]="SAME"}(e||(e={}));var Z=function(){function a(n,l){Object(h.a)(this,a),this.board=void 0,this.R=void 0,this.C=void 0,this.commandManager=void 0,this.dirs=void 0,this.player=void 0,this.numberOfBoxes=void 0,this.numberOfBoxes=-1,this.commandManager=new g,this.dirs=new Map,this.dirs.set("w",[-1,0]),this.dirs.set("s",[1,0]),this.dirs.set("a",[0,-1]),this.dirs.set("d",[0,1]),this.board=[],this.R=n,this.C=l;for(var e=0;e<n;e++){this.board[e]=[];for(var t=0;t<l;t++){var i=new V(e,t,"wall",!1,!1,!1,!1,!1,!0);this.board[e].push(i)}}this.player=new x(4,4),this.board[4][4].setIsPlayer(!0),this.board[3][2].setIsWall(!0),this.board[3][3].setIsWall(!0),this.board[3][4].setIsWall(!0),this.board[5][5].setIsBrokenCircle(!0),this.board[6][6].setIsBrokenCircle(!0)}return Object(c.a)(a,[{key:"canMove",value:function(a,n){a+=1,n+=1;var l=this.player.getX()+1,t=this.player.getY()+1,i=Math.abs(l-a),b=Math.abs(t-n);return a==l&&n==t?[!1,e.SAME]:a==l?n<t?[!0,e.LEFT]:[!0,e.RIGHT]:n==t?a<l?[!0,e.UP]:[!0,e.DOWN]:b!==i?[!1,e.SAME]:a<l&&n<t?[!0,e.UPLEFT]:a<l&&n>t?[!0,e.UPRIGHT]:a>l&&n<t?[!0,e.DOWNLEFT]:a>l&&n>t?[!0,e.DOWNRIGHT]:[!1,e.SAME]}},{key:"movePlayer",value:function(a,n){console.log("command: move player");var l=this.canMove(a,n),t=Object(o.a)(l,2),i=t[0],b=t[1];if(i){var k=this.player.getX(),s=this.player.getY(),r=k,A=s,h=0,c=0;for(b===e.UP?h=-1:b===e.DOWN?h=1:b===e.LEFT?c=-1:b===e.RIGHT?c=1:b===e.UPLEFT?(h=-1,c=-1):b===e.UPRIGHT?(h=-1,c=1):b===e.DOWNLEFT?(h=1,c=-1):b===e.DOWNRIGHT&&(h=1,c=1);this.isWithinBound(r+h,A+c)&&(r+=h,A+=c,this.board[r][A].getIsGem()&&this.board[r][A].setIsGem(!1),!this.board[r][A].getIsBrokenCircle())&&!this.board[r][A].getIsBomb();)if(this.board[r][A].getIsWall()){r-=h,A-=c;break}this.board[k][s].setIsPlayer(!1),this.board[r][A].setIsPlayer(!0),this.player.setX(r),this.player.setY(A)}}},{key:"moveBox",value:function(a){}},{key:"hasWon",value:function(){return!1}},{key:"undo",value:function(){}},{key:"redo",value:function(){}},{key:"isWithinBound",value:function(a,n){return a>=0&&a<this.R&&n>=0&&n<this.C}},{key:"setBoard",value:function(a){this.board=a}},{key:"getBoard",value:function(){return this.board}},{key:"getLevels",value:function(){}},{key:"getCommandManager",value:function(){return this.commandManager}},{key:"getLevelManger",value:function(){}},{key:"getPlayer",value:function(){return this.player}},{key:"setPlayer",value:function(a){this.player=a}}]),a}(),H=function(a){var n=a.i,l=a.j,e=a.onClick,i=a.type,b=a.isPlayer,k=a.isWall,s=a.isBrokenCirlce,r=a.isGem,o=a.isBomb,A=a.isGround,h=s?"inertia_broken_circle":"inertia_ground",c=b?M:k?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJCRTVFQkU5RTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJCRTVFQkVBRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkJFNUVCRTdFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkJFNUVCRThFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4/BBUeAAACB0lEQVR42uybT07CQBTG3wwVCyFGo8Sl3ESSBtceQSPu9QTiCXQv/jkCa0gNR/AIujTGPwGEiug4rzJajRtT2gb6fZt5MyUM348y8F54ggKqu+4avalNElTW00VSoqTjEkWk+9tbf1xeXaXIpOiahLrW0ZOO25QRjarj3JjLwgSnLfdAEdUoRsUC4A9p07WdinP4BeCk5R7pYI/jl8GA+r0ejUYj/8FDz4vshXh6L5ady0W2R9a2/dGyLMoXCjQ/3ku/2ce7FWdfnDUv19+FavPi492dbz4uxQHgtxjCUrHox1KJsnwntcWT5243VvNJiT2yVxZ7l3os+wA6HUqLAl7L0pzyr8NhagB8edXeJaVcAAAAAAAAAAAAKZZlMrIHnQck+fM0btn5PO4A/w4wubjX709FNjep/Y1vHIIAAAAAAAAAAAAAAAAAAAAAgHrANOXzYfdHPWAS9YAk8/mwQj0AhyAAAAAAAAAAAAAAAAAAAADqAWHrAUnk82GFesAk6gH4fwAOQQAAAAAAAACYDQAZy0qN6aBXDeCzZW4um00NgG+vqi0ViSsOCwsLqQFgvLJ3KSQd84Q7KrmpcNYV7B5l75IbicW4Z5g7KhdXVmbyPGBP7M10jbLnsfdP1ZvuuV7d+s+TJtX8HHp/RRfVDWf7x7cAL3Avrb7amN0PgGqwR2Oe9SHAAKSxtTasfyRQAAAAAElFTkSuQmCC":s?"inertia_broken_circle":r?"inertia_gem":o?"inertia_bomb":A?"inertia_ground":"";return Object(t.jsx)("div",{id:"cell-".concat(n,"-").concat(l),className:"node ".concat(h),onClick:function(){return e(n,l,i)},children:Object(t.jsx)("img",{src:c,alt:""})})},J=function(a){var n=a.game,l=Object(i.useState)(n.getBoard()),e=Object(o.a)(l,2),b=(e[0],e[1],Object(i.useState)(!1)),k=Object(o.a)(b,2),s=(k[0],k[1]);Object(i.useEffect)((function(){var a=setTimeout((function(){}),1e3);return function(){return clearTimeout(a)}}),[]);return Object(t.jsx)("div",{className:"pipe_board center",children:Object(t.jsx)("div",{className:"grid_container",children:n.getBoard().map((function(a,l){return Object(t.jsx)("div",{className:"pipe_grid_row",children:a.map((function(a,e){return Object(t.jsx)(H,{i:a.getI(),j:a.getJ(),onClick:function(){return function(a,n,l){console.log("cell clicks (".concat(a,", ").concat(n,")")),l.movePlayer(a,n),s((function(a){return!a}))}(l,e,n)},imgSrc:a.getType(),type:a.getType(),isPlayer:a.getIsPlayer(),isWall:a.getIsWall(),isBrokenCirlce:a.getIsBrokenCircle(),isGem:a.getIsGem(),isBomb:a.getIsBomb(),isGround:a.getIsGround()})}))})}))})})},z=function(){var a=new Z(10,10);return Object(t.jsxs)("div",{className:"inertia__app",children:[Object(t.jsx)("h1",{children:" INERTIA "}),Object(t.jsxs)("div",{children:[Object(t.jsx)(j.a,{children:" Reset "}),Object(t.jsx)(j.a,{children:" Undo "}),Object(t.jsx)(j.a,{children:" Redo "})]}),Object(t.jsx)("div",{children:Object(t.jsx)(J,{game:a})}),Object(t.jsx)("div",{children:" instruction "}),Object(t.jsx)("div",{children:" about "})]})};var K=function(){var a=new f(10,10),n=new N(10,10);return Object(t.jsx)("div",{className:"App",children:Object(t.jsxs)(W.a,{children:[Object(t.jsx)("h1",{children:"HOME"}),Object(t.jsxs)(T.c,{children:[Object(t.jsx)(T.a,{exact:!0,path:"/",children:Object(t.jsxs)("div",{className:"home__cards",children:[Object(t.jsx)(W.b,{to:"/sokoban",children:Object(t.jsx)(L.a,{className:"home--card",children:Object(t.jsx)(P.a,{children:Object(t.jsx)(D.a,{className:"home--card--content",children:Object(t.jsx)("h1",{children:" Sokoban "})})})})}),Object(t.jsx)(W.b,{to:"/flushtubes",children:Object(t.jsx)(L.a,{className:"home--card",children:Object(t.jsx)(P.a,{children:Object(t.jsx)(D.a,{className:"home--card--content",children:Object(t.jsx)("h1",{children:" Flush Tubes [Under Development]"})})})})}),Object(t.jsx)(W.b,{to:"/inertia",children:Object(t.jsx)(L.a,{className:"home--card",children:Object(t.jsx)(P.a,{children:Object(t.jsx)(D.a,{className:"home--card--content",children:Object(t.jsx)("h1",{children:" Inertia [Under Development]"})})})})})]})}),Object(t.jsx)(T.a,{path:"/inertia",children:Object(t.jsx)(z,{})}),Object(t.jsx)(T.a,{path:"/sokoban",children:Object(t.jsx)(Y,{game:n})}),Object(t.jsx)(T.a,{path:"/flushtubes",children:Object(t.jsx)(O,{game:a})})]})]})})},X=function(a){a&&a instanceof Function&&l.e(3).then(l.bind(null,123)).then((function(n){var l=n.getCLS,e=n.getFID,t=n.getFCP,i=n.getLCP,b=n.getTTFB;l(a),e(a),t(a),i(a),b(a)}))};s.a.render(Object(t.jsx)(b.a.StrictMode,{children:Object(t.jsx)(K,{})}),document.getElementById("root")),X()}},[[83,1,2]]]);
//# sourceMappingURL=main.593ee0a5.chunk.js.map