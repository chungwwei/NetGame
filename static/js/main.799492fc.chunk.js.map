{"version":3,"sources":["ds/CommandManager.ts","ds/RotateCommand.ts","game/Cell.ts","game/LevelManager.ts","game/FloodTube.ts","components/CellComponent.tsx","images/i0.png","images/i1.png","images/finish.png","images/start.png","images/d0.png","images/d1.png","images/d2.png","images/d3.png","images/t0.png","images/t1.png","images/t2.png","images/t3.png","images/4ways.png","components/FloodTubeComponent.tsx","components/HudComponent.tsx","ds/SokobanMoveCommand.ts","components/SokobanCellComponent.tsx","images/player.png","images/box.png","components/SokobanComponent.tsx","game/sokoban/player.ts","game/sokoban/SokobanCell.ts","game/sokoban/SokobanLevel.ts","game/sokoban/SokobanLevelManager.ts","game/sokoban/Sokoban.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CommandManager","undoStk","redoStk","command","this","push","commands","length","last","pop","undo","redo","RotateCommand","game","grid","curGrid","i","j","deepCopy","setBoard","Cell","type","isStart","isFinish","isPartPath","imgSrc","LevelManager","levels","currentLevel","Map","initLevels","set","get","FloodTubes","row","col","board","R","C","dirs","levelManager","commandManager","solutionBoard","node","dx","dy","lst","x","y","seen","q","layer","shift","d","ni","nj","isWithinBound","p","reverseDirs","console","log","isCompatible","r","c","t","newIndex","charAt","curIndex","old","getBoard","rotateCommand","execute","level","finishSites","cnt","win","category","start","backtrack","backtrackWrapping","hasSolution","val","curType","end","k","temp","hasSolutionWrapping","rotations","unshift","newBoard","CellComponent","props","onClick","cellClassName","imgName","id","className","src","alt","Component","FloodTubeComponent","state","refresh","rotate","setState","path","setTimeout","document","getElementById","selectedLevel","split","BFS","animatePath","wrappingBFS","Button","runBFS","map","item","handleClick","React","HudComponent","event","str","target","value","undefined","index","getLevels","getCommandManager","minBFS","FormControl","InputLabel","htmlFor","Select","native","defaultValue","onChange","e","handleChange","aria-label","keys","label","Array","v","variant","color","handleReset","handleUndoClick","handleRedoClick","handleSolveClick","SokobanMoveCommand","player","playerX","playerY","getX","getY","cell","setI","getI","setJ","getJ","setType","getType","setIsBox","getIsBox","setIsPlayer","getIsPlayer","setX","setY","stk","SokobanCellComponent","isPlayer","isBox","SokobanComponent","code","key","respond","canMove","movable","withBox","moveBox","movePlayer","manager","getPlayer","curLevel","getLevelManger","getCurLevel","loadLevel","requestedLevel","labelId","MenuItem","tabIndex","onKeyDown","handleKeys","Player","initX","initY","SokobanCell","bool","SokobanLevel","levelName","baseLayer","boxesPos","playerPos","SokobanLevelManager","level1","level2","level3","Sokoban","getLevel","setCurLevel","base","getBaseLayer","getBoxesPos","getPlayerPos","dir","tmp","newX","newY","nr","nc","curPlayerX","curPlayerY","newPlayerX","newPlayerY","newBoxX","newBoxY","App","flood_tube","sokoban","basename","process","exact","to","Card","CardActionArea","CardContent","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.799492fc.chunk.js","sourcesContent":["import { ICommand } from \"./ICommand\";\n\nexport class CommandManager {\n\n    public undoStk: ICommand[] = []\n    public redoStk: ICommand[] = []\n    \n    public execute(command: ICommand) {\n        this.undoStk.push(command)\n        this.redoStk = []\n    }\n\n    public executeCommands(commands :ICommand[]) {\n\n    }\n\n    public undo() {\n        if (this.undoStk.length > 0) {\n            let last = this.undoStk.pop()!\n            // execute the current top of stk after the lastest is popped\n            last.undo()\n            this.redoStk.push(last)\n        }\n\n    }\n\n    public redo() {\n        if (this.redoStk.length > 0) {\n            let last = this.redoStk.pop()!\n            last.redo()\n            this.undoStk.push(last)\n        }\n    }\n}","import { runInThisContext } from \"vm\";\nimport { Cell } from \"../game/Cell\";\nimport { FloodTubes } from \"../game/FloodTube\";\nimport { ICommand } from \"./ICommand\";\n\nexport class RotateCommand implements ICommand {\n\n    private game: FloodTubes\n    public curGrid: Cell[][]\n\n    constructor(game: FloodTubes, grid: Cell[][]) {\n        this.game = game\n        this.curGrid = []\n\n        for (let i = 0; i < grid.length; i ++) {\n            this.curGrid[i] = []\n            for (let j = 0; j < grid[i].length; j ++) {\n                this.curGrid[i].push(grid[i][j].deepCopy())\n            }\n        }\n    }\n    \n\n    public execute() {\n        \n    }\n\n    public undo() {\n        this.game.setBoard(this.curGrid)\n    }\n\n    public redo() {\n        this.game.setBoard(this.curGrid)\n    }\n\n}","export class Cell {\n    private i: number\n    private j: number\n    public type: string\n\n    public isStart: boolean\n    public isFinish: boolean\n    public isPartPath: boolean\n\n    public imgSrc: string\n\n\n    constructor(i: number, j: number, type: string, isStart: boolean, isFinish: boolean, isPartPath: boolean) {\n        this.i = i\n        this.j = j\n        this.type = type \n        this.isFinish = isFinish\n        this.isStart = isStart\n        this.isPartPath = isPartPath\n\n        this.imgSrc = '/src/i0.png'\n    }\n\n    public deepCopy() {\n        return new Cell(\n            this.i,\n            this.j,\n            this.type,\n            this.isStart,\n            this.isFinish,\n            this.isPartPath\n        )\n    }\n}","export class LevelManager {\n\n    public levels: Map<string, string[][][]>\n    public currentLevel: string\n\n    constructor() {\n        this.levels = new Map()\n        this.currentLevel = 'none'\n        this.initLevels()\n    }\n\n\n\n    initLevels() {\n        this.levels.set('classic',  [])\n        this.levels.set('wrapping', [])\n        this.levels.get('classic')?.push(\n            [\n                ['start', 't0', 'd0', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 't0', 'i0', 'i0', 'd0', 't2', 'finish', 'blank', 'blank', 'blank'],\n                ['blank', 'finish', 'blank', 'blank', 't2', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 't1', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 't1', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'start', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['start', 'i0', 'd0', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'd0', 'd0', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'finish', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['d1', 'finish', 'd0', 'i0', 'd1', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['d1', 'blank', 'd0', 'd1', 'd1', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['i0', 'd0', 'blank', 'd1', 'd1', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['start', 'i0', 'i0', 'i0', 't1', 'finish', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['finish', 'd1', 'finish', 'd1', 'finish', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['d1', 't1', 'd0', 't1', 'finish', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['finish', 'i0', 'start', 'd1', 'd1', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['i0', 'i0', 't1', 'd1', 'finish', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['d2', 'd1', 'd2', 't1', 'finish', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['finish', 'd1', 'finish', 'd1', 'finish', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['d1', 't1', 'd0', 't1', 'finish', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['finish', 'i0', 'start', 'd1', 'd1', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['i0', 'i0', 't1', 'd1', 'finish', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['d2', 'd1', 'd2', 't1', 'finish', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['start', 'd0', '', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 't0', 'i0', 'i0', 't1', 't2', 'finish', 'blank', 'blank', 'blank'],\n                ['blank', 'finish', 'blank', 'blank', 't2', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 't0', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 't1', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'finish', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['start', 't0', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 't0', 'i0', 'i0', 't1', 't2', 'finish', 'blank', 'blank', 'blank'],\n                ['blank', 'finish', 'blank', 'blank', 't2', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 't0', 't1', 'finish', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 't1', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'finish', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n        )\n\n\n        this.levels.get('wrapping')?.push(\n            [\n                ['i0', 'start', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'd0', 'i0'],\n                ['blank', 'd0', 'd0', 'blank', 'blank', 'blank', 'blank', 'blank', 'finish', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['start', 'i1', 'd0', 'blank', 'blank', 'blank', 'blank', 'blank', 'finish', 'blank'],\n                ['i1', 'i1', 't0', 'blank', 'blank', 'blank', 'blank', 'blank', 'd2', 'i1'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'd1', 'i1'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['blank', 'i1', 'd0', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['i1', 'i1', 't0', 't2', 'finish', 'blank', 'blank', 'blank', 'd2', 'i1'],\n                ['blank', 'blank', 't1', 'blank', 'blank', 'blank', 'blank', 'blank', 'd1', 'i1'],\n                ['blank', 'blank', 'start', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['start', 'blank', 'd0', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['t1', 'blank', 't0', 'blank', 'blank', 'blank', 'blank', 'blank', 'd2', 'i1'],\n                ['d1', 'i0', 'd1', 'blank', 'blank', 'blank', 'blank', 'blank', 'd1', 'i1'],\n                ['i0', 'd2', 't1', 'blank', 'blank', 'blank', 'blank', 'blank', 'i0', 'finish'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'd2', 'd3'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['blank', 'blank', 'blank', 'blank', 't0', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['d0', 't1', 'finish', 'blank', 'start', 'i0', 'i0', 'd1', 'blank', 'blank'],\n                ['t1', 'blank', 'blank', 'blank', 'i1', 'blank', 'blank', 'd1', 'i0', 'i0'],\n                ['blank', 'blank', 'blank', 'blank', 'i1', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['blank', 'i1', 'd0', 'blank', 'blank', 'blank', 'blank', 'blank', 'finish', 'blank'],\n                ['i1', 'i1', 't0', 't2', 'finish', 'blank', 'blank', 'blank', 'd2', 'i1'],\n                ['blank', 'blank', 't1', 'blank', 'blank', 'blank', 'blank', 'blank', 'd1', 'i1'],\n                ['blank', 'blank', 'start', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n            [\n                ['blank', 'i1', 'd0', 'blank', 'blank', 'blank', 'blank', 'blank', 'finish', 'blank'],\n                ['i1', 'i1', 't0', 't2', 'finish', 'blank', 'blank', 'blank', 't1', 'i1'],\n                ['blank', 'blank', 't1', 'blank', 'blank', 'blank', 'blank', 'blank', 't1', 'i1'],\n                ['blank', 'blank', 'start', 'blank', 'blank', 'blank', 'blank', 'finish', 'd0', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank'],\n                ['blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank', 'blank']\n            ],\n        )\n    }\n}","import { stringify } from \"querystring\"\nimport { CommandManager } from \"../ds/CommandManager\"\nimport { RotateCommand } from \"../ds/RotateCommand\"\nimport { Cell } from \"./Cell\"\nimport { LevelManager } from \"./LevelManager\"\n\nexport class FloodTubes {\n    \n    private board: Cell[][]\n    private R: number\n    private C: number\n\n    private dirs: Map<string, number[][]>\n\n    private levelManager: LevelManager\n    private commandManager: CommandManager\n    private levels: Map<string, string[][][]>\n\n    private solutionBoard?: Cell[][]\n\n    constructor(row: number, col: number) {\n\n        this.commandManager = new CommandManager()\n        this.levelManager = new LevelManager()\n        this.levels = this.levelManager.levels\n\n        // init board\n        this.board = []\n        this.R = row\n        this.C = col\n        for (let i = 0; i < row; i ++) {\n            this.board[i] = []\n            for (let j = 0; j < col; j ++) {\n                let node = new Cell(i, j, 'blank', false, false, false)\n                this.board[i].push(node)\n            }\n        }\n        \n        // set dirs\n        this.dirs = new Map()\n        this.dirs.set('i0', [[1, 0], [-1, 0]])\n        this.dirs.set('i1', [[0, -1], [0, 1]])\n\n        this.dirs.set('d0', [[-1, 0], [0, 1]])\n        this.dirs.set('d1', [[1, 0], [0, 1]])\n        this.dirs.set('d2', [[1, 0], [0, -1]])\n        this.dirs.set('d3', [[-1, 0], [0, -1]])\n\n\n        this.dirs.set('t0', [[-1, 0], [0, -1], [0, 1]])\n        this.dirs.set('t1', [[1, 0], [-1, 0], [0, 1]])\n        this.dirs.set('t2', [[0, 1], [0, -1], [1, 0]])\n        this.dirs.set('t3', [[1, 0], [-1, 0], [0, -1]])\n\n        this.dirs.set('e0', [[-1, 0]])\n        this.dirs.set('e1', [[0, 1]])\n        this.dirs.set('e2', [[1, 0]])\n        this.dirs.set('e3', [[0, -1]])\n\n        // this.dirs.set('s0', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        // this.dirs.set('s1', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        // this.dirs.set('s2', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        // this.dirs.set('s3', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        // this.dirs.set('s4', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        // this.dirs.set('s-1', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n\n        // this.dirs.set('f0', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        // this.dirs.set('f1', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        // this.dirs.set('f2', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        // this.dirs.set('f3', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        // this.dirs.set('f4', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        // this.dirs.set('f-1', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n\n        this.dirs.set('blank', [[]])\n        this.dirs.set('4ways', [[1, 0], [-1, 0], [0, -1], [0, 1]])\n        this.dirs.set('start', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        this.dirs.set('finish', [[1, 0], [-1, 0],[0, -1], [0, 1]])\n        \n    }\n\n    private isCompatible(dx: number, dy: number, lst: number[][]): boolean {\n\n        for (const[x, y] of lst) {\n            if (dx === -x && dy === -y) {\n                return true\n            }\n        }\n        return false\n        \n    }\n\n    public wrappingBFS() {\n        let seen: boolean[][] = []\n        let q: any[][] = []        // <i, j, distance, type>\n        for (let i = 0; i < this.R; i ++) {\n            seen.push([])\n            for (let j = 0; j < this.C; j ++) {\n                seen[i].push(false)\n                if (this.board[i][j].type === 'start') {\n                    seen[i][j] = true\n                    q.push([i, j, 0, 'start'])\n                }\n            }\n        }\n\n        let layer = []\n        while (q.length != 0) {\n            let front = q.shift()\n            let [i, j, d, type] = front!\n            let size = q.length\n            let dirs = this.dirs.get(type)\n            if (type === 'end') return layer\n            for (const [dx, dy] of dirs!) {\n                let ni = (i + dx + this.R) % this.R\n                let nj = (j + dy + this.C) % this.C\n                if (this.isWithinBound(ni, nj)) {\n                    let p = this.board[ni][nj].type\n                    let reverseDirs = this.dirs.get(p)!\n                    console.log(ni + \" \" + nj + \" \", p)\n                    if ((!seen[ni][nj]) && \n                        (this.board[ni][nj].type !== 'blank') &&\n                        (this.isCompatible(dx, dy, reverseDirs))) {\n                            q.push([ni, nj, d + 1, this.board[ni][nj].type])\n                            layer.push([ni, nj])\n                            seen[ni][nj] = true\n\n                            this.board[ni][nj].isPartPath = true\n                    }\n                }\n            }\n        }\n        console.log(layer)\n        return layer\n    }\n\n    public BFS() {\n        let seen: boolean[][] = []\n        let q: any[][] = []        // <i, j, distance, type>\n        for (let i = 0; i < this.R; i ++) {\n            seen.push([])\n            for (let j = 0; j < this.C; j ++) {\n                seen[i].push(false)\n                if (this.board[i][j].type === 'start') {\n                    seen[i][j] = true\n                    q.push([i, j, 0, 'start'])\n                }\n            }\n        }\n\n        let layer = []\n        while (q.length != 0) {\n            let front = q.shift()\n            let [i, j, d, type] = front!\n            let size = q.length\n            let dirs = this.dirs.get(type)\n            if (type === 'end') return layer\n            for (const [dx, dy] of dirs!) {\n                let ni = i + dx\n                let nj = j + dy\n                if (this.isWithinBound(ni, nj)) {\n                    let p = this.board[ni][nj].type\n                    let reverseDirs = this.dirs.get(p)!\n                    if ((!seen[ni][nj]) && \n                        (this.board[ni][nj].type !== 'blank') &&\n                        (this.isCompatible(dx, dy, reverseDirs))) {\n                            q.push([ni, nj, d + 1, this.board[ni][nj].type])\n                            layer.push([ni, nj])\n                            seen[ni][nj] = true\n\n                            this.board[ni][nj].isPartPath = true\n                    }\n                }\n            }\n        }\n        console.log(layer)\n        return layer\n    }\n\n    public rotate(r: number, c: number, t: string) {\n\n        if (t === 'start' || t === 'finish') return\n        if (t === '4ways') return\n\n        let newIndex: number = -1\n\n        let type = t.charAt(0)\n        let curIndex: number = +t.charAt(1)\n\n        if (type === 'i') newIndex = (curIndex + 1) % 2\n        if (type === 't' || type === 'd') newIndex = (curIndex + 1) % 4\n        // this.board[r][c] = [type, newIndex]\n        let old: Cell[][] = [...this.getBoard()]\n        let rotateCommand: RotateCommand = new RotateCommand(this, old)\n        this.commandManager.execute(rotateCommand)\n\n        // change the type\n        let cell = this.board[r][c]\n        // console.log(type + newIndex + '')\n        // console.log(cell)\n        cell.type = type + newIndex + ''\n        \n    }\n\n    public reset(level: string) {\n\n    }\n\n    public move(r: number, c: number) {\n\n    }\n\n    public hasSolution() {\n        let seen: boolean[][] = []\n        let finishSites = []\n        let q: any[][] = []        // <i, j, distance, type>\n        let cnt = 0\n        for (let i = 0; i < this.R; i ++) {\n            seen.push([])\n            for (let j = 0; j < this.C; j ++) {\n                seen[i].push(false)\n                if (this.board[i][j].type === 'start') {\n                    seen[i][j] = true\n                    q.push([i, j, 0, 'start'])\n                }\n\n                if (this.board[i][j].type === 'finish') {\n                    finishSites.push([i, j])\n                    cnt ++\n                }\n            }\n        }\n\n        let layer = []\n        while (q.length != 0) {\n            let front = q.shift()\n            let [i, j, d, type] = front!\n            if (type === 'finish') cnt -= 1\n            let size = q.length\n            let dirs = this.dirs.get(type)\n            for (const [dx, dy] of dirs!) {\n                let ni = i + dx\n                let nj = j + dy\n                if (this.isWithinBound(ni, nj)) {\n                    let p = this.board[ni][nj].type\n                    let reverseDirs = this.dirs.get(p)!\n                    if ((!seen[ni][nj]) && \n                        (this.board[ni][nj].type !== 'blank') &&\n                        (this.isCompatible(dx, dy, reverseDirs))) {\n                            q.push([ni, nj, d + 1, this.board[ni][nj].type])\n                            layer.push([ni, nj])\n                            seen[ni][nj] = true\n\n                            this.board[ni][nj].isPartPath = true\n                    }\n                }\n            }\n        }\n        return cnt === 0\n    }\n\n    public hasSolutionWrapping() {\n        let seen: boolean[][] = []\n        let finishSites = []\n        let q: any[][] = []        // <i, j, distance, type>\n        for (let i = 0; i < this.R; i ++) {\n            seen.push([])\n            for (let j = 0; j < this.C; j ++) {\n                seen[i].push(false)\n                if (this.board[i][j].type === 'start') {\n                    seen[i][j] = true\n                    q.push([i, j, 0, 'start'])\n                }\n\n                if (this.board[i][j].type === 'finish') {\n                    finishSites.push([i, j])\n                }\n            }\n        }\n\n        let layer = []\n        while (q.length != 0) {\n            let front = q.shift()\n            let [i, j, d, type] = front!\n            let size = q.length\n            let dirs = this.dirs.get(type)\n            for (const [dx, dy] of dirs!) {\n                let ni = (i + dx + this.R) % this.R\n                let nj = (j + dy + this.C) % this.C\n                if (this.isWithinBound(ni, nj)) {\n                    let p = this.board[ni][nj].type\n                    let reverseDirs = this.dirs.get(p)!\n                    if ((!seen[ni][nj]) && \n                        (this.board[ni][nj].type !== 'blank') &&\n                        (this.isCompatible(dx, dy, reverseDirs))) {\n                            q.push([ni, nj, d + 1, this.board[ni][nj].type])\n                            layer.push([ni, nj])\n                            seen[ni][nj] = true\n\n                            this.board[ni][nj].isPartPath = true\n                    }\n                }\n            }\n        }\n\n        return this.win(finishSites, seen)\n    }\n\n    public win(finishSites: number[][], seen: boolean[][]): boolean {\n        if (finishSites.length === 0) return false\n        for (let i = 0; i < finishSites.length; i ++) {\n            let r = finishSites[i][0]\n            let c = finishSites[i][1]\n            if (seen[r][c] === false)\n                return false\n        }\n        return true\n    }\n\n    public generateBoard() {\n\n    }\n\n    public solveBoard(category: string) {\n        console.log('SOLVING')\n        let seen: boolean[][] = []\n        let start = []\n        for (let i = 0; i < this.R; i ++) {\n            seen.push([])\n            for (let j = 0; j < this.C; j ++) {\n                seen[i].push(false)\n                if (this.board[i][j].type === 'start') {\n                    seen[i][j] = true\n                    start.push([i, j])\n                }\n                \n            }\n        }\n\n        if (category === 'classic'){\n            for (const [i, j] of start) {\n                this.backtrack(i, j, seen)\n            }\n        } else{\n            console.log('wrapping is called')\n            for (const [i, j] of start) {\n                this.backtrackWrapping(i, j, seen)\n            } \n        }\n\n        console.log('DONE SOLVING')\n\n    }\n\n    public backtrack(i: number, j: number, seen: boolean[][]) {\n        console.log(i + ' ' + j)\n\n        // check if the configuration can return\n        if (this.hasSolution()) {\n            console.log('a solution exists')\n            let grid: Cell[][] = []\n            for (let r = 0; r < this.R; r ++) {\n                grid[r] = []\n                for (let c = 0; c < this.C; c ++) {\n                    let val = this.board[r][c].deepCopy()\n                    grid[r].push(val)\n                }\n            }\n            this.solutionBoard = grid\n            // this.setBoard(grid)\n            console.log(grid)\n            return true\n        }\n\n        let cell = this.board[i][j]\n        let curType = cell.type\n        let type = curType.charAt(0)\n        let curIndex: number = +curType.charAt(1)\n       // console.log(cell)\n\n\n        // try all rotation\n        if (curType === 'start') {\n            seen[i][j] = true\n            for (const [dx, dy] of [[1, 0], [-1, 0],[0, -1], [0, 1]]) {\n                let ni = i + dx\n                let nj = j + dy\n                if (this.isWithinBound(ni, nj) &&\n                    (this.board[ni][nj].type !== 'blank') &&\n                    (!seen[ni][nj]) &&\n                    (this.board[ni][nj].type !== 'finish')) {\n                        if (this.backtrack(ni, nj, seen))\n                            return true\n\n                }\n            }\n            seen[i][j] = false\n        }\n        \n        else {\n            seen[i][j] = true\n            let end = 0\n            if (type === 'i') end = 2\n            if (type === 't' || type == 'd') end = 4\n            for (let k = 0; k < end; k ++) {\n                let newIndex: number = -1\n                if (type === 'i') newIndex = (curIndex + k) % end\n                if (type === 't' || type === 'd') newIndex = (curIndex + k) % end\n                let temp = type + newIndex\n                this.board[i][j].type = temp\n                for (const [dx, dy] of [[1, 0], [-1, 0],[0, -1], [0, 1]]) {\n                    let ni = i + dx\n                    let nj = j + dy\n                    if (this.isWithinBound(ni, nj) &&\n                        (this.board[ni][nj].type !== 'blank') &&\n                        (!seen[ni][nj]) &&\n                        (this.board[ni][nj].type !== 'finish')) {\n                            if (this.backtrack(ni, nj, seen)) {\n                                return true\n                            }\n                    }\n                }\n            }\n            seen[i][j] = false\n        }\n        return false\n    }\n\n    public backtrackWrapping(i: number, j: number, seen: boolean[][]) {\n\n        // check if the configuration can return\n        if (this.hasSolutionWrapping()) {\n            console.log('a solution exists')\n            let grid: Cell[][] = []\n            for (let r = 0; r < this.R; r ++) {\n                grid[r] = []\n                for (let c = 0; c < this.C; c ++) {\n                    let val = this.board[r][c].deepCopy()\n                    grid[r].push(val)\n                }\n            }\n            this.solutionBoard = grid\n            console.log(grid)\n            return true\n        }\n        let cell = this.board[i][j]\n        let curType = cell.type\n        let type = curType.charAt(0)\n        let curIndex: number = +curType.charAt(1)\n\n        // try all dirs\n        if (curType === 'start') {\n            for (const [dx, dy] of [[1, 0], [-1, 0],[0, -1], [0, 1]]) {\n                let ni = (i + dx + this.R) % this.R\n                let nj = (j + dy + this.C) % this.C\n                if (this.isWithinBound(ni, nj) &&\n                    (this.board[ni][nj].type !== 'blank') &&\n                    (!seen[ni][nj])) {\n                        seen[ni][nj] = true\n                        if (this.backtrackWrapping(ni, nj, seen))\n                            return true\n                        seen[ni][nj] = false\n                }\n            }\n        }\n        \n        else if (curType === 'finish') { return }\n        else {\n            for (let k = 0; k < 5; k ++) {\n                let newIndex: number = -1\n                if (type === 'i') newIndex = (curIndex + k) % 2\n                if (type === 't' || type === 'd') newIndex = (curIndex + k) % 4\n                this.board[i][j].type = type + newIndex + ''\n                for (const [dx, dy] of [[1, 0], [-1, 0],[0, -1], [0, 1]]) {\n                    let ni = (i + dx + this.R) % this.R\n                    let nj = (j + dy + this.C) % this.C\n                    if (this.isWithinBound(ni, nj) &&\n                        (this.board[ni][nj].type !== 'blank') &&\n                        (!seen[ni][nj])) {\n                            seen[ni][nj] = true\n                            if (this.backtrackWrapping(ni, nj, seen)) {\n                                return true\n                            }\n                            seen[ni][nj] = false\n                    }\n                }\n            }\n        }\n        return false\n    }\n\n    public minBFS() {\n        let seen: boolean[][] = []\n        let q: any[][] = []        // <i, j, distance, type>\n        for (let i = 0; i < this.R; i ++) {\n            seen.push([])\n            for (let j = 0; j < this.C; j ++) {\n                seen[i].push(false)\n                if (this.board[i][j].type === 'start') {\n                    seen[i][j] = true\n                    q.push([i, j, 0, 'start'])\n                }\n            }\n        }\n        // console.log(`starting position: ${q[0]}`)\n\n        while (q.length != 0) {\n            console.log(`processing: ${q[0]}`)\n            let front = q.shift()\n            let [i, j, d, type] = front!\n            // let dirs = this.dirs.get(type)\n            if (type === 'finish') {\n                console.log(`rotation needed is: ${d}`)\n                break\n            }\n\n            let newIndex = -1\n            let t = type.charAt(0)\n            let curIndex: number = +type.charAt(1)\n            let rotations = 1\n            if (t === 'i') rotations = 2\n            if (t === 't' || t === 'd') rotations = 4\n            if (type === 'start' || type === 'finish') rotations = 1\n            if (type === '4ways') rotations = 1\n            for (let i = 0; i < rotations; i ++) {\n                newIndex = (curIndex + i) % rotations\n                let newType: string = ''\n                var dirs: number[][]\n                if (t === 'i' || t === 't' || t === 'd') {\n                    dirs = this.dirs.get(t + newIndex + '')!\n                    newType = t + newIndex + ''\n                }\n                else {\n                    dirs = this.dirs.get(type)!\n                    newType = type\n                }\n                for (const [dx, dy] of dirs!) {\n                    let ni = i + dx\n                    let nj = j + dy\n                    if (this.isWithinBound(ni, nj) && (!seen[ni][nj]) && (this.board[ni][nj].type !== 'blank')) {\n                        let p = this.board[ni][nj].type\n                        let reverseDirs = this.dirs.get(p)!\n                        if (this.isCompatible(dx, dy, reverseDirs)) {\n                            console.log('a')\n                            q.unshift([ni, nj, d, this.board[ni][nj].type])\n                            seen[ni][nj] = true\n                        } else {\n                            console.log('b')\n                            q.push([ni, nj, d + 1, this.board[ni][nj].type])\n                            seen[ni][nj] = true\n                        }\n                    }\n                }\n            }\n        }\n        console.log('done solving')\n        // return layer\n    }\n\n\n    public isWithinBound(i: number, j: number) {\n        if (i >= 0 && i < this.R && j >= 0 && j < this.C)\n            return true\n        return false\n    }\n\n    public setBoard(newBoard: Cell[][]) {\n        this.board = newBoard\n    }\n\n    public getBoard() {\n        return this.board\n    }\n\n    public getLevels() {\n        return this.levels\n    }\n\n    public getCommandManager(): CommandManager {\n        return this.commandManager\n    }\n\n    public getSolutionBoard() {\n        return this.solutionBoard\n    }\n\n}","import React, { Component } from 'react'\nimport { isParenthesizedExpression } from 'typescript'\nimport i0 from '../images/i0.png'\nimport i1 from '../images/i1.png'\nimport start from '../images/start.png'\nimport finish from '../images/finish.png'\nimport d0 from '../images/d0.png'\nimport d1 from '../images/d1.png'\nimport d2 from '../images/d2.png'\nimport d3 from '../images/d3.png'\nimport t0 from '../images/t0.png'\nimport t1 from '../images/t1.png'\nimport t2 from '../images/t2.png'\nimport t3 from '../images/t3.png'\nimport four_ways from '../images/4ways.png'\n\n\ninterface CellProps {\n    i: number\n    j: number\n\n    isStart: boolean\n    isFinish: boolean\n    isPartPath: boolean\n\n    imgSrc: string\n    type: string\n\n    onClick: any\n}\n\n\nexport class CellComponent extends Component<CellProps> {\n    render() {\n        const {\n            i,\n            j,\n            isStart,\n            isFinish,\n            isPartPath,\n            imgSrc,\n            onClick,\n            type,\n        } = this.props\n\n        const cellClassName = isFinish\n            ? 'cell_finish'\n            : isStart \n            ? 'cell_start'\n            : isPartPath\n            ? 'cell_path'\n            : 'pipe_grid_cell'\n\n        const imgName = type === 'i0'\n            ? i0\n            : type === 'i1'\n            ? i1\n            : type === 'finish'\n            ? finish\n            : type === 'start'\n            ? start\n            : type === 'd0'\n            ? d0\n            : type === 'd1'\n            ? d1\n            : type === 'd2'\n            ? d2\n            : type === 'd3'\n            ? d3\n            : type === 't0'\n            ? t0\n            : type === 't1'\n            ? t1\n            : type == 't2'\n            ? t2\n            : type === 't3'\n            ? t3\n            : type === '4ways'\n            ? four_ways\n            : ''\n\n        // const i0 = require('../images/i0.png')\n        return (\n            <div\n                id={`cell-${i}-${j}`}\n                className={`node ${cellClassName}`}\n                onClick={() => onClick(i, j, type)}\n                // onMouseDown={() => onMouseDown(row, col)}\n                // onMouseEnter={() => onMouseEnter(row, col)}\n                // onMouseUp={() => onMouseUp()}></div> \n            >\n                <img \n                    src={imgName} alt={''}\n                />\n            </div>\n        )\n    }\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAYAAAA4TnrqAAABC0lEQVR4Xu3SwQmAMAAEQW3B0izU0tKCIliAC0EQxveShPHW5eNv37Zz1pXHGOuss96c8+ll94NgvfktTwMLVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCIT0z8u6AJFgLFtVL+B3AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABB0lEQVR4Xu3ZMQEAIQwEwcQC0vDv5V/ElCz9UgzXsdMhgaW6eALEEQQYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtUAHvOR/e8XS+Adr7B2h+E2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW6ACYv983q8cTiDAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOY/GDIddZwfwdcAAAAASUVORK5CYIIA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAB+0lEQVR4Xu3aYW6DMAyGYTjH7n+0naMVk5AQBRrzxY7x3v3GJXnyOdB088SfJDBL1RRPAIohABBAUUAsJ4EAigJiOQkEUBQQy0kggKKAWB6WwN/X9BLHelj+M4/9MvB4wL1qNGg5wBU0CrIs4DaZnpgpAK0TvLOfWu/Rul8/EnA/OQtob8jhgD0nZIHs1eIhgGcT64k3KpXugCPwVszWRCoLWRpwgWxBTAs4Mn2tT1H1OtcEHgEqq61O1qMeQFE1FLBa+hZ7ALMm8D/sf64JBFCMNoCdASs+QEJbGEBjImlhI1jLaUjFFLq9B5JAMYFnJyFLCltOSK5unynJbglsPUrqsE5/HzEKtQxg9M+Z6/1cAaNTOAJxOGBr6yn7Zus97mwnQwHViSmoj/lVLuJ1RoVUFtI9gUf7oDLgszZTEJXxlAHcwloxAbyz+3eqKZnATjZNHwNgE9P5RQACKAqI5SQQQFFALHdPYMQ3EdFAKgdQ4nP+146rU2lx3GnKwxOofG1Ko7YZCIDiqgCYGbD6E3ixd00ggGK8AewMWO0JHN7CABoTuW9hAAH8EAh9CpNAEkgCjRn4enloCy+jqdbGAH7N2PUFAGYGPDpQpYWNK1b9Zdq1hTnSN6bt6PLqJzIkUAwJgNkBxfGlL3dPYHoBcYAAAigKiOUkUAR8AztP5FHcQVXrAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAACGklEQVR4Xu3b63GDMBAEYKgj/ZeWOpwhMR4PA0jK6vYe3vwNB+ZjdVIUvC76gQRWqFrFiwDBEAhQgKAAWK4EChAUAMuVQAGCAmC5ElgN8PuxPMB7+i3/WjlrXPcEzgK7Q7fE/AjAHdcC0hWQkb6zZM6EdAPswRu90Z5zzu6PLoB3NzqKdtX7GNfYrk0HZN3YDnt2vVkPiQ7IxpuxHGqdg5bAinjUBF4BzhxOrbRY/J6SwKp4tARaN3KLZPWe0y2B2YfuDuwCWAXPbQgLsLdBPI879kABCvAloB44GIbj4QIUICgAlrskcPaeHGgAlbsBVkF0BayASAHcoLSdBXWKv+KKiLQE3m2xZx7KdMBqSXQBbCFmSmRYwH3IR994cAPsSeH7vBUV0hWwNbGcTfzRIEMAZoYMBZgRMiTgKKTnsA4NmAEyBWBkyFSAvZDMIZ0SsGcNyUJMC9hKowAHts88X15Kn0DvJApwIOlnh5YBvJtYLPthKcArRAEODDP2hFIugewUmgB6v87GfKWYAujxPw7WQ6QBsrfnSwMyMD8G8DjBzlhypO+BrT+vBlYl//rqfhnAd6je7/L24F6l1OPdG5NJpIUwE7N1LesVgAvg8aatQWf01asHFQLQEtQSb/vcIQHPnvZoSq3h9s+YBrCn13kcI0BQXYACBAXAciVQgKAAWK4EChAUAMuVQAGCAmC5EihAUAAsVwJBwB9ttMlRPh89fQAAAABJRU5ErkJgggAA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABOElEQVR4Xu3YUQqCQBiF0dxCS2uhLc0tFNWLUEH2CWNxevbOyPGKfzMdBv1Ox+Nly63P8zxtud6naw3Z9HZzAD99RG+uAwjwLuAVjkUACPAh4CscmwAQ4DoBY8w6r6erAQI0B8YOAAS4EDDGxDoABLhOwBizzsscGL0AAnwt4DwwNgMgQAeqsQMAAX4jYJD+Rm2RAQjQeWDsAECADlS36IA5cDvFASv9zX/hAXb/9REBOEog7usVBhgFYlwDAUaBGNdAgFEgxjUQYBSIcQ0EGAViXAMBRoEY18BfBYz3vZv4sAbuRiDeCECAUSDGNRBgFIhxDQQYBWJcAwFGgRjXQIBRIMY1EGAUiHENBBgFYlwDAUaBGNdAgFEgxjUQYBSIcQ0EGAViXAMBRoEY10CAUSDGNRBgFIjxK+ySnRaA3wdtAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABHElEQVR4Xu3Y0QmEMAAFQW3B0iz0SrOFEwI24Aq5w/F/IYwvCK6LJwmsqRYvAOMIAAKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwv8V8B9277x7D+RT1sgwPj+AQIcAq5wHAJAgFEg5hYIMArE3AIBRoGYWyDAKBBzCwQYBWJugQCjQMwtEGAUiLkFvhnwcxzTBnC5TzvAE7/0AcbrAxDgfQFX+L7dKAECHAK+wnEIAAFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYn4ChvmVdTjkQdkAAAAASUVORK5CYIIA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABMElEQVR4Xu3ZwQnCQABFwaQFS7NQS0sLCgYk4Cn7Aisynv0SxqescV08ksCa1sYLwBgBQIBRIM4VCDAKxLkCAUaBOFcgwCgQ5woEGAXiXIEAo0CcKxBgFIhzBQKMAnGuQIBRIM4VCDAKxLkCAUaBOFcgwCgQ5woEGAXiXIEV8H67PeNr/MT8sW1TYlgBtvcfYPNbAALcBXwHxhIAAowCca5AgFEgzhUIMArEuQIBRoE4VyDAKBDnCgQYBeJ8WoHxuofnV9/IBTj8Vky+nRWve3iuwGG6fQgQ4Ftgyl+BCoz1AQT4EfARjjEABOggHRsACHBEwC+REbXDBiBAP+ViAwABHgTckY45AAR4TsAx5pzX17MBAnSMiQ0ABOgceEUD7gdeouggHRkBAjwn8C8H6Rd6x8hRzGFqNgAAAABJRU5ErkJgggAA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABLElEQVR4Xu3bwQ2CQABFQbcFSrNQS6MFSTwRb+RtsiGMZx+S2Y8nHa/Fr/e2fWfcwmffx4zrXL3Gkg893yTAq0f2936AAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAp8OOGsB0THny36dBbCd3QAI8CfgEW5DABj9AAKsArH3HQgwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSI+bIFxvt+fL78H+t3PwGA8QQBAowCMbdAgFEg5hYIMArE3AIBRoGYWyDAKBBzCwQYBWJugQCjQMwtEGAUiLkFAowCMbdAgFEg5hYIMArE3AIBRoGYWyDAKBBzC4yAB6OyyFEZbMxMAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABJElEQVR4Xu3bsQ2DMABFQbwCozFoRmOFpI3o0LNkIY6aB+j8W8a2+Dr2/TvjEz7nOWY85+4zlrz0/yMB3j2yy/0AAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5Bb4dcNYCouNj8wGwnR3A5rcBBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLrICxf32+/I/1p58AwHiCAAFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQVGwB9oI5V10ClTrwAAAABJRU5ErkJgggAA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABO0lEQVR4Xu3bQQrCMBAFUHsFj+ZBPVqvoKibQCt08gOB8FxnGnn+knGq223S63G/v0Zu/dz3beT1rl5ryqafNwfw6kf0Zx1AgF8Bt3AYBIAAfwJO4TAJAAHWBLQxNa/DaoAA9YFhBgACbAS0MWEcAAKsCWhjal76wNALIMBzAfPAMBkAARqohhkACLBHQCPdo9bUAARoHhhmACBAA9URGdAHjlOccKVlvgtPsFvrEAE4SyDc1y0MMBQIyyUQYCgQlksgwFAgLJdAgKFAWC6BAEOBsFwCAYYCYbkEAjSRDjMAEGCPgF8m9Kg1NQABrvVQyR9twkQDBFgTcIjUvA6rAQJ0CocZAAiwEdDGhHEACLAmoI2peekDQy+AAM8Flnkq5xQOIw4QYE1AG1PzcgqHXgABamNGZ8A8cIToG3FmFSWEGIs+AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABGklEQVR4Xu3ZwQ1AQABFwd0WlKZQpWmBhA48iYNxfyLj72nn8CSBmWrxABhHABBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFtgBVyX5Yjv+HU+Abb/D7D5DYAAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEVMPaP8zeuErZ9//xS7LMPAPh4e3cIEOAl4AjHIQAEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3wAh4AjCrlXXmpLvzAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABSklEQVR4Xu3ZUQqCQBQF0NyCS2uhLc0tFDlBggbOuwMSnL59oxzv4GWabhf97vP8HHnrx7JMI9c7u9YlN30/HMCzr+jHdQABrgK2cBgEgACbgK9wmASAAPsE1Jg+r93VAAHqgWEGAALcCKgxYRwAAuwTUGP6vPTA0AsgwGMB54FhMgACdKAaZgAgwIqAIl1R28wABOg8MMxAAxy9lUY8VGWNy46zAFZe13dGAjM/Wzj0AwjwI+AjEkYBIMBQIByXQIChQDgugQBDgXBcAgGGAuG4BAIMBcJxCfxXwPC5y+OjD3IvS2BZIBwECLD9qRQ6lMclsEzXBgECtIXDDAAEuBHQA8M4AATYJ6DG9HntrgYIUI0JMwAQoB44IgNtDT0wtAQIsE9AD+zzUqRDL4AAjwX8qRQmAyBARTrMAECAFQFFuqK2mQEIcBV4ASiGQGDSPWW2AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABPklEQVR4Xu3aUWrCUBCG0boFl9aFdmluoVLzEogFJ98FEY7Pd5Jw8l8yGXP5etPv+3r9XXnqn9vtsvJ4rx7rLSf9uziAr96if9YBBPgQsIVjEAAC3AQ8hWMSAAKcCWhjZl6H1QAB6gNjBgAC3AloY2IcAAKcCWhjZl76wOgFEOBzAfPAmAyAAA1UYwYAAjwjoJE+o7arAQjQPDBmYANcvZVWXNQnHQNgvFsAAUaBWC6BAKNALJdAgFEglksgwCgQyyUQYBSI5RIIMArEcgkEGAViuQQCjAKx3JcJADcBX6jGJAAEOBNY/W+gBM78D6sBApwJ2MIzr8NqgAAfAt5EYhAAAvQqFzMAEOAZAW3MGbVdDUCA+sCYAYAAdwLGWTEOAAHOBLQxMy/zwOgFEOBzAfPAmAyAAM0DYwYAfjTgHdcIEprY+NNXAAAAAElFTkSuQmCC\"","import { Button } from '@material-ui/core';\nimport * as React from 'react';\nimport { FloodTubes } from '../game/FloodTube';\nimport { CellComponent } from './CellComponent';\nimport {HudComponent} from './HudComponent'\n\nexport interface FloodTubeProps {\n  game: FloodTubes\n  selectedLevel: string\n}\n\nexport interface FloodTubeState { \n  refresh: boolean\n\n}\n\nexport default class FloodTubeComponent extends React.Component<FloodTubeProps, FloodTubeState> {\n  constructor(props: FloodTubeProps) {\n    super(props);\n\n    this.state = {\n      // path: [],\n      // grid: this.props.game.getBoard(),\n      refresh: false\n    }\n  }\n\n  handleClick(i: number, j: number, type: string) {\n\n    this.props.game.rotate(i, j, type)\n    this.setState({refresh: !this.state.refresh})\n\n  }\n\n  animatePath(path: number[][]) {\n    console.log('animating path')\n    for (let i = 0; i < path.length; i++) {\n      setTimeout(() => {\n        const node = path[i];\n        document.getElementById(`cell-${node[0]}-${node[1]}`)!.className =\n          'pipe_grid_cell node-shortest-path';\n      }, 5 * i);\n    }\n  }\n\n  runBFS() {\n    let str: string = this.props.selectedLevel\n    const lst: string[] = str.split(' ')\n    const category: string = lst[0]\n    const index: number = +lst[1]\n    if (category === 'classic') {\n      let p = this.props.game.BFS()\n      this.animatePath(p)\n\n    } else if(category === 'wrapping') {\n      let p = this.props.game.wrappingBFS()\n      this.animatePath(p)\n    }\n  }\n\n\n\n\n  public render() {\n    let board = this.props.game.getBoard()\n    return (\n      <div>\n          {/* <HudComponent\n            flow={() => this.runBFS()}\n            loadLevel={(level: string[][])=>this.loadLevel(level)}\n            game={this.props.game}\n            levels={this.props.game.getLevels()}\n\n          ></HudComponent> */}\n          <Button onClick={()=>this.runBFS()}> FLOW </Button>\n          <div className=\"pipe_board center\">\n          <div className='grid_container'>\n            {\n              board.map((lst, i) => (\n                <div className='pipe_grid_row'>\n                  {lst.map((item, j) => (\n                    <CellComponent\n                      isFinish={false}\n                      isStart={false}\n                      isPartPath={item.isPartPath}\n                      i={i}\n                      j={j}\n                      type={item.type}\n                      imgSrc={item.imgSrc}\n                      onClick={(i: number, j: number, type: string) => this.handleClick(i, j, item.type)}\n                    ></CellComponent>\n                    // <div className={\"pipe_grid_cell\"} onClick={()=>this.cellClick(i, j, item.type)}>\n                    // </div>\n                  ))}\n                </div>\n              ))\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react'\nimport { Button, Typography, FormControl, InputLabel, Select, } from '@material-ui/core';\nimport { FloodTubes } from '../game/FloodTube';\nimport FloodTubeComponent from './FloodTubeComponent';\nimport { Cell } from '../game/Cell';\nimport { CommandManager } from '../ds/CommandManager';\n\n\ninterface HudProps {\n\n    game: FloodTubes\n\n}\n\ninterface HudState {\n    refresh: boolean\n    selectedLevel: string\n}\n\nexport class HudComponent extends React.Component<HudProps, HudState> {\n\n    constructor(props: HudProps) {\n        super(props);\n\n        this.state = {\n            refresh: false,\n            selectedLevel: 'none'\n        }\n    }\n\n\n    handleChange(event: React.ChangeEvent<{ value: string }>) {\n\n        const str: string = (event.target.value)\n        if (str === undefined || str === null || str === '' || str === 'none') return\n        const lst: string[] = str.split(' ')\n        const category: string = lst[0]\n        const index: number = +lst[1]\n\n        const levels: Map<string, string[][][]> = this.props.game.getLevels()\n        const newBoard: string[][] = levels.get(category)![index]\n        var board: Cell[][] = this.props.game.getBoard()\n        for (let i = 0; i < board.length; i ++) {\n            for (let j = 0; j < board[i].length; j ++) {\n                board[i][j].type = newBoard[i][j]\n                board[i][j].isPartPath = false\n            }\n        }\n\n        this.setState({\n            refresh: !this.state.refresh,\n            selectedLevel: str\n        })\n    }\n\n    handleReset() {\n        console.log('doing a reset')\n        let str = this.state.selectedLevel\n        if (str === undefined || str === null || str === '' || str === 'none') return\n        const lst: string[] = str.split(' ')\n        const category: string = lst[0]\n        const index: number = +lst[1]\n\n        const levels: Map<string, string[][][]> = this.props.game.getLevels()\n        const newBoard: string[][] = levels.get(category)![index]\n        var board: Cell[][] = this.props.game.getBoard()\n        for (let i = 0; i < board.length; i ++) {\n            for (let j = 0; j < board[i].length; j ++) {\n                board[i][j].type = newBoard[i][j]\n                board[i][j].isPartPath = false\n            }\n        }\n\n        this.setState({\n            refresh: !this.state.refresh,\n            selectedLevel: str\n        })\n    }\n\n    handleFlowClick() {\n\n    }\n\n    handleUndoClick() {\n        let commandManager: CommandManager = this.props.game.getCommandManager()\n        commandManager.undo()\n\n        this.setState({\n            refresh: !this.state.refresh\n        }) \n    }\n\n    handleRedoClick() {\n        console.log('redoing')\n        let commandManager: CommandManager = this.props.game.getCommandManager()\n        console.log(commandManager.redoStk)\n        commandManager.redo()\n\n        this.setState({\n            refresh: !this.state.refresh\n        }) \n    }\n\n    handleSolveClick() {\n        let game = this.props.game\n        // let category = this.state.selectedLevel.split(' ')[0]\n        // game.solveBoard(category)\n        // if (game.getSolutionBoard() !== undefined) {\n        //     game.setBoard(game.getSolutionBoard()!)\n        //     // console.log(game.getBoard())\n        // }\n        // this.setState({\n        //     refresh: !this.state.refresh\n        // }) \n        console.log('solve click')\n        game.minBFS()\n\n\n    }\n    \n    render() {\n        const {\n            game,\n        } = this.props\n        let levels: Map<string, string[][][]> = game.getLevels()\n        return (\n            <div>\n                <h1>Flood Tubes</h1>\n                <div className='hud'>\n                    <FormControl>\n                        <InputLabel htmlFor=\"grouped-native-select\">Levels</InputLabel>\n                        <Select native defaultValue=\"\" id=\"grouped-native-select\" onChange={(e: any)=>this.handleChange(e)}>\n                            <option aria-label=\"None\" value=\"\"/>\n                            {\n                                [...levels.keys()].map(k => (\n                                    <optgroup label={k}>\n                                        {[...Array(levels.get(k)?.length)].map((v, i) => (\n                                            \n                                            <option value={`${k} ${i}`}>{`${k} ${i}`}</option>\n                                        ))}\n                                    </optgroup>\n                                ))\n                            }\n                            {/* <optgroup label=\"classic\">\n                                <option value={1}>Level 1</option>\n                                <option value={2}>Level 2</option>\n                            </optgroup>\n                            <optgroup label=\"wrapping\">\n                                <option value={3}>Level 1</option>\n                                <option value={4}>Level 2</option>\n                            </optgroup> */}\n                        </Select>\n                    </FormControl>\n                    <Button variant=\"outlined\" color='primary' onClick={()=>{this.handleReset()}}> reset </Button>\n                    <Button variant=\"outlined\" color='primary' onClick={()=>{this.handleUndoClick()}}> undo </Button>\n                    <Button variant=\"outlined\" color='primary' onClick={()=>{this.handleRedoClick()}}> redo </Button>\n                    <Button variant=\"outlined\" color='primary' onClick={()=>{this.handleSolveClick()}}> solve </Button>\n                </div>\n                <div>\n                    <FloodTubeComponent \n                        game={game}\n                        selectedLevel={this.state.selectedLevel}\n                    ></FloodTubeComponent>\n\n                </div>\n            </div>\n\n        )\n    }\n}","import { runInThisContext } from \"vm\";\nimport { Cell } from \"../game/Cell\";\nimport { Player } from \"../game/sokoban/player\";\nimport { Sokoban } from \"../game/sokoban/Sokoban\";\nimport { SokobanCell } from \"../game/sokoban/SokobanCell\";\nimport { ICommand } from \"./ICommand\";\n\nexport class SokobanMoveCommand implements ICommand {\n\n    private game: Sokoban\n    private curGrid: SokobanCell[][]\n    private playerX: number\n    private playerY: number\n    private player: Player\n\n\n    constructor(game: Sokoban, grid: SokobanCell[][], player: Player) {\n        this.game = game\n        this.curGrid = []\n\n        for (let i = 0; i < grid.length; i ++) {\n            this.curGrid[i] = []\n            for (let j = 0; j < grid[i].length; j ++) {\n                this.curGrid[i].push(grid[i][j].deepCopy())\n            }\n        }\n\n        this.playerX = player.getX()\n        this.playerY = player.getY()\n        this.player = player\n    }\n\n    public execute() {\n        let board = this.game.getBoard()\n        for (let i = 0; i < board.length; i ++) {\n            for (let j = 0; j < board[i].length; j ++) {\n                let cell = board[i][j]\n                cell.setI(this.curGrid[i][j].getI())\n                cell.setJ(this.curGrid[i][j].getJ())\n                cell.setType(this.curGrid[i][j].getType())\n                cell.setIsBox(this.curGrid[i][j].getIsBox())\n                cell.setIsPlayer(this.curGrid[i][j].getIsPlayer())\n            }\n        }\n\n        // this.game.setBoard(this.curGrid)\n        this.player.setX(this.playerX)\n        this.player.setY(this.playerY)\n        // this.game.setPlayer(new Player(this.playerX, this.playerY))\n    }\n\n    public undo() {\n        let stk = this.game.getCommandManager().undoStk\n        let last = stk.length - 1\n        if (last >= 0) {\n            console.log(stk[last])\n            stk[last].execute()\n        }\n    }\n\n    public redo() {\n        // this.game.setBoard(this.curGrid)\n        let board = this.game.getBoard()\n        for (let i = 0; i < board.length; i ++) {\n            for (let j = 0; j < board[i].length; j ++) {\n                let cell = board[i][j]\n                cell.setI(this.curGrid[i][j].getI())\n                cell.setJ(this.curGrid[i][j].getJ())\n                cell.setType(this.curGrid[i][j].getType())\n                cell.setIsBox(this.curGrid[i][j].getIsBox())\n                cell.setIsPlayer(this.curGrid[i][j].getIsPlayer())\n            }\n        }\n        // this.game.setPlayer(new Player(this.playerX, this.playerY))\n        this.player.setX(this.playerX)\n        this.player.setY(this.playerY)\n    }\n\n    public getStateBoard() {\n        return this.curGrid\n    }\n\n}","import React, { Component } from 'react'\nimport wall from '../images/wall.png'\nimport player from '../images/player.png'\nimport endpoint from '../images/endpoint.png'\nimport ground from '../images/ground.png'\nimport box from '../images/box.png'\n\ninterface SokobanCellProps {\n    i: number\n    j: number\n\n    imgSrc: string\n    type: string\n\n    isPlayer: boolean\n    isBox: boolean\n\n    onClick: any\n}\n\n\nexport class SokobanCellComponent extends Component<SokobanCellProps> {\n    render() {\n        const {\n            i,\n            j,\n            imgSrc,\n            onClick,\n            type,\n            isPlayer,\n            isBox\n        } = this.props\n\n        // const cellClassName = isFinish\n        //     ? 'cell_finish'\n        //     : isStart \n        //     ? 'cell_start'\n        //     : isPartPath\n        //     ? 'cell_path'\n        //     : 'pipe_grid_cell'\n        const cellClassName = type === 'g'\n            ? 'ground'\n            : type === 'w'\n            ? 'wall'\n            : type === 'e'\n            ? 'endpoint'\n            : 'ground'\n\n        const imgName = isPlayer === true\n            ? player\n            : isBox === true\n            ? box\n            : ''\n\n        const style = \"style='height: 100%; width: 100%; object-fit: contain\"\n        // const i0 = require('../images/i0.png')\n        return (\n            <div\n                id={`cell-${i}-${j}`}\n                className={`node ${cellClassName}`}\n                onClick={() => onClick(i, j, type)}\n                // onMouseDown={() => onMouseDown(row, col)}\n                // onMouseEnter={() => onMouseEnter(row, col)}\n                // onMouseUp={() => onMouseUp()}></div> \n            >\n                <img \n                    // className={'img'}\n                    src={imgName} alt={''}\n                />\n            </div>\n        )\n    }\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJCQzQyNTY5RTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJCQzcyN0ZCRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkJDNDI1NjdFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkJDNDI1NjhFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6SouJPAAAJbklEQVR42uxb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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJCNzFCOTYwRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJCNzFCOTYxRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkI2RDc0OTBFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkI3MUI5NUZFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5zSkZWAAADbUlEQVR42tyb3W4SQRTHz5yCUEuLF5q0F0aSvoBvYCPaa99AY+o9PoG+gXhprD6D11IMvkEfob1pUxOTfoCAYEcOMGWz3WXPLjsfy/+m7Een8/vlMLDTGQGefGo0yitSvAIBO6PDe5OzYgcyHdmavjgHCS1YEd/2qtVjdVWoF18azXcSoDYDX96MOOtvnlff3giYwr/339i+uIB+r5dp2EKxCKVyOcCCrO3tPvuI+83moyB4Cv0iNbB08JPip2oHhH/B8FmXMB9+XPuV/YODlwhCVqIay5qESPjZYPACpeQNelmRwIYfDwNQQSHEYzrodbuZl8CFV6zEjupk5/Iy0xLiwBOrCnovZlVCUnhKzn+TuqG4ujq/NSHg18kJDPp9q/D5QgEebm8ngr9VAdxKaI+u/z47g7ul0rgDNuGpD9SXdgBcFHyogHkSFLyKLQkKXiVMwjz4uQKCJPjhbUnww4dJiIIPHAPCxoThYBAI75XwZ/RT95gQBu+VMAbL5yPhIyvAK+H0+DjyPt2VEAWvQn3lwLMFULqdDvxlPBnqksCFpz5SX7nBOJ2wJUEXfGwBNiTohE8kwKQE3fCJBZiQYAJ+IQE6JZiCX1iADgkm4VMRkKYE0/CpCUhDgg34VAUsIsEWPOtZIIkEyp2ICRP17KBe24DXIiCuBE50waf+FkjydrAJr1VAGhJ0w2sXsIgEE/BGBCSRYAremIDxjNJwqOXeTAjgfs7rnlSxIiAuvGkJ6CK8SQnoKrwpCWgTnkZ7mxOtWr4KJ32w4T47pP1/B3QB3uaUO9qGty0BXYC3KQFdgbclAV2CtyEBXYM3LQFdhDcpAV2FNyUBXYY3ISHnOrxXQpxvjKlWAK3De7C1ZX0mh1sJ1FfuOsYcB54WIaqFiJ2rKyvw3EpYW1+H+5ubN8dR+x2QA69CDdMfsAUfVQl+eM6KVuTCh0kwDR8mwQ/PlYBx4P0SbMH7JYTBcyTk4sJ7GxVCgAtZ29hg9TdoTMAk8JwVmCazyCr3XNbhvRIoUavc/YwIEo6CLmQJPkklzAQIecRp3HX4uBIoUspDlCAOlwU+tgQhWigQ6ssEH0cCsSNtJBYhO0ezCs+RQMxT9kk+N5ofxGTz9NLn1uZpla/ffzy5Fte16Zb5ZdtFfk5b6VFi/fXu05/q5H8BBgA93r8llM20NwAAAABJRU5ErkJggg==\"","import { Button, FormControl, InputLabel, MenuItem, Select } from '@material-ui/core';\nimport { request } from 'http';\nimport * as React from 'react';\nimport { SokobanMoveCommand } from '../ds/SokobanMoveCommand';\nimport { FloodTubes } from '../game/FloodTube';\nimport { Sokoban } from '../game/sokoban/Sokoban';\nimport { CellComponent } from './CellComponent';\nimport { HudComponent } from './HudComponent'\nimport { SokobanCellComponent } from './SokobanCellComponent';\n\nexport interface SokobanProps {\n  game: Sokoban\n}\n\nexport interface SokobanState {\n  refresh: boolean\n\n}\n\nexport default class SokobanComponent extends React.Component<SokobanProps, SokobanState> {\n  constructor(props: SokobanProps) {\n    super(props);\n\n    this.state = {\n      // path: [],\n      // grid: this.props.game.getBoard(),\n      refresh: false\n    }\n  }\n\n  handleKeys(event: React.KeyboardEvent<HTMLDivElement>) {\n    let code = event.key\n    console.log(code)\n    let respond = this.props.game.canMove(code)\n    let movable: boolean = respond[0]\n    let withBox: boolean = respond[1]\n    let game = this.props.game\n    if (movable) {\n      if (withBox) {\n        console.log('move box')\n        this.props.game.moveBox(code)\n      } else {\n        console.log('move player')\n        this.props.game.movePlayer(code)\n      }\n\n      //\n      let manager = game.getCommandManager()\n      let command: SokobanMoveCommand = new SokobanMoveCommand(game, game.getBoard(), game.getPlayer())\n      manager.execute(command)\n      console.log(manager.undoStk)\n      this.setState({\n        refresh: !this.state.refresh\n      })\n    }\n\n    //   if(code === 'a') {\n    //     // this.move(\"LEFT\")\n    //     this.props.game.move(code)\n    //   } else if (code === 'w') {\n    //     // this.move(\"UP\")\n    //   } else if (code === 'd') {\n    //     // this.move(\"RIGHT\")\n    //   } else if (code === 's') {\n    //     // this.move(\"DOWN\")\n    //   }\n  }\n\n  handleRedoClick() {\n    let game = this.props.game\n    game.redo()\n    this.setState({\n      refresh: !this.state.refresh\n    })\n  }\n\n  handleUndoClick() {\n    console.log(\"undo is clicked\")\n    let game = this.props.game\n    game.undo()\n    console.log(game.getCommandManager().undoStk)\n    this.setState({\n      refresh: !this.state.refresh\n    })\n  }\n\n  handleReset() {\n    let manager = this.props.game.getLevelManger()\n    let curLevel = manager.getCurLevel()\n    this.props.game.loadLevel(curLevel)\n    this.setState({\n      refresh: !this.state.refresh\n    })\n  }\n\n  handleChange(event: React.ChangeEvent<{ value: string }>) {\n    let requestedLevel: string = event.target.value\n    this.props.game.loadLevel(requestedLevel)\n    this.setState({\n      refresh: !this.state.refresh\n    })\n  }\n  public render() {\n    let board = this.props.game.getBoard()\n    return (\n      <div>\n        {/* <HudComponent\n            flow={() => this.runBFS()}\n            loadLevel={(level: string[][])=>this.loadLevel(level)}\n            game={this.props.game}\n            levels={this.props.game.getLevels()}\n\n          ></HudComponent> */}\n        <h1>Sokoban</h1>\n        <div className='hud'>\n          <InputLabel id=\"label\">Levels</InputLabel>\n          <Select labelId=\"label\" id=\"select\" onChange={(e: any)=>this.handleChange(e)}>\n            <MenuItem value=\"1\"> 1 </MenuItem>\n            <MenuItem value=\"2\"> 2 </MenuItem>\n            <MenuItem value=\"3\"> 3 </MenuItem>\n          </Select>\n          <Button variant=\"outlined\" color='primary' onClick={() => { this.handleReset() }}> reset </Button>\n          <Button variant=\"outlined\" color='primary' onClick={() => { this.handleUndoClick() }}> undo </Button>\n          <Button variant=\"outlined\" color='primary' onClick={() => { this.handleRedoClick() }}> redo </Button>\n        </div>\n        <div className=\"pipe_board center\" tabIndex={0} onKeyDown={(e: React.KeyboardEvent<HTMLDivElement>) => this.handleKeys(e)}>\n          <div className='grid_container'>\n            {\n              board.map((lst, i) => (\n                <div className='pipe_grid_row'>\n                  {lst.map((item, j) => (\n                    <SokobanCellComponent\n                      i={i}\n                      j={j}\n                      type={item.type}\n                      imgSrc={item.type}\n                      onClick={(i: number, j: number, type: string) => { }}\n                      isPlayer={item.getIsPlayer()}\n                      isBox={item.getIsBox()}\n                    ></SokobanCellComponent>\n                    // <div className={\"pipe_grid_cell\"} onClick={()=>this.cellClick(i, j, item.type)}>\n                    // </div>\n                  ))}\n                </div>\n              ))\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","export class Player {\n    private x: number\n    private y: number\n\n    constructor(initX: number, initY: number) {\n        this.x = initX\n        this.y = initY\n    }\n\n    public setX(x: number) {\n        this.x = x\n    }\n\n    public setY(y: number) {\n        this.y = y\n    }\n\n    public getX() { return this.x }\n\n    public getY() { return this. y }\n}","export class SokobanCell {\n    private i: number\n    private j: number\n    public type: string\n\n    private isPlayer: boolean\n    private isBox: boolean\n\n\n    constructor(i: number, j: number, type: string, isPlayer: boolean, isBox: boolean) {\n        this.i = i\n        this.j = j\n        this.type = type \n\n        \n        this.isPlayer = isPlayer\n        this.isBox = isBox\n\n    }\n\n    public deepCopy() {\n        return new SokobanCell(\n            this.i,\n            this.j,\n            this.type,\n            this.isPlayer,\n            this.isBox\n        )\n    }\n\n    public setIsPlayer(bool: boolean) {\n        this.isPlayer = bool\n    }\n\n    public setIsBox(bool: boolean) {\n        this.isBox = bool\n    }\n\n    public setI(i: number) { this.i = i }\n    public setJ(j: number) { this.j = j }\n    public setType(type: string) { this.type = type }\n\n    public getIsPlayer() { return this.isPlayer }\n    public getIsBox() { return this.isBox }\n    public getI() { return this.i }\n    public getJ() { return this.j }\n    public getType() { return this. type }\n}","export class SokobanLevel {\n\n    private levelName: string\n    private baseLayer: string[][]\n    private boxesPos: number[][]\n    private playerPos: number[][]\n\n    constructor(levelName: string, baseLayer: string[][], boxesPos: number[][], playerPos: number[][]) {\n        this.levelName = levelName\n        this.baseLayer = baseLayer\n        this.boxesPos = boxesPos\n        this.playerPos = playerPos\n    }\n\n    public setBaseLayer(layer: string[][]) { this.baseLayer = layer }\n    public setBoxesPos(boxesPos: number[][]) { this.boxesPos = boxesPos }\n    public setPlayerPos(playerPos: number[][]) { this.playerPos = playerPos }\n\n    public getBaseLayer() { return this.baseLayer }\n    public getBoxesPos() { return this.boxesPos }\n    public getPlayerPos() { return this.playerPos }\n    public getLevelName() { return this.levelName }\n\n}","import { request } from \"http\"\nimport { SokobanLevel } from \"./SokobanLevel\"\n\nexport class SokobanLevelManager {\n\n    private curLevel: string\n    private levels: Map<string, SokobanLevel>\n\n    constructor() {\n        this.curLevel = '1'\n        this.levels = new Map()\n        \n        let level1 = new SokobanLevel(\n            'level1',\n        [\n            ['w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w'],\n            ['w', 'g', 'g', 'g', 'g', 'g', 'g', 'g', 'g', 'w'],\n            ['w', 'w', 'g', 'g', 'g', 'g', 'e', 'g', 'g', 'w'],\n            ['w', 'w', 'g', 'g', 'g', 'w', 'w', 'g', 'g', 'w'],\n            ['w', 'w', 'g', 'g', 'g', 'e', 'e', 'g', 'w', 'w'],\n            ['w', 'w', 'g', 'g', 'g', 'g', 'w', 'g', 'g', 'w'],\n            ['w', 'w', 'g', 'g', 'g', 'g', 'g', 'g', 'g', 'w'],\n            ['w', 'w', 'w', 'g', 'g', 'e', 'w', 'w', 'w', 'w'],\n            ['w', 'w', 'w', 'g', 'g', 'g', 'g', 'g', 'g', 'w'],\n            ['w', 'w', 'w', 'g', 'w', 'w', 'w', 'w', 'w', 'w']\n        ],\n        [\n            [5, 3],\n            [3, 3],\n            [2, 5]\n        ],\n        [\n            [5, 5]\n        ]\n        )\n\n        let level2 = new SokobanLevel(\n            'level2',\n        [\n            ['w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w'],\n            ['w', 'g', 'g', 'g', 'g', 'g', 'g', 'g', 'g', 'w'],\n            ['w', 'g', 'g', 'g', 'g', 'g', 'g', 'g', 'g', 'w'],\n            ['w', 'g', 'g', 'g', 'g', 'w', 'w', 'g', 'g', 'w'],\n            ['w', 'w', 'w', 'w', 'g', 'g', 'g', 'g', 'w', 'w'],\n            ['w', 'e', 'g', 'g', 'g', 'g', 'w', 'g', 'g', 'w'],\n            ['w', 'e', 'g', 'g', 'g', 'g', 'g', 'g', 'g', 'w'],\n            ['w', 'w', 'w', 'g', 'g', 'g', 'w', 'w', 'w', 'w'],\n            ['w', 'w', 'w', 'g', 'g', 'g', 'g', 'g', 'g', 'w'],\n            ['w', 'w', 'w', 'g', 'w', 'w', 'w', 'w', 'w', 'w']\n        ],\n        [\n            [2, 3],\n            [2, 2],\n        ],\n        [\n            [5, 5]\n        ]\n        )\n\n\n        let level3 = new SokobanLevel(\n            'level3',\n        [\n            ['w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w'],\n            ['w', 'w', 'w', 'e', 'g', 'g', 'g', 'g', 'g', 'w'],\n            ['w', 'g', 'g', 'g', 'g', 'g', 'g', '', 'g', 'w'],\n            ['w', 'g', 'g', 'g', 'g', 'w', 'w', 'g', 'g', 'w'],\n            ['w', 'w', 'w', 'g', 'g', 'w', 'g', 'g', 'w', 'w'],\n            ['w', 'w', 'g', 'g', 'g', 'g', 'w', 'g', 'w', 'w'],\n            ['w', 'w', 'g', 'g', 'g', 'g', 'g', 'g', 'w', 'w'],\n            ['w', 'w', 'g', 'g', 'g', 'g', 'w', 'w', 'w', 'w'],\n            ['w', 'w', 'g', 'g', 'g', 'g', 'g', 'g', 'g', 'w'],\n            ['w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w']\n        ],\n        [\n            [3, 3],\n            [2, 2],\n        ],\n        [\n            [6, 5]\n        ]\n        )\n\n        this.levels.set('1', level1)\n        this.levels.set('2', level2)\n        this.levels.set('3', level3)\n    }\n\n    public setCurLevel(level: string) { this.curLevel = level } \n    public getCurLevel() { return this.curLevel } \n    public getLevels() { return this.levels }\n\n    public getLevel(requestedLevel: string) {\n        \n        if (requestedLevel !== undefined || requestedLevel !== null) {\n            return this.levels.get(requestedLevel)\n        }\n        return \n    }\n}","import { dirxml } from \"console\"\nimport { stringify } from \"querystring\"\nimport { CommandManager } from \"../../ds/CommandManager\"\nimport { RotateCommand } from \"../../ds/RotateCommand\"\nimport { SokobanMoveCommand } from \"../../ds/SokobanMoveCommand\"\nimport { Cell } from \"../Cell\"\nimport { LevelManager } from \"../LevelManager\"\nimport { Player } from \"./player\"\nimport { SokobanCell } from \"./SokobanCell\"\nimport { SokobanLevel } from \"./SokobanLevel\"\nimport { SokobanLevelManager } from \"./SokobanLevelManager\"\n\nexport class Sokoban {\n    \n    private board: SokobanCell[][]\n    private R: number\n    private C: number\n\n    private levelManager: SokobanLevelManager\n    private commandManager: CommandManager\n    private levels: Map<string, SokobanLevel>\n\n    private dirs: Map<string, number[]>\n    private player: Player\n\n\n    // private playerCoord: [number, number]\n\n\n    constructor(row: number, col: number) {\n\n        this.commandManager = new CommandManager()\n        this.levelManager = new SokobanLevelManager()\n        this.levels = this.levelManager.getLevels()\n\n        this.dirs = new Map()\n        this.dirs.set(\"w\", [-1, 0])\n        this.dirs.set(\"s\", [1, 0])\n        this.dirs.set(\"a\", [0, -1])\n        this.dirs.set(\"d\", [0, 1])\n\n        // init board\n        this.board = []\n        this.R = row\n        this.C = col\n        for (let i = 0; i < row; i ++) {\n            this.board[i] = []\n            for (let j = 0; j < col; j ++) {\n                let node = new SokobanCell(i, j, 'g', false, false)\n                this.board[i].push(node)\n            }\n        }\n        this.player = new Player(0, 0)\n\n        let command: SokobanMoveCommand = new SokobanMoveCommand(this, this.getBoard(), this.player)\n        this.commandManager.execute(command)\n    }\n\n    public loadLevel(requestedLevel: string) {\n        \n        let level: SokobanLevel = this.levelManager.getLevel(requestedLevel)!\n        if (level === undefined || level === null) return\n\n        this.levelManager.setCurLevel(requestedLevel)\n        let base = level.getBaseLayer()\n        let boxesPos = level.getBoxesPos()\n        let playerPos = level.getPlayerPos()\n        \n        for (let i = 0; i < this.board.length; i ++) {\n            for (let j = 0; j < this.board[i].length; j ++) {\n                this.board[i][j] = new SokobanCell(i, j, base[i][j], false, false)\n            }\n        }\n\n        for (let i = 0; i < boxesPos.length; i ++) {\n            let r = boxesPos[i][0]\n            let c = boxesPos[i][1]\n            this.board[r][c].setIsBox(true)\n        }\n\n        let playerX = playerPos[0][0]\n        let playerY = playerPos[0][1]\n        this.player.setX(playerX)\n        this.player.setY(playerY)\n        this.board[playerX][playerY].setIsPlayer(true)\n    }\n\n    public canMove(dir: string) {\n\n\n        let playerX = this.player.getX()\n        let playerY = this.player.getY()\n        \n        let tmp = this.dirs.get(dir)!\n        if (tmp === undefined || tmp === null) return [false, false]\n\n        let dx = tmp[0]\n        let dy = tmp[1]\n\n        let newX = playerX + dx\n        let newY = playerY + dy\n\n        if (this.board[newX][newY].getIsBox()) {\n            let nr = newX + dx\n            let nc = newY + dy\n            if (this.board[nr][nc].getIsBox()) return [false, false]\n            else if (this.board[nr][nc].type === 'w') return [false, false]\n            else if (this.board[nr][nc].type === 'e') return [true, true]\n            else if (this.board[nr][nc].type === 'g') return [true, true] \n        }\n        else if (this.board[newX][newY].type === 'w') return [false, false]\n        else if (this.board[newX][newY].type === 'e') return [true, false]\n        else if (this.board[newX][newY].type === 'g') return [true, false]\n        return [false, false]\n    }\n\n    public movePlayer(dir: string) {\n        let tmp = this.dirs.get(dir)!\n        if (tmp === undefined || tmp === null) return false\n        let dx = tmp[0]\n        let dy = tmp[1]\n\n        // move the player\n        let curPlayerX = this.player.getX()\n        let curPlayerY = this.player.getY()\n        let newPlayerX = curPlayerX + dx\n        let newPlayerY = curPlayerY + dy\n        this.board[curPlayerX][curPlayerY].setIsPlayer(false)\n        this.board[newPlayerX][newPlayerY].setIsPlayer(true)\n        this.player.setX(newPlayerX)\n        this.player.setY(newPlayerY)\n    }\n\n\n\n    public moveBox(dir: string) {\n        let tmp = this.dirs.get(dir)!\n        if (tmp === undefined || tmp === null) return false\n        let dx = tmp[0]\n        let dy = tmp[1]\n\n        // move the player\n        let curPlayerX = this.player.getX()\n        let curPlayerY = this.player.getY()\n        let newPlayerX = curPlayerX + dx\n        let newPlayerY = curPlayerY + dy\n        this.board[curPlayerX][curPlayerY].setIsPlayer(false)\n        this.board[newPlayerX][newPlayerY].setIsPlayer(true)\n        this.player.setX(newPlayerX)\n        this.player.setY(newPlayerY)\n\n        // move the box\n        let newBoxX = curPlayerX + 2 * dx\n        let newBoxY = curPlayerY + 2 * dy\n        this.board[newPlayerX][newPlayerY].setIsBox(false)\n        this.board[newBoxX][newBoxY].setIsBox(true)\n    }\n\n    public undo() {\n        this.commandManager.undo()\n\n    }\n\n    public redo() {\n        this.commandManager.redo()\n    }\n\n    \n    public isWithinBound(i: number, j: number) {\n        if (i >= 0 && i < this.R && j >= 0 && j < this.C)\n            return true\n        return false\n    }\n\n    public setBoard(newBoard: SokobanCell[][]) {\n        this.board = newBoard\n    }\n\n    public getBoard() {\n        return this.board\n    }\n\n    public getLevels() {\n        return this.levels\n    }\n\n    public getCommandManager(): CommandManager {\n        return this.commandManager\n    }\n\n    public getLevelManger() {\n        return this.levelManager\n    }\n\n    public getPlayer() {\n        return this.player\n    }\n\n    public setPlayer(player: Player) {\n        this.player = player\n    }\n\n}","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport BoardComponent from './components/BoardComponent';\nimport { LightOff } from './game/LightOff';\nimport FloodTubeComponent from './components/FloodTubeComponent';\nimport { FloodTubes } from './game/FloodTube';\nimport { HudComponent } from './components/HudComponent';\nimport SokobanComponent from './components/SokobanComponent';\nimport { Sokoban } from './game/sokoban/Sokoban';\nimport { Card, CardContent, CardActionArea } from '@material-ui/core';\nimport { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom';\n\nfunction App() {\n  // var light_off = new LightOff(5, 5)\n  var flood_tube = new FloodTubes(10, 10)\n  var sokoban = new Sokoban(10, 10)\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className=\"App\">\n        {/* <header className=\"App-header\">\n        </header> */}\n        <Switch>\n          <Route path=\"/\" exact>\n            <h1>HOME</h1>\n            <Link to='/sokoban'>\n              <Card>\n                <CardActionArea>\n                  <CardContent>\n                    <h1> Sokoban </h1>\n                  </CardContent>\n                </CardActionArea>a\n                </Card>\n            </Link>\n\n            <Link to='/flushtubes'>\n              <Card>\n                <CardActionArea>\n                  <CardContent>\n                    <h1> Flush Tubes [Under Development]</h1>\n                  </CardContent>\n                </CardActionArea>\n              </Card>\n            </Link>\n          </Route>\n          <Route path=\"/sokoban\" exact>\n            <SokobanComponent game={sokoban}></SokobanComponent>\n          </Route>\n          <Route exact path='/flushtubes'>\n            <HudComponent game={flood_tube}></HudComponent>\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}