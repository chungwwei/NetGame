(this.webpackJsonplight_off=this.webpackJsonplight_off||[]).push([[0],{80:function(e,n,t){},81:function(e,n,t){},82:function(e,n,t){},88:function(e,n,t){"use strict";t.r(n);var a,l=t(2),i=t(0),s=t.n(i),r=t(11),b=t.n(r),g=(t(80),t(81),t(82),t(19)),o=t(9),k=t(22),c=t(6),h=t(7),w=function(){function e(){Object(c.a)(this,e),this.undoStk=[],this.redoStk=[]}return Object(h.a)(e,[{key:"execute",value:function(e){this.undoStk.push(e),this.redoStk=[]}},{key:"executeCommands",value:function(e){}},{key:"undo",value:function(){if(this.undoStk.length>0){var e=this.undoStk.pop();e.undo(),this.redoStk.push(e)}}},{key:"redo",value:function(){if(this.redoStk.length>0){var e=this.redoStk.pop();e.redo(),this.undoStk.push(e)}}}]),e}(),A=function(){function e(n,t){Object(c.a)(this,e),this.game=void 0,this.curGrid=void 0,this.game=n,this.curGrid=[];for(var a=0;a<t.length;a++){this.curGrid[a]=[];for(var l=0;l<t[a].length;l++)this.curGrid[a].push(t[a][l].deepCopy())}}return Object(h.a)(e,[{key:"execute",value:function(){}},{key:"undo",value:function(){this.game.setBoard(this.curGrid)}},{key:"redo",value:function(){this.game.setBoard(this.curGrid)}}]),e}(),u=function(){function e(n,t,a,l,i,s){Object(c.a)(this,e),this.i=void 0,this.j=void 0,this.type=void 0,this.isStart=void 0,this.isFinish=void 0,this.isPartPath=void 0,this.imgSrc=void 0,this.i=n,this.j=t,this.type=a,this.isFinish=i,this.isStart=l,this.isPartPath=s,this.imgSrc="/src/i0.png"}return Object(h.a)(e,[{key:"deepCopy",value:function(){return new e(this.i,this.j,this.type,this.isStart,this.isFinish,this.isPartPath)}}]),e}(),d=function(){function e(){Object(c.a)(this,e),this.levels=void 0,this.currentLevel=void 0,this.levels=new Map,this.currentLevel="none",this.initLevels()}return Object(h.a)(e,[{key:"initLevels",value:function(){var e,n;this.levels.set("classic",[]),this.levels.set("wrapping",[]),null===(e=this.levels.get("classic"))||void 0===e||e.push([["start","t0","d0","blank","blank","blank","blank","blank","blank","blank"],["blank","t0","i0","i0","d0","t2","finish","blank","blank","blank"],["blank","finish","blank","blank","t2","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","start","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","i0","d0","blank","blank","blank","blank","blank","blank","blank"],["blank","d0","d0","blank","blank","blank","blank","blank","blank","blank"],["blank","finish","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["d1","finish","d0","i0","d1","blank","blank","blank","blank","blank"],["d1","blank","d0","d1","d1","blank","blank","blank","blank","blank"],["i0","d0","blank","d1","d1","blank","blank","blank","blank","blank"],["start","i0","i0","i0","t1","finish","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["finish","d1","finish","d1","finish","blank","blank","blank","blank","blank"],["d1","t1","d0","t1","finish","blank","blank","blank","blank","blank"],["finish","i0","start","d1","d1","blank","blank","blank","blank","blank"],["i0","i0","t1","d1","finish","blank","blank","blank","blank","blank"],["d2","d1","d2","t1","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["finish","d1","finish","d1","finish","blank","blank","blank","blank","blank"],["d1","t1","d0","t1","finish","blank","blank","blank","blank","blank"],["finish","i0","start","d1","d1","blank","blank","blank","blank","blank"],["i0","i0","t1","d1","finish","blank","blank","blank","blank","blank"],["d2","d1","d2","t1","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","d0","","blank","blank","blank","blank","blank","blank","blank"],["blank","t0","i0","i0","t1","t2","finish","blank","blank","blank"],["blank","finish","blank","blank","t2","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t0","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","t0","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","t0","i0","i0","t1","t2","finish","blank","blank","blank"],["blank","finish","blank","blank","t2","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","t0","t1","finish","blank","blank","blank"],["blank","blank","blank","blank","t1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","finish","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]]),null===(n=this.levels.get("wrapping"))||void 0===n||n.push([["i0","start","blank","blank","blank","blank","blank","blank","d0","i0"],["blank","d0","d0","blank","blank","blank","blank","blank","finish","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","i1","d0","blank","blank","blank","blank","blank","finish","blank"],["i1","i1","t0","blank","blank","blank","blank","blank","d2","i1"],["blank","blank","blank","blank","blank","blank","blank","blank","d1","i1"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","i1","d0","blank","blank","blank","blank","blank","blank","blank"],["i1","i1","t0","t2","finish","blank","blank","blank","d2","i1"],["blank","blank","t1","blank","blank","blank","blank","blank","d1","i1"],["blank","blank","start","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["start","blank","d0","blank","blank","blank","blank","blank","blank","blank"],["t1","blank","t0","blank","blank","blank","blank","blank","d2","i1"],["d1","i0","d1","blank","blank","blank","blank","blank","d1","i1"],["i0","d2","t1","blank","blank","blank","blank","blank","i0","finish"],["blank","blank","blank","blank","blank","blank","blank","blank","d2","d3"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","blank","blank","blank","t0","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["d0","t1","finish","blank","start","i0","i0","d1","blank","blank"],["t1","blank","blank","blank","i1","blank","blank","d1","i0","i0"],["blank","blank","blank","blank","i1","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","i1","d0","blank","blank","blank","blank","blank","finish","blank"],["i1","i1","t0","t2","finish","blank","blank","blank","d2","i1"],["blank","blank","t1","blank","blank","blank","blank","blank","d1","i1"],["blank","blank","start","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]],[["blank","i1","d0","blank","blank","blank","blank","blank","finish","blank"],["i1","i1","t0","t2","finish","blank","blank","blank","t1","i1"],["blank","blank","t1","blank","blank","blank","blank","blank","t1","i1"],["blank","blank","start","blank","blank","blank","blank","finish","d0","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"],["blank","blank","blank","blank","blank","blank","blank","blank","blank","blank"]])}}]),e}(),v=function(){function e(n,t){Object(c.a)(this,e),this.board=void 0,this.R=void 0,this.C=void 0,this.dirs=void 0,this.levelManager=void 0,this.commandManager=void 0,this.levels=void 0,this.solutionBoard=void 0,this.commandManager=new w,this.levelManager=new d,this.levels=this.levelManager.levels,this.board=[],this.R=n,this.C=t;for(var a=0;a<n;a++){this.board[a]=[];for(var l=0;l<t;l++){var i=new u(a,l,"blank",!1,!1,!1);this.board[a].push(i)}}this.dirs=new Map,this.dirs.set("i0",[[1,0],[-1,0]]),this.dirs.set("i1",[[0,-1],[0,1]]),this.dirs.set("d0",[[-1,0],[0,1]]),this.dirs.set("d1",[[1,0],[0,1]]),this.dirs.set("d2",[[1,0],[0,-1]]),this.dirs.set("d3",[[-1,0],[0,-1]]),this.dirs.set("t0",[[-1,0],[0,-1],[0,1]]),this.dirs.set("t1",[[1,0],[-1,0],[0,1]]),this.dirs.set("t2",[[0,1],[0,-1],[1,0]]),this.dirs.set("t3",[[1,0],[-1,0],[0,-1]]),this.dirs.set("e0",[[-1,0]]),this.dirs.set("e1",[[0,1]]),this.dirs.set("e2",[[1,0]]),this.dirs.set("e3",[[0,-1]]),this.dirs.set("blank",[[]]),this.dirs.set("4ways",[[1,0],[-1,0],[0,-1],[0,1]]),this.dirs.set("start",[[1,0],[-1,0],[0,-1],[0,1]]),this.dirs.set("finish",[[1,0],[-1,0],[0,-1],[0,1]])}return Object(h.a)(e,[{key:"isCompatible",value:function(e,n,t){var a,l=Object(k.a)(t);try{for(l.s();!(a=l.n()).done;){var i=Object(o.a)(a.value,2),s=i[0],r=i[1];if(e===-s&&n===-r)return!0}}catch(b){l.e(b)}finally{l.f()}return!1}},{key:"wrappingBFS",value:function(){for(var e=[],n=[],t=0;t<this.R;t++){e.push([]);for(var a=0;a<this.C;a++)e[t].push(!1),"start"===this.board[t][a].type&&(e[t][a]=!0,n.push([t,a,0,"start"]))}for(var l=[];0!=n.length;){var i=n.shift(),s=Object(o.a)(i,4),r=s[0],b=s[1],g=s[2],c=s[3],h=(n.length,this.dirs.get(c));if("end"===c)return l;var w,A=Object(k.a)(h);try{for(A.s();!(w=A.n()).done;){var u=Object(o.a)(w.value,2),d=u[0],v=u[1],j=(r+d+this.R)%this.R,f=(b+v+this.C)%this.C;if(this.isWithinBound(j,f)){var B=this.board[j][f].type,y=this.dirs.get(B);console.log(j+" "+f+" ",B),!e[j][f]&&"blank"!==this.board[j][f].type&&this.isCompatible(d,v,y)&&(n.push([j,f,g+1,this.board[j][f].type]),l.push([j,f]),e[j][f]=!0,this.board[j][f].isPartPath=!0)}}}catch(C){A.e(C)}finally{A.f()}}return console.log(l),l}},{key:"BFS",value:function(){for(var e=[],n=[],t=0;t<this.R;t++){e.push([]);for(var a=0;a<this.C;a++)e[t].push(!1),"start"===this.board[t][a].type&&(e[t][a]=!0,n.push([t,a,0,"start"]))}for(var l=[];0!=n.length;){var i=n.shift(),s=Object(o.a)(i,4),r=s[0],b=s[1],g=s[2],c=s[3],h=(n.length,this.dirs.get(c));if("end"===c)return l;var w,A=Object(k.a)(h);try{for(A.s();!(w=A.n()).done;){var u=Object(o.a)(w.value,2),d=u[0],v=u[1],j=r+d,f=b+v;if(this.isWithinBound(j,f)){var B=this.board[j][f].type,y=this.dirs.get(B);!e[j][f]&&"blank"!==this.board[j][f].type&&this.isCompatible(d,v,y)&&(n.push([j,f,g+1,this.board[j][f].type]),l.push([j,f]),e[j][f]=!0,this.board[j][f].isPartPath=!0)}}}catch(C){A.e(C)}finally{A.f()}}return console.log(l),l}},{key:"rotate",value:function(e,n,t){if("start"!==t&&"finish"!==t&&"4ways"!==t){var a=-1,l=t.charAt(0),i=+t.charAt(1);"i"===l&&(a=(i+1)%2),"t"!==l&&"d"!==l||(a=(i+1)%4);var s=Object(g.a)(this.getBoard()),r=new A(this,s);this.commandManager.execute(r),this.board[e][n].type=l+a+""}}},{key:"reset",value:function(e){}},{key:"move",value:function(e,n){}},{key:"hasSolution",value:function(){for(var e=[],n=[],t=[],a=0,l=0;l<this.R;l++){e.push([]);for(var i=0;i<this.C;i++)e[l].push(!1),"start"===this.board[l][i].type&&(e[l][i]=!0,t.push([l,i,0,"start"])),"finish"===this.board[l][i].type&&(n.push([l,i]),a++)}for(var s=[];0!=t.length;){var r=t.shift(),b=Object(o.a)(r,4),g=b[0],c=b[1],h=b[2],w=b[3];"finish"===w&&(a-=1);t.length;var A,u=this.dirs.get(w),d=Object(k.a)(u);try{for(d.s();!(A=d.n()).done;){var v=Object(o.a)(A.value,2),j=v[0],f=v[1],B=g+j,y=c+f;if(this.isWithinBound(B,y)){var C=this.board[B][y].type,m=this.dirs.get(C);!e[B][y]&&"blank"!==this.board[B][y].type&&this.isCompatible(j,f,m)&&(t.push([B,y,h+1,this.board[B][y].type]),s.push([B,y]),e[B][y]=!0,this.board[B][y].isPartPath=!0)}}}catch(p){d.e(p)}finally{d.f()}}return 0===a}},{key:"hasSolutionWrapping",value:function(){for(var e=[],n=[],t=[],a=0;a<this.R;a++){e.push([]);for(var l=0;l<this.C;l++)e[a].push(!1),"start"===this.board[a][l].type&&(e[a][l]=!0,t.push([a,l,0,"start"])),"finish"===this.board[a][l].type&&n.push([a,l])}for(var i=[];0!=t.length;){var s,r=t.shift(),b=Object(o.a)(r,4),g=b[0],c=b[1],h=b[2],w=b[3],A=(t.length,this.dirs.get(w)),u=Object(k.a)(A);try{for(u.s();!(s=u.n()).done;){var d=Object(o.a)(s.value,2),v=d[0],j=d[1],f=(g+v+this.R)%this.R,B=(c+j+this.C)%this.C;if(this.isWithinBound(f,B)){var y=this.board[f][B].type,C=this.dirs.get(y);!e[f][B]&&"blank"!==this.board[f][B].type&&this.isCompatible(v,j,C)&&(t.push([f,B,h+1,this.board[f][B].type]),i.push([f,B]),e[f][B]=!0,this.board[f][B].isPartPath=!0)}}}catch(m){u.e(m)}finally{u.f()}}return this.win(n,e)}},{key:"win",value:function(e,n){if(0===e.length)return!1;for(var t=0;t<e.length;t++){var a=e[t][0],l=e[t][1];if(!1===n[a][l])return!1}return!0}},{key:"generateBoard",value:function(){}},{key:"solveBoard",value:function(e){console.log("SOLVING");for(var n=[],t=[],a=0;a<this.R;a++){n.push([]);for(var l=0;l<this.C;l++)n[a].push(!1),"start"===this.board[a][l].type&&(n[a][l]=!0,t.push([a,l]))}if("classic"===e){var i,s=Object(k.a)(t);try{for(s.s();!(i=s.n()).done;){var r=Object(o.a)(i.value,2),b=r[0],g=r[1];this.backtrack(b,g,n)}}catch(d){s.e(d)}finally{s.f()}}else{console.log("wrapping is called");var c,h=Object(k.a)(t);try{for(h.s();!(c=h.n()).done;){var w=Object(o.a)(c.value,2),A=w[0],u=w[1];this.backtrackWrapping(A,u,n)}}catch(d){h.e(d)}finally{h.f()}}console.log("DONE SOLVING")}},{key:"backtrack",value:function(e,n,t){if(console.log(e+" "+n),this.hasSolution()){console.log("a solution exists");for(var a=[],l=0;l<this.R;l++){a[l]=[];for(var i=0;i<this.C;i++){var s=this.board[l][i].deepCopy();a[l].push(s)}}return this.solutionBoard=a,console.log(a),!0}var r=this.board[e][n].type,b=r.charAt(0),g=+r.charAt(1);if("start"===r){t[e][n]=!0;for(var k=0,c=[[1,0],[-1,0],[0,-1],[0,1]];k<c.length;k++){var h=Object(o.a)(c[k],2),w=e+h[0],A=n+h[1];if(this.isWithinBound(w,A)&&"blank"!==this.board[w][A].type&&!t[w][A]&&"finish"!==this.board[w][A].type&&this.backtrack(w,A,t))return!0}t[e][n]=!1}else{t[e][n]=!0;var u=0;"i"===b&&(u=2),"t"!==b&&"d"!=b||(u=4);for(var d=0;d<u;d++){var v=-1;"i"===b&&(v=(g+d)%u),"t"!==b&&"d"!==b||(v=(g+d)%u);var j=b+v;this.board[e][n].type=j;for(var f=0,B=[[1,0],[-1,0],[0,-1],[0,1]];f<B.length;f++){var y=Object(o.a)(B[f],2),C=e+y[0],m=n+y[1];if(this.isWithinBound(C,m)&&"blank"!==this.board[C][m].type&&!t[C][m]&&"finish"!==this.board[C][m].type&&this.backtrack(C,m,t))return!0}}t[e][n]=!1}return!1}},{key:"backtrackWrapping",value:function(e,n,t){if(this.hasSolutionWrapping()){console.log("a solution exists");for(var a=[],l=0;l<this.R;l++){a[l]=[];for(var i=0;i<this.C;i++){var s=this.board[l][i].deepCopy();a[l].push(s)}}return this.solutionBoard=a,console.log(a),!0}var r=this.board[e][n].type,b=r.charAt(0),g=+r.charAt(1);if("start"===r)for(var k=0,c=[[1,0],[-1,0],[0,-1],[0,1]];k<c.length;k++){var h=Object(o.a)(c[k],2),w=h[0],A=h[1],u=(e+w+this.R)%this.R,d=(n+A+this.C)%this.C;if(this.isWithinBound(u,d)&&"blank"!==this.board[u][d].type&&!t[u][d]){if(t[u][d]=!0,this.backtrackWrapping(u,d,t))return!0;t[u][d]=!1}}else{if("finish"===r)return;for(var v=0;v<5;v++){var j=-1;"i"===b&&(j=(g+v)%2),"t"!==b&&"d"!==b||(j=(g+v)%4),this.board[e][n].type=b+j+"";for(var f=0,B=[[1,0],[-1,0],[0,-1],[0,1]];f<B.length;f++){var y=Object(o.a)(B[f],2),C=y[0],m=y[1],p=(e+C+this.R)%this.R,I=(n+m+this.C)%this.C;if(this.isWithinBound(p,I)&&"blank"!==this.board[p][I].type&&!t[p][I]){if(t[p][I]=!0,this.backtrackWrapping(p,I,t))return!0;t[p][I]=!1}}}}return!1}},{key:"minBFS",value:function(){for(var e=[],n=[],t=0;t<this.R;t++){e.push([]);for(var a=0;a<this.C;a++)e[t].push(!1),"start"===this.board[t][a].type&&(e[t][a]=!0,n.push([t,a,0,"start"]))}for(;0!=n.length;){console.log("processing: ".concat(n[0]));var l=n.shift(),i=Object(o.a)(l,4),s=(i[0],i[1]),r=i[2],b=i[3];if("finish"===b){console.log("rotation needed is: ".concat(r));break}var g=-1,c=b.charAt(0),h=+b.charAt(1),w=1;"i"===c&&(w=2),"t"!==c&&"d"!==c||(w=4),"start"!==b&&"finish"!==b||(w=1),"4ways"===b&&(w=1);for(var A=0;A<w;A++){g=(h+A)%w;var u;"i"===c||"t"===c||"d"===c?(u=this.dirs.get(c+g+""),c+g+""):(u=this.dirs.get(b),b);var d,v=Object(k.a)(u);try{for(v.s();!(d=v.n()).done;){var j=Object(o.a)(d.value,2),f=j[0],B=j[1],y=A+f,C=s+B;if(this.isWithinBound(y,C)&&!e[y][C]&&"blank"!==this.board[y][C].type){var m=this.board[y][C].type,p=this.dirs.get(m);this.isCompatible(f,B,p)?(console.log("a"),n.unshift([y,C,r,this.board[y][C].type]),e[y][C]=!0):(console.log("b"),n.push([y,C,r+1,this.board[y][C].type]),e[y][C]=!0)}}}catch(I){v.e(I)}finally{v.f()}}}console.log("done solving")}},{key:"isWithinBound",value:function(e,n){return e>=0&&e<this.R&&n>=0&&n<this.C}},{key:"setBoard",value:function(e){this.board=e}},{key:"getBoard",value:function(){return this.board}},{key:"getLevels",value:function(){return this.levels}},{key:"getCommandManager",value:function(){return this.commandManager}},{key:"getSolutionBoard",value:function(){return this.solutionBoard}}]),e}(),j=function(){function e(n,t,a){Object(c.a)(this,e),this.game=void 0,this.curGrid=void 0,this.playerX=void 0,this.playerY=void 0,this.player=void 0,this.game=n,this.curGrid=[];for(var l=0;l<t.length;l++){this.curGrid[l]=[];for(var i=0;i<t[l].length;i++)this.curGrid[l].push(t[l][i].deepCopy())}this.playerX=a.getX(),this.playerY=a.getY(),this.player=a}return Object(h.a)(e,[{key:"execute",value:function(){for(var e=this.game.getBoard(),n=0;n<e.length;n++)for(var t=0;t<e[n].length;t++){var a=e[n][t];a.setI(this.curGrid[n][t].getI()),a.setJ(this.curGrid[n][t].getJ()),a.setType(this.curGrid[n][t].getType()),a.setIsBox(this.curGrid[n][t].getIsBox()),a.setIsPlayer(this.curGrid[n][t].getIsPlayer())}this.player.setX(this.playerX),this.player.setY(this.playerY)}},{key:"undo",value:function(){var e=this.game.getCommandManager().undoStk,n=e.length-1;n>=0&&(console.log(e[n]),e[n].execute())}},{key:"redo",value:function(){for(var e=this.game.getBoard(),n=0;n<e.length;n++)for(var t=0;t<e[n].length;t++){var a=e[n][t];a.setI(this.curGrid[n][t].getI()),a.setJ(this.curGrid[n][t].getJ()),a.setType(this.curGrid[n][t].getType()),a.setIsBox(this.curGrid[n][t].getIsBox()),a.setIsPlayer(this.curGrid[n][t].getIsPlayer())}this.player.setX(this.playerX),this.player.setY(this.playerY)}},{key:"getStateBoard",value:function(){return this.curGrid}}]),e}(),f=function(){function e(n,t){Object(c.a)(this,e),this.x=void 0,this.y=void 0,this.x=n,this.y=t}return Object(h.a)(e,[{key:"setX",value:function(e){this.x=e}},{key:"setY",value:function(e){this.y=e}},{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}}]),e}(),B=function(){function e(n,t,a,l,i){Object(c.a)(this,e),this.i=void 0,this.j=void 0,this.type=void 0,this.isPlayer=void 0,this.isBox=void 0,this.i=n,this.j=t,this.type=a,this.isPlayer=l,this.isBox=i}return Object(h.a)(e,[{key:"deepCopy",value:function(){return new e(this.i,this.j,this.type,this.isPlayer,this.isBox)}},{key:"setIsPlayer",value:function(e){this.isPlayer=e}},{key:"setIsBox",value:function(e){this.isBox=e}},{key:"setI",value:function(e){this.i=e}},{key:"setJ",value:function(e){this.j=e}},{key:"setType",value:function(e){this.type=e}},{key:"getIsPlayer",value:function(){return this.isPlayer}},{key:"getIsBox",value:function(){return this.isBox}},{key:"getI",value:function(){return this.i}},{key:"getJ",value:function(){return this.j}},{key:"getType",value:function(){return this.type}}]),e}(),y=function(){function e(n,t,a,l,i){Object(c.a)(this,e),this.levelName=void 0,this.baseLayer=void 0,this.boxesPos=void 0,this.playerPos=void 0,this.numBoxes=void 0,this.levelName=n,this.baseLayer=t,this.boxesPos=a,this.playerPos=l,this.numBoxes=i}return Object(h.a)(e,[{key:"setBaseLayer",value:function(e){this.baseLayer=e}},{key:"setBoxesPos",value:function(e){this.boxesPos=e}},{key:"setPlayerPos",value:function(e){this.playerPos=e}},{key:"getBaseLayer",value:function(){return this.baseLayer}},{key:"getBoxesPos",value:function(){return this.boxesPos}},{key:"getPlayerPos",value:function(){return this.playerPos}},{key:"getLevelName",value:function(){return this.levelName}},{key:"getNumBoxes",value:function(){return this.numBoxes}}]),e}(),C=function(){function e(){Object(c.a)(this,e),this.curLevel=void 0,this.levels=void 0,this.curLevel="1",this.levels=new Map;var n=new y("level1",[["w","w","w","w","w","w","w","w","w","w"],["w","w","g","g","g","g","g","g","g","w"],["w","w","g","g","g","g","g","g","g","w"],["w","w","g","g","g","w","w","g","g","w"],["w","w","g","g","g","e","e","g","w","w"],["w","w","g","g","g","g","w","g","g","w"],["w","w","g","g","g","g","g","g","g","w"],["w","w","w","g","g","g","w","w","w","w"],["w","w","w","g","g","g","g","g","g","w"],["w","w","w","w","w","w","w","w","w","w"]],[[5,3],[3,3]],[[5,5]],2),t=new y("level2",[["w","w","w","w","w","w","w","w","w","w"],["w","g","g","g","g","g","g","g","g","w"],["w","g","g","g","g","g","g","g","g","w"],["w","g","g","g","g","w","w","g","g","w"],["w","w","w","w","g","g","g","g","w","w"],["w","e","g","g","g","g","w","g","g","w"],["w","e","g","g","g","g","g","g","g","w"],["w","w","w","g","g","g","w","w","w","w"],["w","w","w","g","g","g","g","g","g","w"],["w","w","w","g","w","w","w","w","w","w"]],[[2,3],[2,2]],[[5,5]],2),a=new y("level3",[["w","w","w","w","w","w","w","w","w","w"],["w","w","w","e","g","g","g","g","g","w"],["w","g","g","g","g","g","g","g","g","w"],["w","g","g","g","g","w","w","g","g","w"],["w","w","w","g","g","w","g","g","w","w"],["w","w","g","g","g","g","w","g","w","w"],["w","w","g","g","g","g","g","g","w","w"],["w","w","g","g","g","g","w","w","w","w"],["w","w","g","g","g","g","g","g","e","w"],["w","w","w","w","w","w","w","w","w","w"]],[[3,3],[2,2]],[[6,5]],2),l=new y("level4",[["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","g","g","w","w","w","w"],["w","g","g","g","g","g","w","w","w","w"],["w","g","g","g","g","g","w","w","w","w"],["w","g","w","g","w","g","g","w","w","w"],["w","g","g","g","g","g","w","w","w","w"],["w","e","w","g","g","g","g","w","w","w"],["w","e","w","g","g","g","w","w","w","w"],["w","e","g","g","g","g","g","w","w","w"],["w","w","w","w","w","w","w","w","w","w"]],[[5,3],[4,3],[3,3]],[[6,5]],3),i=new y("level5",[["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","g","g","w","w","w","w"],["w","g","g","g","g","g","w","w","w","w"],["w","g","g","g","g","g","w","w","w","w"],["w","g","w","g","w","g","g","w","w","w"],["w","g","g","g","g","g","g","w","w","w"],["w","e","w","w","w","g","g","w","w","w"],["w","e","w","w","w","w","g","w","w","w"],["w","e","g","g","g","g","g","w","w","w"],["w","w","w","w","w","w","w","w","w","w"]],[[5,3],[4,3],[3,3]],[[8,2]],3),s=new y("level6",[["w","w","w","w","w","w","w","w","w","w"],["w","g","e","g","e","g","e","g","g","w"],["w","g","w","g","w","g","w","g","g","w"],["w","g","g","g","g","g","g","g","g","w"],["w","g","w","w","w","g","g","g","w","w"],["w","g","g","g","g","g","g","g","w","w"],["w","g","w","w","w","g","g","g","w","w"],["w","g","w","w","w","w","g","w","w","w"],["w","g","g","g","g","g","g","e","w","w"],["w","w","w","w","w","w","w","w","w","w"]],[[3,6],[3,4],[3,2],[5,5]],[[8,2]],4),r=new y("level7",[["w","w","w","w","w","w","w","w","w","w"],["w","g","g","g","w","w","w","w","w","w"],["w","e","w","g","g","g","g","w","w","w"],["w","g","g","g","g","w","g","w","w","w"],["w","g","w","g","g","g","g","w","w","w"],["w","g","g","g","g","g","g","w","w","w"],["w","w","g","g","g","g","w","w","w","w"],["w","w","e","w","e","g","w","w","w","w"],["w","w","g","g","g","g","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"]],[[5,4],[3,4],[4,4]],[[8,2]],3),b=new y("level8",[["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","e","g","g","g","g","g","e","w","w"],["w","g","w","g","g","g","w","g","w","w"],["w","g","g","g","g","g","g","g","w","w"],["w","g","g","g","g","g","g","g","w","w"],["w","g","g","g","g","g","g","g","w","w"],["w","g","w","g","g","g","w","g","w","w"],["w","e","g","g","g","g","g","e","w","w"],["w","w","w","w","w","w","w","w","w","w"]],[[5,3],[5,5],[4,4],[6,4]],[[5,4]],4),g=new y("level9",[["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","e","g","g","g","g","g","e","w","w"],["w","g","w","g","g","g","w","g","w","w"],["w","g","w","g","g","g","w","g","w","w"],["w","g","w","g","g","g","w","g","w","w"],["w","g","g","g","g","g","g","g","w","w"],["w","g","w","g","w","g","w","g","w","w"],["w","e","g","g","g","g","g","e","w","w"],["w","w","w","w","w","w","w","w","w","w"]],[[5,3],[5,5],[4,4],[6,4]],[[5,4]],4),o=new y("level10",[["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","e","g","g","g","g","g","g","e","w"],["w","e","g","g","g","g","g","g","e","w"],["w","e","g","g","g","g","g","g","e","w"],["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"]],[[5,4],[4,4],[3,4],[4,3],[4,2],[4,5]],[[5,3]],6),k=new y("level11",[["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","e","g","w","g","g","g","g","g","w"],["w","e","g","g","g","g","g","g","g","w"],["w","e","g","g","g","g","g","g","e","w"],["w","e","g","g","g","g","g","w","e","w"],["w","g","g","g","g","g","g","g","e","w"],["w","g","g","w","g","g","w","g","e","w"],["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"]],[[5,4],[4,4],[3,4],[4,3],[4,2],[4,5],[6,2],[5,2]],[[5,3]],8),h=new y("level12",[["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","e","g","g","g","g","g","g","e","w"],["w","g","g","g","g","g","g","g","g","w"],["w","e","g","g","g","g","g","g","e","w"],["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"]],[[4,2],[4,3],[4,4],[4,5]],[[4,1]],4),w=new y("level13",[["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","w","w","w","w","w","w","w","w","w"],["w","e","g","g","g","w","w","w","w","w"],["w","g","g","g","g","g","g","g","w","w"],["w","w","g","g","g","g","g","g","w","w"],["w","w","w","w","g","g","g","g","w","w"],["w","w","w","w","w","w","w","g","w","w"],["w","w","w","w","w","w","w","e","w","w"],["w","w","w","w","w","w","w","w","w","w"]],[[4,2],[4,3]],[[4,1]],2);this.levels.set("1",n),this.levels.set("2",t),this.levels.set("3",a),this.levels.set("4",l),this.levels.set("5",i),this.levels.set("6",s),this.levels.set("7",r),this.levels.set("8",b),this.levels.set("9",g),this.levels.set("10",o),this.levels.set("11",k),this.levels.set("12",h),this.levels.set("13",w)}return Object(h.a)(e,[{key:"setCurLevel",value:function(e){this.curLevel=e}},{key:"getCurLevel",value:function(){return this.curLevel}},{key:"getLevels",value:function(){return this.levels}},{key:"getLevel",value:function(e){if(void 0!==e||null!==e)return this.levels.get(e)}}]),e}(),m=function(){function e(n,t){Object(c.a)(this,e),this.board=void 0,this.R=void 0,this.C=void 0,this.levelManager=void 0,this.commandManager=void 0,this.levels=void 0,this.dirs=void 0,this.player=void 0,this.numberOfBoxes=void 0,this.numberOfBoxes=-1,this.commandManager=new w,this.levelManager=new C,this.levels=this.levelManager.getLevels(),this.dirs=new Map,this.dirs.set("w",[-1,0]),this.dirs.set("s",[1,0]),this.dirs.set("a",[0,-1]),this.dirs.set("d",[0,1]),this.board=[],this.R=n,this.C=t;for(var a=0;a<n;a++){this.board[a]=[];for(var l=0;l<t;l++){var i=new B(a,l,"g",!1,!1);this.board[a].push(i)}}this.player=new f(0,0);var s=new j(this,this.getBoard(),this.player);this.commandManager.execute(s)}return Object(h.a)(e,[{key:"loadLevel",value:function(e){var n=this.levelManager.getLevel(e);if(void 0!==n&&null!==n){this.levelManager.setCurLevel(e);var t=n.getBaseLayer(),a=n.getBoxesPos(),l=n.getPlayerPos();this.numberOfBoxes=n.getNumBoxes();for(var i=0;i<this.board.length;i++)for(var s=0;s<this.board[i].length;s++)this.board[i][s]=new B(i,s,t[i][s],!1,!1);for(var r=0;r<a.length;r++){var b=a[r][0],g=a[r][1];this.board[b][g].setIsBox(!0)}var o=l[0][0],k=l[0][1];this.player.setX(o),this.player.setY(k),this.board[o][k].setIsPlayer(!0),this.commandManager=new w}}},{key:"canMove",value:function(e){var n=this.player.getX(),t=this.player.getY(),a=this.dirs.get(e);if(void 0===a||null===a)return[!1,!1];var l=a[0],i=a[1],s=n+l,r=t+i;if(this.board[s][r].getIsBox()){var b=s+l,g=r+i;if(this.board[b][g].getIsBox())return[!1,!1];if("w"===this.board[b][g].type)return[!1,!1];if("e"===this.board[b][g].type)return[!0,!0];if("g"===this.board[b][g].type)return[!0,!0]}else{if("w"===this.board[s][r].type)return[!1,!1];if("e"===this.board[s][r].type)return[!0,!1];if("g"===this.board[s][r].type)return[!0,!1]}return[!1,!1]}},{key:"movePlayer",value:function(e){var n=this.dirs.get(e);if(void 0===n||null===n)return!1;var t=n[0],a=n[1],l=this.player.getX(),i=this.player.getY(),s=l+t,r=i+a;this.board[l][i].setIsPlayer(!1),this.board[s][r].setIsPlayer(!0),this.player.setX(s),this.player.setY(r)}},{key:"moveBox",value:function(e){var n=this.dirs.get(e);if(void 0===n||null===n)return!1;var t=n[0],a=n[1],l=this.player.getX(),i=this.player.getY(),s=l+t,r=i+a;this.board[l][i].setIsPlayer(!1),this.board[s][r].setIsPlayer(!0),this.player.setX(s),this.player.setY(r);var b=l+2*t,g=i+2*a;this.board[s][r].setIsBox(!1),this.board[b][g].setIsBox(!0)}},{key:"hasWon",value:function(){for(var e=0,n=0;n<this.board.length;n++)for(var t=0;t<this.board[n].length;t++){var a=this.board[n][t],l=a.getIsBox();"e"===a.getType()&&!0===l&&(e+=1)}return e===this.numberOfBoxes}},{key:"undo",value:function(){this.commandManager.undo()}},{key:"redo",value:function(){this.commandManager.redo()}},{key:"isWithinBound",value:function(e,n){return e>=0&&e<this.R&&n>=0&&n<this.C}},{key:"setBoard",value:function(e){this.board=e}},{key:"getBoard",value:function(){return this.board}},{key:"getLevels",value:function(){return this.levels}},{key:"getCommandManager",value:function(){return this.commandManager}},{key:"getLevelManger",value:function(){return this.levelManager}},{key:"getPlayer",value:function(){return this.player}},{key:"setPlayer",value:function(e){this.player=e}}]),e}(),p=t(29),I=t(14),O=t(116),E=t(119),Q=t(121),L=t(122),M=Object(O.a)({homeBtn:{marginRight:2}}),G=function(){var e=M();return Object(l.jsx)("div",{children:Object(l.jsx)(E.a,{position:"static",children:Object(l.jsx)(Q.a,{children:Object(l.jsx)(p.b,{to:"/",children:Object(l.jsx)(L.a,{className:e.homeBtn,children:" HOME "})})})})})},F=t(124),x=t(125),N=t(126),Y=t(127),R=function(){function e(n,t,a){Object(c.a)(this,e),this.game=void 0,this.curGrid=void 0,this.playerX=void 0,this.playerY=void 0,this.player=void 0,this.game=n,this.curGrid=[];for(var l=0;l<t.length;l++){this.curGrid[l]=[];for(var i=0;i<t[l].length;i++)this.curGrid[l].push(t[l][i].deepCopy())}this.playerX=a.getX(),this.playerY=a.getY(),this.player=a}return Object(h.a)(e,[{key:"execute",value:function(){console.log("executing");for(var e=this.game.getBoard(),n=0;n<e.length;n++)for(var t=0;t<e[n].length;t++){var a=e[n][t];a.setI(this.curGrid[n][t].getI()),a.setJ(this.curGrid[n][t].getJ()),a.setType(this.curGrid[n][t].getType()),a.setIsBomb(this.curGrid[n][t].getIsBomb()),a.setIsGem(this.curGrid[n][t].getIsGem()),a.setIsBrokenCircle(this.curGrid[n][t].getIsBrokenCircle()),a.setIsGround(this.curGrid[n][t].getIsGround()),a.setIsWall(this.curGrid[n][t].getIsWall()),a.setIsPlayer(this.curGrid[n][t].getIsPlayer())}this.player.setX(this.playerX),this.player.setY(this.playerY)}},{key:"undo",value:function(){var e=this.game.getCommandManager().undoStk,n=e.length-1;n>=0&&(console.log(e[n]),e[n].execute())}},{key:"redo",value:function(){for(var e=this.game.getBoard(),n=0;n<e.length;n++)for(var t=0;t<e[n].length;t++){var a=e[n][t];a.setI(this.curGrid[n][t].getI()),a.setJ(this.curGrid[n][t].getJ()),a.setType(this.curGrid[n][t].getType()),a.setIsBomb(this.curGrid[n][t].getIsBomb()),a.setIsGem(this.curGrid[n][t].getIsGem()),a.setIsBrokenCircle(this.curGrid[n][t].getIsBrokenCircle()),a.setIsGround(this.curGrid[n][t].getIsGround()),a.setIsWall(this.curGrid[n][t].getIsWall()),a.setIsPlayer(this.curGrid[n][t].getIsPlayer())}this.player.setX(this.playerX),this.player.setY(this.playerY)}},{key:"getStateBoard",value:function(){return this.curGrid}}]),e}(),U=function(){function e(n,t,a,l,i,s,r,b,g){var o=this;Object(c.a)(this,e),this.i=void 0,this.j=void 0,this.type=void 0,this.isGem=void 0,this.isBrokenCircle=void 0,this.isPlayer=void 0,this.isWall=void 0,this.isBomb=void 0,this.isGround=void 0,this.toString=function(){return"".concat(o.i,", ").concat(o.j,": ").concat(o.isPlayer)},this.i=n,this.j=t,this.type=a,this.isPlayer=l,this.isWall=i,this.isGem=s,this.isBomb=b,this.isBrokenCircle=r,this.isGround=g}return Object(h.a)(e,[{key:"deepCopy",value:function(){return new e(this.i,this.j,this.type,this.isPlayer,this.isWall,this.isGem,this.isBrokenCircle,this.isBomb,this.isGround)}},{key:"setIsPlayer",value:function(e){this.isPlayer=e}},{key:"setIsWall",value:function(e){this.isWall=e}},{key:"setI",value:function(e){this.i=e}},{key:"setJ",value:function(e){this.j=e}},{key:"setType",value:function(e){this.type=e}},{key:"setIsGem",value:function(e){this.isGem=e}},{key:"setIsBomb",value:function(e){this.isBomb=e}},{key:"setIsBrokenCircle",value:function(e){this.isBrokenCircle=e}},{key:"setIsGround",value:function(e){this.isGround=e}},{key:"getIsPlayer",value:function(){return this.isPlayer}},{key:"getIsWall",value:function(){return this.isWall}},{key:"getIsGem",value:function(){return this.isGem}},{key:"getIsBomb",value:function(){return this.isBomb}},{key:"getIsGround",value:function(){return this.isGround}},{key:"getIsBrokenCircle",value:function(){return this.isBrokenCircle}},{key:"getI",value:function(){return this.i}},{key:"getJ",value:function(){return this.j}},{key:"getType",value:function(){return this.type}}]),e}(),S=function(){function e(n,t,a,l){Object(c.a)(this,e),this.levelName=void 0,this.baseLayer=void 0,this.playerPos=void 0,this.numGems=void 0,this.levelName=n,this.baseLayer=t,this.playerPos=a,this.numGems=l}return Object(h.a)(e,[{key:"setNumGems",value:function(e){this.numGems=e}},{key:"setBaseLayer",value:function(e){this.baseLayer=e}},{key:"setPlayerPos",value:function(e){this.playerPos=e}},{key:"getBaseLayer",value:function(){return this.baseLayer}},{key:"getPlayerPos",value:function(){return this.playerPos}},{key:"getLevelName",value:function(){return this.levelName}},{key:"getNumGems",value:function(){return this.numGems}}]),e}(),P=function(){function e(){Object(c.a)(this,e),this.curLevel=void 0,this.levels=void 0,this.curLevel="1",this.levels=new Map;var n=new S("1",[["g","g","c","j","j","g","c","j","w","g"],["g","g","j","g","j","g","g","g","g","w"],["g","g","g","g","j","g","g","g","g","c"],["c","j","g","g","c","w","g","g","g","g"],["c","j","c","w","b","g","g","g","w","c"],["j","j","c","g","b","g","g","c","c","j"],["j","j","c","c","j","c","g","g","g","j"],["j","g","w","c","j","c","w","g","b","j"],["j","g","j","g","j","w","g","g","g","j"],["j","j","j","g","j","g","j","w","g","g"]],[0,0],5),t=new S("2",[["j","g","c","g","g","w","j","j","g","g"],["c","g","j","g","j","g","c","g","g","w"],["g","j","g","g","j","g","g","g","g","c"],["c","j","g","g","c","w","w","g","g","g"],["c","g","c","w","b","g","g","g","w","c"],["c","w","c","g","b","g","w","c","c","j"],["g","g","c","c","j","c","g","g","g","j"],["j","j","w","c","j","c","w","g","b","j"],["g","j","j","g","j","w","g","g","g","j"],["j","j","j","g","j","g","j","w","g","g"]],[5,5],5),a=new S("3",[["j","g","c","g","g","w","j","j","g","g"],["c","g","j","g","j","g","c","g","c","w"],["g","j","g","g","j","g","g","w","g","c"],["c","j","g","g","c","w","j","c","g","g"],["c","g","c","w","b","g","g","g","w","c"],["c","w","c","g","b","c","w","c","c","j"],["g","g","c","c","g","c","g","g","g","j"],["j","j","w","c","g","c","w","g","b","j"],["g","j","j","g","j","c","j","g","g","j"],["j","j","j","g","j","g","j","w","g","g"]],[1,1],5),l=new S("4",[["j","g","c","g","g","w","j","j","g","g"],["c","g","j","g","j","g","c","b","c","w"],["g","j","g","c","j","g","g","w","g","c"],["w","w","w","j","c","w","j","c","g","g"],["w","g","c","j","g","g","g","g","w","c"],["w","w","w","j","b","c","w","c","c","c"],["w","g","c","g","g","j","g","g","g","j"],["j","j","b","c","b","j","w","b","b","j"],["j","c","j","g","j","c","b","g","g","j"],["j","j","j","g","j","g","j","w","g","g"]],[1,3],5),i=new S("5",[["j","g","c","b","g","w","j","j","g","b"],["c","g","j","g","j","j","c","b","c","w"],["g","j","g","c","c","j","g","w","j","c"],["w","w","w","g","c","w","j","w","j","b"],["c","j","c","j","g","g","g","g","w","c"],["c","w","w","j","b","j","w","c","c","c"],["w","g","c","g","g","c","g","g","g","w"],["j","j","b","c","b","j","w","b","b","j"],["j","c","j","g","j","c","b","g","g","w"],["j","b","j","c","g","j","g","w","g","j"]],[1,3],5);this.levels.set("1",n),this.levels.set("2",t),this.levels.set("3",a),this.levels.set("4",l),this.levels.set("5",i)}return Object(h.a)(e,[{key:"setCurLevel",value:function(e){this.curLevel=e}},{key:"getCurLevel",value:function(){return this.curLevel}},{key:"getLevels",value:function(){return this.levels}},{key:"getLevel",value:function(e){if(void 0!==e||null!==e)return this.levels.get(e)}}]),e}();!function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e[e.UPLEFT=4]="UPLEFT",e[e.UPRIGHT=5]="UPRIGHT",e[e.DOWNLEFT=6]="DOWNLEFT",e[e.DOWNRIGHT=7]="DOWNRIGHT",e[e.SAME=8]="SAME"}(a||(a={}));var D,T=function(){function e(n,t){var a=this;Object(c.a)(this,e),this.board=void 0,this.R=void 0,this.C=void 0,this.commandManager=void 0,this.dirs=void 0,this.player=void 0,this.numberOfBoxes=void 0,this.levelManager=void 0,this.toString=function(){return a.getBoard().toString()},this.numberOfBoxes=-1,this.commandManager=new w,this.levelManager=new P,this.dirs=new Map,this.dirs.set("w",[-1,0]),this.dirs.set("s",[1,0]),this.dirs.set("a",[0,-1]),this.dirs.set("d",[0,1]);var l=this.levelManager.getLevel("1"),i=l.getBaseLayer(),s=l.getPlayerPos()[0],r=l.getPlayerPos()[1];this.board=[],this.R=n,this.C=t;for(var b=0;b<n;b++){this.board[b]=[];for(var g=0;g<t;g++){var o="w"===i[b][g],k="c"===i[b][g],h="j"===i[b][g],A="b"===i[b][g],u="g"===i[b][g],d=b===s&&g===r,v=new U(b,g,i[b][g],d,o,h,k,A,u);this.board[b].push(v)}}this.player=new f(s,r);var j=new R(this,this.getBoard(),this.player);this.commandManager.execute(j)}return Object(h.a)(e,[{key:"canMove",value:function(e,n){e+=1,n+=1;var t=this.player.getX()+1,l=this.player.getY()+1,i=Math.abs(t-e),s=Math.abs(l-n);return e==t&&n==l?[!1,a.SAME]:e==t?n<l?[!0,a.LEFT]:[!0,a.RIGHT]:n==l?e<t?[!0,a.UP]:[!0,a.DOWN]:s!==i?[!1,a.SAME]:e<t&&n<l?[!0,a.UPLEFT]:e<t&&n>l?[!0,a.UPRIGHT]:e>t&&n<l?[!0,a.DOWNLEFT]:e>t&&n>l?[!0,a.DOWNRIGHT]:[!1,a.SAME]}},{key:"movePlayer",value:function(e,n){console.log("command: move player");var t=this.canMove(e,n),l=Object(o.a)(t,2),i=l[0],s=l[1];if(i){var r=this.player.getX(),b=this.player.getY();if(!this.board[r][b].getIsBomb()){var g=r,k=b,c=0,h=0;for(s===a.UP?c=-1:s===a.DOWN?c=1:s===a.LEFT?h=-1:s===a.RIGHT?h=1:s===a.UPLEFT?(c=-1,h=-1):s===a.UPRIGHT?(c=-1,h=1):s===a.DOWNLEFT?(c=1,h=-1):s===a.DOWNRIGHT&&(c=1,h=1);this.isWithinBound(g+c,k+h)&&(g+=c,k+=h,this.board[g][k].getIsGem()&&this.board[g][k].setIsGem(!1),!this.board[g][k].getIsBrokenCircle())&&!this.board[g][k].getIsBomb();)if(this.board[g][k].getIsWall()){g-=c,k-=h;break}this.board[r][b].setIsPlayer(!1),this.board[g][k].setIsPlayer(!0),this.player.setX(g),this.player.setY(k);var w=new R(this,this.getBoard(),this.player);this.commandManager.execute(w),console.log(this.commandManager.undoStk)}}}},{key:"hasWon",value:function(){return!1}},{key:"undo",value:function(){this.commandManager.undo()}},{key:"redo",value:function(){this.commandManager.redo()}},{key:"reset",value:function(){var e=this.levelManager.getCurLevel();this.loadLevel(e)}},{key:"loadLevel",value:function(e){var n=this.levelManager.getLevel(e);if(void 0!==n&&null!==n){this.levelManager.setCurLevel(e);for(var t=n.getBaseLayer(),a=this.R,l=this.C,i=n.getPlayerPos()[0],s=n.getPlayerPos()[1],r=0;r<a;r++){this.board[r]=[];for(var b=0;b<l;b++){var g="w"===t[r][b],o="c"===t[r][b],k="j"===t[r][b],c="b"===t[r][b],h="g"===t[r][b],A=r===i&&b===s,u=new U(r,b,t[r][b],A,g,k,o,c,h);this.board[r].push(u)}}this.commandManager=new w,this.player=new f(i,s);var d=new R(this,this.getBoard(),this.player);this.commandManager.execute(d)}}},{key:"isWithinBound",value:function(e,n){return e>=0&&e<this.R&&n>=0&&n<this.C}},{key:"setBoard",value:function(e){this.board=e}},{key:"getBoard",value:function(){return this.board}},{key:"getLevels",value:function(){return this.levelManager.getLevels()}},{key:"getCommandManager",value:function(){return this.commandManager}},{key:"getLevelManger",value:function(){}},{key:"getPlayer",value:function(){return this.player}},{key:"setPlayer",value:function(e){this.player=e}}]),e}(),W=function(e){var n=e.i,t=e.j,a=e.onClick,i=e.type,s=e.isPlayer,r=e.isWall,b=e.isBrokenCirlce,g=e.isGem,o=e.isBomb,k=e.isGround,c=b?"inertia_broken_circle":"inertia_ground",h=s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAACTUlEQVR4Xu3bTXLCMAwFYHPB3oBte6auewGmy56onIJOqN0xbgKJnmTJ4bGCmSixP55/kpZD4gsSOEDVLE4EBENAQAKCAmA5E0hAUAAsZwIJCAqA5UwgAUEBsJwJJCAoAJZHSuBlQ1/CtNuzITdgx7fP1X4f7y/tsW798LjwFW4L2CPZCrR7f3peUB2uhfWA7AFoDucJaQ140Ryqj4byAqRpHy1P7opXMPOwNuun1YlD4PVAtAAMhWeNqA0YEs8SURMwNJ4VohbgEHgWiBqAQ+FpIxJw6+ayOR4FHDJ9mikkYML+OwMBHDp9Wikk4O+zRbGDtHAX6dNIIQFTSsgDBwISENzIOQDuav5D50HJECZgFXoCppTO5+/0dXoVbWeeHnDCm14EFK4lBBTClTICEhAUAMpL+jgHChG9AKfm7mIviM5/on1P/rKHB9RIHwFzGqR7wKcFrNOHLCAI4LDzoCYeAYFbuLLwS+6F603DUItJm748fCEDqHik7cwCHjoK5X+NqmIYPoVWeLD+KHvC6IChV2RLPK0EltEccihrb1va2250EWnPFwrRGk87gaGS2APPCtB9TuyFZwnogmi9YMw9dtSeA93mRA886wT+zYnTG8uffM3hadymzSXOehW+d03oR4dLSPUF83O9XsG4Xtp6CM+B3oVcA9We1AOutMED8GZolw9liK8BrMDc++EJ+G/BWTPn5GPCtDtMQzbghTqUgODXQUACggJgORNIQFAALGcCCQgKgOVMIAFBAbCcCSQgKACWM4EEBAXA8h+yvCJgPQfAIAAAAABJRU5ErkJgggAA":r?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAADy0lEQVR4Xu3cL28VQRAA8NcU0VS2BlFkdUU9SCQfAYUDxbcgQSFRNOkHQNYQ/lhMBZaSPEuaVLSKBjINk0z37e3Mzsze33mu73Zvd383c7NXjm6dnn77u4qPWmArANV2dx0D0OYXgEa/AGwC+PjFU+t5Z9n/6/uzjXVl74EBmL/+AWjMiwAMQKOAsXtEYAAaBYzd1RH46OZmtd7dZYeXtmNPNNIGKsCfh4erJ+fnboCAXPpILtRQviZAmDS3OC4CEa/rPNzxoeBwXBMgLFoCVELm+sNEJW36hvy0s3M35IN3H+ufRNIULi2QO+YRxX3jwXiugKUo4QC5W8AiIhAjIIcVgP916C8TSlU4BZsbIKYuBo3qHsilFUWbE2CKpy4inoBTKCI5uKYRSIG5LYj1eKsKXEKjYzZJYVpUpBGGfWhVHmoTLcVrlsL0CnERlkZQ+lgn2eZ4R2EvgN6THtP5AtB4NQJQAViD5lJEFHMcbRctnqmIjFZDMbEAVKDRLgE4J8CD62vjcvrrfrK/bx5M/STSNfJUAD3wmhSRKQB64QWgOYGV/yZSGnfsEegZfYuLQG+8RQG2wFsMYCu8AKwsIr+vrjZ6PDz5vPGd6RXfsRURz+gLwMqIo81zeHB81hHYOvpmDeiJB1C9RCC8sTCmz6/12m06TQHHBodqXoBdeG4pPGfAEl4AChI8AAVIXU04vNlGoMe9T4LnApi+ivHl6MhwzW1du+CeX17eO/GHvT12oOaA6Tsv+NIlzKyECP89Aj8cNm2brpj25eAkYJKnjpy6+kkkfXMKKzEsOgeDGHgs/TmdHHdckqYQeS3xTClMAek2pmvhOdgSdu4iSNDohagFlKYtHcMlAtN9YApTC0Xb16Lh4vC+J41ADZ5LBHalK/1eAyhdeFc16CP63AFz6duFB4OnxzDaaNXUQtZEoDb6XABL1TGHlCsW34+PVz8uLrLBZMGUIFrwzIDw+i33HFzaiqCYNMo0+zkYI+0H38GYVjwzILePK6UpvdlLAdMKixDsrjhpgKBvt7dru260N1XhGsDSZlcDiJFV2xej7vXt7WoQQG7DnLvHlRZZWy21+zyaroAHn14BD968vGdTqq7QkFbU2ihJ93KlPCudO4fmBYdzEqewFDBNVUuEWW5QaeHwiLbcfNwAW9zjtIAe1VU6thoQB9A+akknWNuuT7yqbUyawmODg8X0jVcF+OfVs9pg6LX9EHizARwKLwAdckRcRMaawkNG3+QjcGi8AFx6Ck8qAh0u1mJOEX/J3HipAzAAjQLG7hGBRsB/r1H1PhQJem0AAAAASUVORK5CYIIA":b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABPklEQVR4Xu3cQQ7BUABFUV2YlXR9XYmFMRZforn536DH2FOO2xgo23E8nreFt32/bzMPt/r1bKsPCDDmAxDgm4BTOAYxBJx9msXn/Lf56PMC4Im3A+AJrNFdAQKMAnGuQIBRIM4VCDAKxLkCAUaBOFcgwCgQ5woEGAXiXIEAo0CcKxBgFIhzBQKMAnGuwBmA8TEvP596ncoVdAHGdxkgwCgQ5woEGAXiXIEAo0CcKxBgFIhzBQKMAnGuQIBRIM4VCDAKxLkCAUaBOFcgwCgQ5woEGAXiXIEAo0CcK7ACjq738HvhsaprY2JtAAFGgThXIMAoEOcKBBgF4lyBAKNAnCsQYBSIcwUCjAJxrkCAUSDOFQgwCsS5AgFGgThXIMAoEOc/FxiP83W+6tu+lf/OvvR/pAHGNAEC/BBwCscoXu5FfOg2yDDsAAAAAElFTkSuQmCC":g?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAC1ElEQVRoQ+2aKVIEMRSGexCgRmNYDCdAUYVAcgFuwXm4BRdAIrDcgQKDHgUCqEyRqXT67XnJbEEOL+n39f+WLD0b9uxvtme8QwvgX+VLrepTrcm1kNg7cffPc0IvyKrwHsC1QfMXUORzyWAx6MvDkSiNr++/RHb/RibfTYOGYSBh3x7nI8c/Pr9FICfHhyO787sFN07tv3oABZuDRm+twHE8A65iUBljsAGUg8rVy6U7mF+Sav4sXgcCXMwhNqRgg6ctgMNzSqGlwJOcjeHLgUbZShWO8wSlCXCWhzWAlE1zNQXmoLgKhP0/DfcIbIXmgFFloYLUGtgCTQFPYLl+2gIYioLT22foZ5CtCTBXgfP81FZwD2AwlLkChSlcG5hoWRNBMYVHwGkoW8K2FJgqduncgNIiYDJ3pcBYZaWct1R8Bjg8bgQNKTwCzldRmwyMhHYHTqNsom6+bNx0hZHevFI5D+kOvMsKizYIWxrSq2qdhjQYztuoMJXHHTiW7NItILXwCAsMKDVKFx7M1nEpble4hcLY8rIrLDgiUZyG9JDubank3God28Nepcc1gM7hYAudPe/S0jIw9t3SNq6lgeuYvh8mTz08V0A1D/GqnGlBDkOFrEZb4o57XYADoOWKZR3AkhsI9UG8VOHUjruxiLZcy+MUth7ET9pT2pMtq68awOmqCjnhmBzCgz8kypBXpZpCVhsY+Sqg/Paw9BREsNsjTRRbQVRM84W4l2o5IZen0d766QMHjObzJgBrQjm+KAkwCM21KmnltSosaUFQfkiBQWhrj6YSlQtpBJQrwKtHaoBRaO5TQ66/Rm9yWGHrEcOqDKl2Ff+HVfGziytTgWYKkzYtl/ZaheND2I9L06JmBSbC1wRbAoyGNyTl+9ONSGEBYDqPSSzToMx78XfTImreqMjnosGNwV18dZkEEMVLdXf/3Cd0gK/qU9XJ+XRsb7F3wH8MU0hbMyfr4gAAAABJRU5ErkJgggAA":o?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAACaklEQVRoQ+2aO1LDMBBAlZKOggIIBdyAmeQaoeE00BCacBJKUsAVKJMKeigI0DGcwMxqsh6hWNZv9bFlNXYcx9HT213JiUessDYqjJcNwH033nnDq8mkmq7XnEPcV4nrBfDR5TcbX29GvQcGQDAJwNC+Hg75Fo03We6s4c1izGGPrz4413o6ZXv3B2x/+cpfg/FeAKNVNItWJ6tVzfd5d6K03VnDVVVxw2AWGgDDPmwBOHfDvPNCU4oQ8xbCGSERXA5jOZ9TGxZBsS94rK1v1WYx5vkrAmPxyjmHAa4JrMn4zjEoXJjDJrAwEKkMN5lVrRVajWO1zn0eVpm1Xtl2ZaVFBmw7QilC2qQo2XIYnx8LWC44ydb2IYFryNnNm5GBp9szo7nY6GKKk0IAc1BTSFXnBXjSPlJejARUHgBqcCrgyteoLky34N799b4AYyw4LA4GBbQvcDRYKmgf4OiwFNCuwMlgfaFdgJPD+kAPwJrpIRu7rpZtDRcF3Ar7OD+tg+Ni/q5bR5C+bzM/2xgegEGTaFbWFst0CMNKuzkAP7/8sp/ludFvdKYhPQDL4ZuyaEU1jOCpgAEWWrSQJp1fHC42AGsGzbtoOUgh/UhRhhG2mBwOCQyDmN2Ng204G61MhITLCtjF7gBsUD6zsOxq19ZwNnkcEzg5tA+si+EigZNB+9p1NYy1LWoBo4D1BY5mmgqWAjgotAhqs15um15N75Z0UzRpeMugVLBUhuuchh2fP8ZbQMn6SmVYjADlow9NQKrQ2f5kQwaK3xMC+J9x0boOWIAkB40BvGNdVwhiPPsZ0rABX/xTigP+A0O4bUxcIoN5AAAAAElFTkSuQmCC":k?"inertia_ground":"";return Object(l.jsx)("div",{id:"cell-".concat(n,"-").concat(t),className:"node ".concat(c),onClick:function(){return a(n,t,i)},children:Object(l.jsx)("img",{src:h,alt:""})})},K=function(e){var n=e.game,t=Object(i.useState)(n.getBoard()),a=Object(o.a)(t,2),s=(a[0],a[1],Object(i.useState)(!1)),r=Object(o.a)(s,2),b=(r[0],r[1]);Object(i.useEffect)((function(){var e=setTimeout((function(){}),1e3);return function(){return clearTimeout(e)}}),[]);return Object(l.jsx)("div",{className:"pipe_board center",children:Object(l.jsx)("div",{className:"grid_container",children:n.getBoard().map((function(e,t){return Object(l.jsx)("div",{className:"pipe_grid_row",children:e.map((function(e,a){return Object(l.jsx)(W,{i:e.getI(),j:e.getJ(),onClick:function(){return function(e,n,t){console.log("cell clicks (".concat(e,", ").concat(n,")")),t.movePlayer(e,n),b((function(e){return!e}))}(t,a,n)},imgSrc:e.getType(),type:e.getType(),isPlayer:e.getIsPlayer(),isWall:e.getIsWall(),isBrokenCirlce:e.getIsBrokenCircle(),isGem:e.getIsGem(),isBomb:e.getIsBomb(),isGround:e.getIsGround()})}))})}))})})},V=t(128),H=t(131),J=function(e){var n=Object(i.useState)(0),t=Object(o.a)(n,2),a=t[0],s=t[1];Object(i.useEffect)((function(){s((function(e){return 0}))}),[e.resetTimer]),Object(i.useEffect)((function(){var e=setInterval((function(){s((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}),[a]);return Object(l.jsx)("div",{children:Object(l.jsxs)("text",{children:["Time: ",function(e){if(0===e)return"00:00";var n=Math.floor(e/60),t=e%60;return"".concat(n,":").concat(t)}(a)]})})},X=new T(10,10),z=X.getLevels(),Z=function(){console.log(Object(g.a)(z.keys()));var e=Object(i.useState)(!1),n=Object(o.a)(e,2),t=(n[0],n[1]),a=Object(i.useState)(!1),s=Object(o.a)(a,2),r=s[0],b=s[1];return Object(l.jsxs)("div",{className:"inertia__app",children:[Object(l.jsx)("h1",{children:" INERTIA "}),Object(l.jsx)(V.a,{labelId:"label",id:"select",onChange:function(e){return function(e){var n=e.target.value;X.loadLevel(n),t((function(e){return!e})),b((function(e){return!e}))}(e)},children:Object(g.a)(z.keys()).map((function(e){return Object(l.jsxs)(H.a,{value:e,children:[" ",e," "]})}))}),Object(l.jsxs)("div",{children:[Object(l.jsx)(L.a,{onClick:function(){return X.reset(),t((function(e){return!e})),void b((function(e){return!e}))},children:" Reset "}),Object(l.jsx)(L.a,{onClick:function(){return X.undo(),console.log("after undo"),console.log(X.getCommandManager().undoStk),console.log("player position ".concat(X.getPlayer().getX()," ").concat(X.getPlayer().getY())),void t((function(e){return!e}))},children:" Undo "}),Object(l.jsx)(L.a,{onClick:function(){return X.redo(),void t((function(e){return!e}))},children:" Redo "}),Object(l.jsx)(J,{resetTimer:r})]}),Object(l.jsx)("div",{children:Object(l.jsx)(K,{game:X})}),Object(l.jsx)("div",{children:" instruction "}),Object(l.jsx)("p",{children:" Trying to collect coins as many as possible. Click undo if you step on a bomb. "})]})},q=t(24),_=t(25),$=t(132),ee=t(130),ne=function(e){Object(q.a)(t,e);var n=Object(_.a)(t);function t(){return Object(c.a)(this,t),n.apply(this,arguments)}return Object(h.a)(t,[{key:"render",value:function(){var e=this.props,n=e.i,t=e.j,a=(e.imgSrc,e.onClick),i=e.type,s=e.isPlayer,r=e.isBox,b="g"===i?"ground":"w"===i?"wall":"e"===i?"endpoint":"ground",g=!0===s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJCQzQyNTY5RTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJCQzcyN0ZCRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkJDNDI1NjdFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkJDNDI1NjhFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6SouJPAAAJbklEQVR42uxba0wc1xU+M/tkzWN5OcCCCyY4xKExGMvGTttsYyetjK2QxH9axQmJlNhuI4UfbZW6Uo1bqb/yg0htsROpIY3V9ocTbYVxotaOqRIFiOL4Ede1iN1sjcGAF9jlsexrZnrP9c56ZncWZpZZcAxHGnaYuffMd84999xzzp1hBEGA5UwsLHNaUcCKApY5GdU0YhhGFbN9uzZvYBmDnThWp+SycyEAGYE5LzCCF88FXjjPGlhve2fPv9T0VePgGVWNkijg5R31OQaLqUlAIRkoZ4BxLsaoCSB0kz9ugqqbC4Zdb54661t0BezbueVJcr2NHOXitdlMEwSyTOAttsXaTedbIWJOfabZb/pj55ljAbBOhSFrPCgV0k2OlqMn+/6+aAo40NjwPLnYIQrtKc8kQq8iwlqIAszpnbNBjioCFVPU74OM6bAobXN7V+87aVfAT3du+xbPCm48H6jJBffGQohYDEvjwIgySi+NQ8UXntsenWfK/3Dy0/9pUYBm2+QYvhV/b1blwNWtRUsmPBI+211fSLFIsaV3GSTODn/c9QV3zVIWwxLFllYFEE9fGyZOLd1zXQuJWFJZhYwpPM9uCvEpAc0yZsD24jrYXlQH2Sab7N5k2A+nh8+Ba+DTuy8Q0oOayrbBKw88CQ5b8qmzo3gjPLf2cTh47k9wZXLg3gmFq7PL4Jc1P5pTeJEezFkDv9/8Cu1zTyigJCMf3nnkFwkmPxehon5X9yKdMt94BaDZaxFeagloNd94BaDTW4q+i+YEGROLoaJcq5Y7bLd98rMF8TdkWe6EthwPQoSXxroghPmlUYDZkbNSEFlRwHJWgMUbvGuEWAgW7QoQ4Dz+VHzovmsUEMMSxZZWJygwggsTovwrE/BIa2/s+m8PH4D8/MVzjH9+twt6+76Mv9yNZbpkJbIFW8D+xoa3ifAJOff3nZsWVXikxp3fUUpVW1iLSZMVqK4IUeEZpnltZSk8uL4CLBYzvH/8NJQ6VkPLqz8Gm80aaz9wYwSOv3eanu95ZjuUld6XkpBSPijwuqo1svtdJz+hx9N7tkMwGIL/XP4a/nvtBlaCOo509b6gW0UIa4AofEGhHR5/ogEq7y+D0rL7IC8vB/bubZQJj4Sgv/rqOj1EAVIhKR8UVMkKcAAQC2JCbIgRsdK6pX5TgGnBv997tB4s1juFkIOvvaA4ughY6VwrqeGD1hdbDQg2xCjFrI8CGKjFH9S0lOJHfikoHkMMYxTzkgRCaJZK51Ia8UzA9cERetwcHQOO41Pio9RP9zgANx/w98bAiOx6OBxRbI9+ISPDQg88jyff5DRM+KbAHwjSwzc1A54JX1I+1Jnu2aH4rGAoJPtfxChi1mUVOLB76yFc/tDBPEOAiH5gTclqsGWonwZjYz64cLEfStYorwpD10eginh6LauGfzYA14dGbysjEIL3jp8Czy0vbp+1tnf2HNZtGTzQuPUczqus7FXU2+JcKy7Mg5zsTFVAL1zoh6NvvU/Pv/voRqjbWC27f+3qAHR1fkzP9730NGzYsE4V36kZPwwOe+jI//MfvTA1OUMjwvaunjpdd4boRqjV3EH+bZIuQ4oBSRz1Ew/e9sZfNM3Nvc82wtaGb8/bTowFJOTiAqFmjAZ13RlChsgYTUuMuftVLnEYtmqPAU5pC9FxzjPgbD/R81TaQmFkfORE72EuGHLi/7P+gKp+s7MBSBf19H4ZXfWgVe17AwtaBnFzlLWaXNTjDo7ScHU+Ovjai3SqVMWFskqEbbAt9lETKo+P+8R52oTYNJf0tOwO0zdAwNBNTu2+8mwYrS2EIpKKdzQ8AYZFToY4sqL8qr8Pzs74YPX5W5DjnsTLXh4459ETn12ITgt902FGYF3E1qjwl5rX02u4AP31wy7Y6VE2pnedJXCRtE+FHiZC7e0eUrx3soCHD35QQs4K6UDUdFxGJdgpRoAK3S1g364tr7LAtkWsBvi8pQ44q1x3z3YPKoIdtpvhJ/sfghmrttLDqkAE/njk31DkDSkq9ZjTIbtmIO03tZ0DY4ADHviWoyf63tB1FSCBEF3+vv5huUz4TSY7PT56rBJeb6qAaav8fQEUAAVZO+xXLTy2VRIeeeMz8Fnic2NTgmBCbFKsulaExK3nserc20UQcwH8JrMaslkJCxKtTtSSuP6tTogM3pIpoZ0IdK0og4yeg0yJrASLwBF/2D1FrGgQKodnE4E6CiH/pd3wekG+7PokH4FfT1+BMyEPxVYF2rbJNZfEUNMofFt2jeL9XAKQe/kpuHXozYR7KFjr366m5A9yCU8lR4sDgFhaJi/BGfCksSgaDX5wrv181f1zNk3HijAfT8SE2LQWR9VbAAOYXdU2DZnBUZp6HSDCCzDLcRDk5WmshWUhw2AAI8ukxNdhsAJiG76DVV8LICEw1Wq9Z/4u4RujyokLSZ9HgyGYinAQIoqQHniN3kuSYifjKSURm4hVbwV4xehrPgop5Ah+IiAKOW92R9r4FdqFVOQdIjYRq64KYBmWanV8bO48gyf5gf/M2QSz9yUZWSXCtthHpkDCk58n9xCxiVj1VQDHuMX4f2wOJfiOfQDc+KQcWCgMWr5LEaJ9ZKsP4Ym85yq2IDYpVl0VgG9gYr2dprfHusCvMBqzvZcgeFG+zKHDi0QjMtzBcxMn94WRVTzwnrjLh32wr6z8RXjjMxKmF8GCmKLxf4f0bVFdk6Hoa7JoXnbM2h5zbgLBZAYrcbsll6+Bv/tsQt8JMpKzHA+dAQH6wgKUr577/UL3aAi2mBjYbWXIqsBCrtmUWAl21sPQ+koIEFthwiH4qPtzsWzuZXmmVlRAWt4VxowQEw7xLfHPboY0LVfVeUbItrA0XhfnKi/wtZhnTAZ5uDIe0cRvc7E5VhARGL5JzATVKkBzPQAfwAfDtbBAQuGxgIGHFqeV1PkSTFLh01YQEStDaG40AMlU/7K03cKAzcQkOCpe4CgvtAybUX0gVJFjEJe9bi1lsAUrIGpfdOvJkWWAhwqMVBFZZgbMcfowEHkKMlgKdl2e6XakJ0Cb1FHhyIkOtqbQBFW5RtoH+cUT8sdn4TMLbQZxiramKsaCPpnBr0ZYlkXgdtWmGs3Vle7t39VwSGn7fQ7yEv/blKwWmPZvhkTCnVj8boi0a1JSBpooOVxCINKhxlQpPwaaIXlq6yLSueK/EEmbAu5lWnlLbEUBKwpY3vR/AQYAb01JgaUnBIsAAAAASUVORK5CYII=":!0===r?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJCNzFCOTYwRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJCNzFCOTYxRTI1NTExRTZCNUJFOEM2QkJDQzA1OUQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkI2RDc0OTBFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkI3MUI5NUZFMjU1MTFFNkI1QkU4QzZCQkNDMDU5RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5zSkZWAAADbUlEQVR42tyb3W4SQRTHz5yCUEuLF5q0F0aSvoBvYCPaa99AY+o9PoG+gXhprD6D11IMvkEfob1pUxOTfoCAYEcOMGWz3WXPLjsfy/+m7Een8/vlMLDTGQGefGo0yitSvAIBO6PDe5OzYgcyHdmavjgHCS1YEd/2qtVjdVWoF18azXcSoDYDX96MOOtvnlff3giYwr/339i+uIB+r5dp2EKxCKVyOcCCrO3tPvuI+83moyB4Cv0iNbB08JPip2oHhH/B8FmXMB9+XPuV/YODlwhCVqIay5qESPjZYPACpeQNelmRwIYfDwNQQSHEYzrodbuZl8CFV6zEjupk5/Iy0xLiwBOrCnovZlVCUnhKzn+TuqG4ujq/NSHg18kJDPp9q/D5QgEebm8ngr9VAdxKaI+u/z47g7ul0rgDNuGpD9SXdgBcFHyogHkSFLyKLQkKXiVMwjz4uQKCJPjhbUnww4dJiIIPHAPCxoThYBAI75XwZ/RT95gQBu+VMAbL5yPhIyvAK+H0+DjyPt2VEAWvQn3lwLMFULqdDvxlPBnqksCFpz5SX7nBOJ2wJUEXfGwBNiTohE8kwKQE3fCJBZiQYAJ+IQE6JZiCX1iADgkm4VMRkKYE0/CpCUhDgg34VAUsIsEWPOtZIIkEyp2ICRP17KBe24DXIiCuBE50waf+FkjydrAJr1VAGhJ0w2sXsIgEE/BGBCSRYAremIDxjNJwqOXeTAjgfs7rnlSxIiAuvGkJ6CK8SQnoKrwpCWgTnkZ7mxOtWr4KJ32w4T47pP1/B3QB3uaUO9qGty0BXYC3KQFdgbclAV2CtyEBXYM3LQFdhDcpAV2FNyUBXYY3ISHnOrxXQpxvjKlWAK3De7C1ZX0mh1sJ1FfuOsYcB54WIaqFiJ2rKyvw3EpYW1+H+5ubN8dR+x2QA69CDdMfsAUfVQl+eM6KVuTCh0kwDR8mwQ/PlYBx4P0SbMH7JYTBcyTk4sJ7GxVCgAtZ29hg9TdoTMAk8JwVmCazyCr3XNbhvRIoUavc/YwIEo6CLmQJPkklzAQIecRp3HX4uBIoUspDlCAOlwU+tgQhWigQ6ssEH0cCsSNtJBYhO0ezCs+RQMxT9kk+N5ofxGTz9NLn1uZpla/ffzy5Fte16Zb5ZdtFfk5b6VFi/fXu05/q5H8BBgA93r8llM20NwAAAABJRU5ErkJggg==":"";return Object(l.jsx)("div",{id:"cell-".concat(n,"-").concat(t),className:"node ".concat(b),onClick:function(){return a(n,t,i)},children:Object(l.jsx)("img",{src:g,alt:""})})}}]),t}(i.Component),te=function(e){Object(q.a)(t,e);var n=Object(_.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).state={moves:0,refresh:!1,won:!1,resetTime:!1},a}return Object(h.a)(t,[{key:"handleKeys",value:function(e){var n=e.key;console.log(n);var t=this.props.game.canMove(n),a=t[0],l=t[1],i=this.props.game;if(a){l?(console.log("move box"),this.props.game.moveBox(n)):(console.log("move player"),this.props.game.movePlayer(n));var s=i.getCommandManager(),r=new j(i,i.getBoard(),i.getPlayer());s.execute(r),console.log(s.undoStk);var b=this.props.game.hasWon();this.setState({moves:this.state.moves+1,refresh:!this.state.refresh,won:b})}}},{key:"handleRedoClick",value:function(){this.props.game.redo(),this.setState({refresh:!this.state.refresh})}},{key:"handleUndoClick",value:function(){console.log("undo is clicked");var e=this.props.game;e.undo(),console.log(e.getCommandManager().undoStk),this.setState({refresh:!this.state.refresh})}},{key:"handleReset",value:function(){var e=this.props.game.getLevelManger().getCurLevel();this.props.game.loadLevel(e),this.setState({moves:0,refresh:!this.state.refresh,resetTime:!this.state.resetTime})}},{key:"handleChange",value:function(e){var n=e.target.value;this.props.game.loadLevel(n),this.setState({moves:0,refresh:!this.state.refresh,resetTime:!this.state.resetTime})}},{key:"render",value:function(){var e=this,n=this.props.game.getBoard(),t=this.props.game.getLevels();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Sokoban"}),Object(l.jsx)(J,{resetTimer:this.state.resetTime}),Object(l.jsxs)("div",{className:"hud",children:[Object(l.jsx)($.a,{id:"label",children:"Levels"}),Object(l.jsx)(V.a,{labelId:"label",id:"select",onChange:function(n){return e.handleChange(n)},children:Object(g.a)(t.keys()).map((function(e){return Object(l.jsxs)(H.a,{value:e,children:[" ",e," "]})}))}),Object(l.jsx)(L.a,{variant:"outlined",color:"primary",onClick:function(){e.handleReset()},children:" reset "}),Object(l.jsx)(L.a,{variant:"outlined",color:"primary",onClick:function(){e.handleUndoClick()},children:" undo "}),Object(l.jsx)(L.a,{variant:"outlined",color:"primary",onClick:function(){e.handleRedoClick()},children:" redo "}),Object(l.jsxs)("h1",{children:["Moves: ",this.state.moves]})]}),Object(l.jsx)("div",{className:"pipe_board center",tabIndex:0,onKeyDown:function(n){return e.handleKeys(n)},children:Object(l.jsx)("div",{className:"grid_container",children:n.map((function(e,n){return Object(l.jsx)("div",{className:"pipe_grid_row",children:e.map((function(e,t){return Object(l.jsx)(ne,{i:n,j:t,type:e.type,imgSrc:e.type,onClick:function(e,n,t){},isPlayer:e.getIsPlayer(),isBox:e.getIsBox()})}))})}))})}),Object(l.jsx)(ee.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:1e3,message:"The level is cleared",open:this.state.won,onClose:function(){}})]})}}]),t}(i.Component),ae=t(123),le=function(e){Object(q.a)(t,e);var n=Object(_.a)(t);function t(){return Object(c.a)(this,t),n.apply(this,arguments)}return Object(h.a)(t,[{key:"render",value:function(){var e=this.props,n=e.i,t=e.j,a=e.isStart,i=e.isFinish,s=e.isPartPath,r=(e.imgSrc,e.onClick),b=e.type,g=i?"cell_finish":a?"cell_start":s?"cell_path":"pipe_grid_cell",o="i0"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAYAAAA4TnrqAAABC0lEQVR4Xu3SwQmAMAAEQW3B0izU0tKCIliAC0EQxveShPHW5eNv37Zz1pXHGOuss96c8+ll94NgvfktTwMLVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCITUsmAFgZBaFqwgEFLLghUEQmpZsIJASC0LVhAIqWXBCgIhtSxYQSCklgUrCIT0z8u6AJFgLFtVL+B3AAAAAElFTkSuQmCC":"i1"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABB0lEQVR4Xu3ZMQEAIQwEwcQC0vDv5V/ElCz9UgzXsdMhgaW6eALEEQQYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtUAHvOR/e8XS+Adr7B2h+E2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW6ACYv983q8cTiDAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOYtMEAUwLwFBogCmLfAAFEA8xYYIApg3gIDRAHMW2CAKIB5CwwQBTBvgQGiAOY/GDIddZwfwdcAAAAASUVORK5CYIIA":"finish"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAB+0lEQVR4Xu3aYW6DMAyGYTjH7n+0naMVk5AQBRrzxY7x3v3GJXnyOdB088SfJDBL1RRPAIohABBAUUAsJ4EAigJiOQkEUBQQy0kggKKAWB6WwN/X9BLHelj+M4/9MvB4wL1qNGg5wBU0CrIs4DaZnpgpAK0TvLOfWu/Rul8/EnA/OQtob8jhgD0nZIHs1eIhgGcT64k3KpXugCPwVszWRCoLWRpwgWxBTAs4Mn2tT1H1OtcEHgEqq61O1qMeQFE1FLBa+hZ7ALMm8D/sf64JBFCMNoCdASs+QEJbGEBjImlhI1jLaUjFFLq9B5JAMYFnJyFLCltOSK5unynJbglsPUrqsE5/HzEKtQxg9M+Z6/1cAaNTOAJxOGBr6yn7Zus97mwnQwHViSmoj/lVLuJ1RoVUFtI9gUf7oDLgszZTEJXxlAHcwloxAbyz+3eqKZnATjZNHwNgE9P5RQACKAqI5SQQQFFALHdPYMQ3EdFAKgdQ4nP+146rU2lx3GnKwxOofG1Ko7YZCIDiqgCYGbD6E3ixd00ggGK8AewMWO0JHN7CABoTuW9hAAH8EAh9CpNAEkgCjRn4enloCy+jqdbGAH7N2PUFAGYGPDpQpYWNK1b9Zdq1hTnSN6bt6PLqJzIkUAwJgNkBxfGlL3dPYHoBcYAAAigKiOUkUAR8AztP5FHcQVXrAAAAAElFTkSuQmCC":"start"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAACGklEQVR4Xu3b63GDMBAEYKgj/ZeWOpwhMR4PA0jK6vYe3vwNB+ZjdVIUvC76gQRWqFrFiwDBEAhQgKAAWK4EChAUAMuVQAGCAmC5ElgN8PuxPMB7+i3/WjlrXPcEzgK7Q7fE/AjAHdcC0hWQkb6zZM6EdAPswRu90Z5zzu6PLoB3NzqKdtX7GNfYrk0HZN3YDnt2vVkPiQ7IxpuxHGqdg5bAinjUBF4BzhxOrbRY/J6SwKp4tARaN3KLZPWe0y2B2YfuDuwCWAXPbQgLsLdBPI879kABCvAloB44GIbj4QIUICgAlrskcPaeHGgAlbsBVkF0BayASAHcoLSdBXWKv+KKiLQE3m2xZx7KdMBqSXQBbCFmSmRYwH3IR994cAPsSeH7vBUV0hWwNbGcTfzRIEMAZoYMBZgRMiTgKKTnsA4NmAEyBWBkyFSAvZDMIZ0SsGcNyUJMC9hKowAHts88X15Kn0DvJApwIOlnh5YBvJtYLPthKcArRAEODDP2hFIugewUmgB6v87GfKWYAujxPw7WQ6QBsrfnSwMyMD8G8DjBzlhypO+BrT+vBlYl//rqfhnAd6je7/L24F6l1OPdG5NJpIUwE7N1LesVgAvg8aatQWf01asHFQLQEtQSb/vcIQHPnvZoSq3h9s+YBrCn13kcI0BQXYACBAXAciVQgKAAWK4EChAUAMuVQAGCAmC5EihAUAAsVwJBwB9ttMlRPh89fQAAAABJRU5ErkJgggAA":"d0"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABOElEQVR4Xu3YUQqCQBiF0dxCS2uhLc0tFNWLUEH2CWNxevbOyPGKfzMdBv1Ox+Nly63P8zxtud6naw3Z9HZzAD99RG+uAwjwLuAVjkUACPAh4CscmwAQ4DoBY8w6r6erAQI0B8YOAAS4EDDGxDoABLhOwBizzsscGL0AAnwt4DwwNgMgQAeqsQMAAX4jYJD+Rm2RAQjQeWDsAECADlS36IA5cDvFASv9zX/hAXb/9REBOEog7usVBhgFYlwDAUaBGNdAgFEgxjUQYBSIcQ0EGAViXAMBRoEY18BfBYz3vZv4sAbuRiDeCECAUSDGNRBgFIhxDQQYBWJcAwFGgRjXQIBRIMY1EGAUiHENBBgFYlwDAUaBGNdAgFEgxjUQYBSIcQ0EGAViXAMBRoEY10CAUSDGNRBgFIjxK+ySnRaA3wdtAAAAAElFTkSuQmCC":"d1"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABHElEQVR4Xu3Y0QmEMAAFQW3B0iz0SrOFEwI24Aq5w/F/IYwvCK6LJwmsqRYvAOMIAAKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwv8V8B9277x7D+RT1sgwPj+AQIcAq5wHAJAgFEg5hYIMArE3AIBRoGYWyDAKBBzCwQYBWJugQCjQMwtEGAUiLkFvhnwcxzTBnC5TzvAE7/0AcbrAxDgfQFX+L7dKAECHAK+wnEIAAFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYn4ChvmVdTjkQdkAAAAASUVORK5CYIIA":"d2"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABMElEQVR4Xu3ZwQnCQABFwaQFS7NQS0sLCgYk4Cn7Aisynv0SxqescV08ksCa1sYLwBgBQIBRIM4VCDAKxLkCAUaBOFcgwCgQ5woEGAXiXIEAo0CcKxBgFIhzBQKMAnGuQIBRIM4VCDAKxLkCAUaBOFcgwCgQ5woEGAXiXIEV8H67PeNr/MT8sW1TYlgBtvcfYPNbAALcBXwHxhIAAowCca5AgFEgzhUIMArEuQIBRoE4VyDAKBDnCgQYBeJ8WoHxuofnV9/IBTj8Vky+nRWve3iuwGG6fQgQ4Ftgyl+BCoz1AQT4EfARjjEABOggHRsACHBEwC+REbXDBiBAP+ViAwABHgTckY45AAR4TsAx5pzX17MBAnSMiQ0ABOgceEUD7gdeouggHRkBAjwn8C8H6Rd6x8hRzGFqNgAAAABJRU5ErkJgggAA":"d3"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABLElEQVR4Xu3bwQ2CQABFQbcFSrNQS6MFSTwRb+RtsiGMZx+S2Y8nHa/Fr/e2fWfcwmffx4zrXL3Gkg893yTAq0f2936AAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAp8OOGsB0THny36dBbCd3QAI8CfgEW5DABj9AAKsArH3HQgwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSI+bIFxvt+fL78H+t3PwGA8QQBAowCMbdAgFEg5hYIMArE3AIBRoGYWyDAKBBzCwQYBWJugQCjQMwtEGAUiLkFAowCMbdAgFEg5hYIMArE3AIBRoGYWyDAKBBzC4yAB6OyyFEZbMxMAAAAAElFTkSuQmCC":"t0"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABJElEQVR4Xu3bsQ2DMABFQbwCozFoRmOFpI3o0LNkIY6aB+j8W8a2+Dr2/TvjEz7nOWY85+4zlrz0/yMB3j2yy/0AAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5Bb4dcNYCouNj8wGwnR3A5rcBBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLrICxf32+/I/1p58AwHiCAAFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQUCjAIxt0CAUSDmFggwCsTcAgFGgZhbIMAoEHMLBBgFYm6BAKNAzC0QYBSIuQVGwB9oI5V10ClTrwAAAABJRU5ErkJgggAA":"t1"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABO0lEQVR4Xu3bQQrCMBAFUHsFj+ZBPVqvoKibQCt08gOB8FxnGnn+knGq223S63G/v0Zu/dz3beT1rl5ryqafNwfw6kf0Zx1AgF8Bt3AYBIAAfwJO4TAJAAHWBLQxNa/DaoAA9YFhBgACbAS0MWEcAAKsCWhjal76wNALIMBzAfPAMBkAARqohhkACLBHQCPdo9bUAARoHhhmACBAA9URGdAHjlOccKVlvgtPsFvrEAE4SyDc1y0MMBQIyyUQYCgQlksgwFAgLJdAgKFAWC6BAEOBsFwCAYYCYbkEAjSRDjMAEGCPgF8m9Kg1NQABrvVQyR9twkQDBFgTcIjUvA6rAQJ0CocZAAiwEdDGhHEACLAmoI2peekDQy+AAM8Flnkq5xQOIw4QYE1AG1PzcgqHXgABamNGZ8A8cIToG3FmFSWEGIs+AAAAAElFTkSuQmCC":"t2"==b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABGklEQVR4Xu3ZwQ1AQABFwd0WlKZQpWmBhA48iYNxfyLj72nn8CSBmWrxABhHABBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFtgBVyX5Yjv+HU+Abb/D7D5DYAAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEVMPaP8zeuErZ9//xS7LMPAPh4e3cIEOAl4AjHIQAEGAViboEAo0DMLRBgFIi5BQKMAjG3QIBRIOYWCDAKxNwCAUaBmFsgwCgQcwsEGAViboEAo0DMLRBgFIi5BQKMAjG3wAh4AjCrlXXmpLvzAAAAAElFTkSuQmCC":"t3"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABSklEQVR4Xu3ZUQqCQBQF0NyCS2uhLc0tFDlBggbOuwMSnL59oxzv4GWabhf97vP8HHnrx7JMI9c7u9YlN30/HMCzr+jHdQABrgK2cBgEgACbgK9wmASAAPsE1Jg+r93VAAHqgWEGAALcCKgxYRwAAuwTUGP6vPTA0AsgwGMB54FhMgACdKAaZgAgwIqAIl1R28wABOg8MMxAAxy9lUY8VGWNy46zAFZe13dGAjM/Wzj0AwjwI+AjEkYBIMBQIByXQIChQDgugQBDgXBcAgGGAuG4BAIMBcJxCfxXwPC5y+OjD3IvS2BZIBwECLD9qRQ6lMclsEzXBgECtIXDDAAEuBHQA8M4AATYJ6DG9HntrgYIUI0JMwAQoB44IgNtDT0wtAQIsE9AD+zzUqRDL4AAjwX8qRQmAyBARTrMAECAFQFFuqK2mQEIcBV4ASiGQGDSPWW2AAAAAElFTkSuQmCC":"4ways"===b?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABPklEQVR4Xu3aUWrCUBCG0boFl9aFdmluoVLzEogFJ98FEY7Pd5Jw8l8yGXP5etPv+3r9XXnqn9vtsvJ4rx7rLSf9uziAr96if9YBBPgQsIVjEAAC3AQ8hWMSAAKcCWhjZl6H1QAB6gNjBgAC3AloY2IcAAKcCWhjZl76wOgFEOBzAfPAmAyAAA1UYwYAAjwjoJE+o7arAQjQPDBmYANcvZVWXNQnHQNgvFsAAUaBWC6BAKNALJdAgFEglksgwCgQyyUQYBSI5RIIMArEcgkEGAViuQQCjAKx3JcJADcBX6jGJAAEOBNY/W+gBM78D6sBApwJ2MIzr8NqgAAfAt5EYhAAAvQqFzMAEOAZAW3MGbVdDUCA+sCYAYAAdwLGWTEOAAHOBLQxMy/zwOgFEOBzAfPAmAyAAM0DYwYAfjTgHdcIEprY+NNXAAAAAElFTkSuQmCC":"";return Object(l.jsx)("div",{id:"cell-".concat(n,"-").concat(t),className:"node ".concat(g),onClick:function(){return r(n,t,b)},children:Object(l.jsx)("img",{src:o,alt:""})})}}]),t}(i.Component),ie=function(e){Object(q.a)(t,e);var n=Object(_.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).state={refresh:!1},a}return Object(h.a)(t,[{key:"handleClick",value:function(e,n,t){this.props.game.rotate(e,n,t),this.setState({refresh:!this.state.refresh})}},{key:"animatePath",value:function(e){console.log("animating path");for(var n=function(n){setTimeout((function(){var t=e[n];document.getElementById("cell-".concat(t[0],"-").concat(t[1])).className="pipe_grid_cell node-shortest-path"}),5*n)},t=0;t<e.length;t++)n(t)}},{key:"runBFS",value:function(){var e=this.props.selectedLevel.split(" "),n=e[0];e[1];if("classic"===n){var t=this.props.game.BFS();this.animatePath(t)}else if("wrapping"===n){var a=this.props.game.wrappingBFS();this.animatePath(a)}}},{key:"render",value:function(){var e=this,n=this.props.game.getBoard();return Object(l.jsxs)("div",{children:[Object(l.jsx)(L.a,{onClick:function(){return e.runBFS()},children:" FLOW "}),Object(l.jsx)("div",{className:"pipe_board center",children:Object(l.jsx)("div",{className:"grid_container",children:n.map((function(n,t){return Object(l.jsx)("div",{className:"pipe_grid_row",children:n.map((function(n,a){return Object(l.jsx)(le,{isFinish:!1,isStart:!1,isPartPath:n.isPartPath,i:t,j:a,type:n.type,imgSrc:n.imgSrc,onClick:function(t,a,l){return e.handleClick(t,a,n.type)}})}))})}))})})]})}}]),t}(i.Component),se=function(e){Object(q.a)(t,e);var n=Object(_.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).state={refresh:!1,selectedLevel:"none"},a}return Object(h.a)(t,[{key:"handleChange",value:function(e){var n=e.target.value;if(void 0!==n&&null!==n&&""!==n&&"none"!==n){for(var t=n.split(" "),a=t[0],l=+t[1],i=this.props.game.getLevels().get(a)[l],s=this.props.game.getBoard(),r=0;r<s.length;r++)for(var b=0;b<s[r].length;b++)s[r][b].type=i[r][b],s[r][b].isPartPath=!1;this.setState({refresh:!this.state.refresh,selectedLevel:n})}}},{key:"handleReset",value:function(){console.log("doing a reset");var e=this.state.selectedLevel;if(void 0!==e&&null!==e&&""!==e&&"none"!==e){for(var n=e.split(" "),t=n[0],a=+n[1],l=this.props.game.getLevels().get(t)[a],i=this.props.game.getBoard(),s=0;s<i.length;s++)for(var r=0;r<i[s].length;r++)i[s][r].type=l[s][r],i[s][r].isPartPath=!1;this.setState({refresh:!this.state.refresh,selectedLevel:e})}}},{key:"handleFlowClick",value:function(){}},{key:"handleUndoClick",value:function(){this.props.game.getCommandManager().undo(),this.setState({refresh:!this.state.refresh})}},{key:"handleRedoClick",value:function(){console.log("redoing");var e=this.props.game.getCommandManager();console.log(e.redoStk),e.redo(),this.setState({refresh:!this.state.refresh})}},{key:"handleSolveClick",value:function(){var e=this.props.game;console.log("solve click"),e.minBFS()}},{key:"render",value:function(){var e=this,n=this.props.game,t=n.getLevels();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Flood Tubes"}),Object(l.jsxs)("div",{className:"hud",children:[Object(l.jsxs)(ae.a,{children:[Object(l.jsx)($.a,{htmlFor:"grouped-native-select",children:"Levels"}),Object(l.jsxs)(V.a,{native:!0,defaultValue:"",id:"grouped-native-select",onChange:function(n){return e.handleChange(n)},children:[Object(l.jsx)("option",{"aria-label":"None",value:""}),Object(g.a)(t.keys()).map((function(e){var n;return Object(l.jsx)("optgroup",{label:e,children:Object(g.a)(Array(null===(n=t.get(e))||void 0===n?void 0:n.length)).map((function(n,t){return Object(l.jsx)("option",{value:"".concat(e," ").concat(t),children:"".concat(e," ").concat(t)})}))})}))]})]}),Object(l.jsx)(L.a,{variant:"outlined",color:"primary",onClick:function(){e.handleReset()},children:" reset "}),Object(l.jsx)(L.a,{variant:"outlined",color:"primary",onClick:function(){e.handleUndoClick()},children:" undo "}),Object(l.jsx)(L.a,{variant:"outlined",color:"primary",onClick:function(){e.handleRedoClick()},children:" redo "}),Object(l.jsx)(L.a,{variant:"outlined",color:"primary",onClick:function(){e.handleSolveClick()},children:" solve "})]}),Object(l.jsx)("div",{children:Object(l.jsx)(ie,{game:n,selectedLevel:this.state.selectedLevel})})]})}}]),t}(s.a.Component),re=t(67),be=function(e){Object(q.a)(t,e);var n=Object(_.a)(t);function t(){return Object(c.a)(this,t),n.apply(this,arguments)}return Object(h.a)(t,[{key:"add",value:function(e){this.has(e)||this.push(e)}},{key:"has",value:function(e){for(var n=0;n<this.length;n++)if(this[n].every((function(n,t){return n===e[t]})))return!0;return!1}},{key:"remove",value:function(e){if(this.has(e)){for(var n=0,t=0;t<this.length;t++)this[t].every((function(n,t){return n===e[t]}))&&(n=t);this.splice(n,1)}}}]),t}(Object(re.a)(Array)),ge=function(){function e(n,t,a,l,i,s,r,b,g){Object(c.a)(this,e),this.i=void 0,this.j=void 0,this.type=void 0,this.isLight=void 0,this.isBlock=void 0,this.isCross=void 0,this.isEmpty=void 0,this.lightsNum=void 0,this.isLightenUp=void 0,this.i=n,this.j=t,this.type=a,this.isLight=l,this.isBlock=i,this.isCross=!1,this.isEmpty=r,this.lightsNum=b,this.isLightenUp=g}return Object(h.a)(e,[{key:"deepCopy",value:function(){return new e(this.i,this.j,this.type,this.isLight,this.isBlock,this.isCross,this.isEmpty,this.lightsNum,this.isLightenUp)}},{key:"setIsLight",value:function(e){this.isLight=e}},{key:"setIsBlock",value:function(e){this.isBlock=e}},{key:"setIsCross",value:function(e){this.isCross=e}},{key:"setLightsNum",value:function(e){this.lightsNum=e}},{key:"setIsEmpty",value:function(e){this.isEmpty=e}},{key:"setI",value:function(e){this.i=e}},{key:"setJ",value:function(e){this.j=e}},{key:"setType",value:function(e){this.type=e}},{key:"setIsLightenUp",value:function(e){this.isLightenUp=e}},{key:"getI",value:function(){return this.i}},{key:"getJ",value:function(){return this.j}},{key:"getType",value:function(){return this.type}},{key:"getIsLight",value:function(){return this.isLight}},{key:"getIsBlock",value:function(){return this.isBlock}},{key:"getIsCross",value:function(){return this.isCross}},{key:"getLightsNum",value:function(){return this.lightsNum}},{key:"getIsEmpty",value:function(){return this.isEmpty}},{key:"getIsLightenUp",value:function(){return this.isLightenUp}}]),e}(),oe=function(){function e(n,t,a){Object(c.a)(this,e),this.levelName=void 0,this.baseLayer=void 0,this.minLights=void 0,this.levelName=n,this.baseLayer=t,this.minLights=a}return Object(h.a)(e,[{key:"setMinLights",value:function(e){this.minLights=e}},{key:"setBaseLayer",value:function(e){this.baseLayer=e}},{key:"getBaseLayer",value:function(){return this.baseLayer}},{key:"getLevelName",value:function(){return this.levelName}},{key:"getMinLights",value:function(){return this.minLights}},{key:"getLevelLightRequirement",value:function(){for(var e=0,n=0;n<this.baseLayer.length;n++)for(var t=0;t<this.baseLayer[n].length;t++)"e"===this.baseLayer[n][t]&&(e+=1);return e}}]),e}(),ke=function(){function e(){Object(c.a)(this,e),this.curLevel=void 0,this.levels=void 0,this.curLevel="1",this.levels=new Map;var n=new oe("1",[["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","2","0","e","e"],["e","e","e","b","e","e","e","e","e","e"],["e","e","e","1","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","0","0","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"]],5),t=new oe("2",[["b","b","b","b","b","b","b","b","b","b"],["b","b","b","b","b","b","b","b","b","b"],["b","b","e","e","e","e","e","e","e","b"],["b","b","e","e","0","e","1","e","e","b"],["b","b","e","0","e","e","e","0","e","b"],["b","b","e","e","e","e","e","e","e","b"],["b","b","e","1","e","e","e","2","e","b"],["b","b","e","e","1","e","2","e","e","b"],["b","b","e","e","e","e","e","e","e","b"],["b","b","b","b","b","b","b","b","b","b"]],5),a=new oe("3",[["j","g","c","g","g","w","j","j","g","g"],["c","g","j","g","j","g","c","g","c","w"],["g","j","g","g","j","g","g","w","g","c"],["c","j","g","g","c","w","j","c","g","g"],["c","g","c","w","b","g","g","g","w","c"],["c","w","c","g","b","c","w","c","c","j"],["g","g","c","c","g","c","g","g","g","j"],["j","j","w","c","g","c","w","g","b","j"],["g","j","j","g","j","c","j","g","g","j"],["j","j","j","g","j","g","j","w","g","g"]],5),l=new oe("4",[["j","g","c","g","g","w","j","j","g","g"],["c","g","j","g","j","g","c","b","c","w"],["g","j","g","c","j","g","g","w","g","c"],["w","w","w","j","c","w","j","c","g","g"],["w","g","c","j","g","g","g","g","w","c"],["w","w","w","j","b","c","w","c","c","c"],["w","g","c","g","g","j","g","g","g","j"],["j","j","b","c","b","j","w","b","b","j"],["j","c","j","g","j","c","b","g","g","j"],["j","j","j","g","j","g","j","w","g","g"]],5),i=new oe("5",[["j","g","c","b","g","w","j","j","g","b"],["c","g","j","g","j","j","c","b","c","w"],["g","j","g","c","c","j","g","w","j","c"],["w","w","w","g","c","w","j","w","j","b"],["c","j","c","j","g","g","g","g","w","c"],["c","w","w","j","b","j","w","c","c","c"],["w","g","c","g","g","c","g","g","g","w"],["j","j","b","c","b","j","w","b","b","j"],["j","c","j","g","j","c","b","g","g","w"],["j","b","j","c","g","j","g","w","g","j"]],5);this.levels.set("1",n),this.levels.set("2",t),this.levels.set("3",a),this.levels.set("4",l),this.levels.set("5",i)}return Object(h.a)(e,[{key:"setCurLevel",value:function(e){this.curLevel=e}},{key:"getCurLevel",value:function(){return this.curLevel}},{key:"getLevels",value:function(){return this.levels}},{key:"getLevel",value:function(e){if(void 0!==e&&null!==e)return this.levels.get(e)}},{key:"getLevelRequirement",value:function(){var e;if(void 0!==this.curLevel&&null!==this.curLevel)return null===(e=this.levels.get(this.curLevel))||void 0===e?void 0:e.getLevelLightRequirement()}}]),e}();!function(e){e[e.ON=0]="ON",e[e.OFF=1]="OFF",e[e.NOTAPPLICABLE=2]="NOTAPPLICABLE"}(D||(D={}));for(var ce=function(){function e(n,t){var a=this;Object(c.a)(this,e),this.board=void 0,this.R=void 0,this.C=void 0,this.commandManager=void 0,this.dirs=void 0,this.numberOfBoxes=void 0,this.levelManager=void 0,this.lightbulbs=void 0,this.rowsLimit=void 0,this.colsLimit=void 0,this.lightWalls=void 0,this.toString=function(){return a.getBoard().toString()},this.numberOfBoxes=-1,this.commandManager=new w,this.levelManager=new ke,this.dirs=new Map,this.dirs.set("w",[-1,0]),this.dirs.set("s",[1,0]),this.dirs.set("a",[0,-1]),this.dirs.set("d",[0,1]);var l=this.levelManager.getLevel("1").getBaseLayer();this.lightWalls=[],this.board=[],this.R=n,this.C=t;for(var i=0;i<n;i++){this.board[i]=[];for(var s=0;s<t;s++){var r="e"===l[i][s],b="e"!==l[i][s],g=-1;"e"!==l[i][s]&&(g=+l[i][s]);var o=new ge(i,s,l[i][s],!1,b,!1,r,g,!1);"b"!==l[i][s]&&"e"!==l[i][s]&&this.lightWalls.push([i,s]),this.board[i].push(o)}}this.lightbulbs=new be,this.rowsLimit=[],this.colsLimit=[];for(var k=0;k<this.R;k++)this.rowsLimit.push(0);for(var h=0;h<this.C;h++)this.colsLimit.push(0)}return Object(h.a)(e,[{key:"move",value:function(e,n){if(this.board[e][n].getIsBlock()||this.board[e][n].getIsCross())return[[],D.NOTAPPLICABLE,[]];var t=null,a=[];return(t=this.board[e][n].getIsLight()?D.OFF:D.ON)===D.ON?(this.lightbulbs.add([e,n]),this.rowsLimit[e]+=1,this.colsLimit[n]+=1,this.board[e][n].setIsLight(!this.board[e][n].getIsLight()),[a=this.findAllEnlightenCells(e,n),t,[]]):(this.lightbulbs.remove([e,n]),this.rowsLimit[e]-=1,this.colsLimit[n]-=1,a=this.findAllEnlightenCells(e,n),this.board[e][n].setIsLight(!this.board[e][n].getIsLight()),[a,t,this.getLightenCells()])}},{key:"countEnlightenCells",value:function(){var e,n=new be,t=Object(k.a)(this.lightbulbs);try{for(t.s();!(e=t.n()).done;){for(var a=Object(o.a)(e.value,2),l=a[0],i=a[1],s=l;s>=0;s--){var r=this.board[s][i];if(r.getIsCross()||r.getIsBlock())break;n.add([s,i])}for(var b=l;b<this.R;b++){var g=this.board[b][i];if(g.getIsCross()||g.getIsBlock())break;n.add([b,i])}for(var c=i;c<this.C;c++){var h=this.board[l][c];if(h.getIsCross()||h.getIsBlock())break;n.add([l,c])}for(var w=i;w>=0;w--){var A=this.board[l][w];if(A.getIsCross()||A.getIsBlock())break;n.add([l,w])}}}catch(u){t.e(u)}finally{t.f()}return n}},{key:"lightConflict",value:function(){var e,n=Object(k.a)(this.lightbulbs);try{for(n.s();!(e=n.n()).done;){for(var t=Object(o.a)(e.value,2),a=t[0],l=t[1],i=a-1;i>=0;i--){var s=this.board[i][l];if(s.getIsCross()||s.getIsBlock())break;if(s.getIsLight())return!0}for(var r=a+1;r<this.R;r++){var b=this.board[r][l];if(b.getIsCross()||b.getIsBlock())break;if(b.getIsLight())return!0}for(var g=l+1;g<this.C;g++){var c=this.board[a][g];if(c.getIsCross()||c.getIsBlock())break;if(c.getIsLight())return!0}for(var h=l-1;h>=0;h--){var w=this.board[a][h];if(w.getIsCross()||w.getIsBlock())break;if(w.getIsLight())return!0}}}catch(A){n.e(A)}finally{n.f()}return!1}},{key:"hasWon",value:function(){if(this.countEnlightenCells().length!==this.levelManager.getLevelRequirement())return!1;var e,n=Object(k.a)(this.lightWalls);try{for(n.s();!(e=n.n()).done;){for(var t=Object(o.a)(e.value,2),a=t[0],l=t[1],i=0,s=0,r=[[a+1,l],[a-1,l],[a,l+1],[a,l-1]];s<r.length;s++){var b=Object(o.a)(r[s],2),g=b[0],c=b[1];this.isWithinBound(g,c)&&this.board[g][c].getIsLight()&&(i+=1)}var h=this.board[a][l].getLightsNum();if(-1!==h&&i!=h)return!1}}catch(w){n.e(w)}finally{n.f()}return!this.lightConflict()}},{key:"undo",value:function(){this.commandManager.undo()}},{key:"redo",value:function(){this.commandManager.redo()}},{key:"reset",value:function(){var e=this.levelManager.getCurLevel();this.loadLevel(e)}},{key:"loadLevel",value:function(e){var n=this.levelManager.getLevel(e);if(void 0!==n&&null!==n){this.levelManager.setCurLevel(e);for(var t=n.getBaseLayer(),a=this.R,l=this.C,i=0;i<a;i++){this.board[i]=[];for(var s=0;s<l;s++){var r="e"===t[i][s],b="e"!==t[i][s],g=-1;"e"!==t[i][s]&&(g=+t[i][s]);var o=new ge(i,s,t[i][s],!1,b,!1,r,g,!1);this.board[i].push(o)}}this.commandManager=new w}}},{key:"getLightenCells",value:function(){var e,n=[],t=Object(k.a)(this.lightbulbs);try{for(t.s();!(e=t.n()).done;){var a=Object(o.a)(e.value,2),l=a[0],i=a[1];n=[].concat(Object(g.a)(n),Object(g.a)(this.findAllEnlightenCells(l,i)))}}catch(s){t.e(s)}finally{t.f()}return n}},{key:"findAllEnlightenCells",value:function(e,n){for(var t=[],a=e;a>=0;a--){var l=this.board[a][n];if(l.getIsCross()||l.getIsBlock())break;t.push([a,n])}for(var i=e;i<this.R;i++){var s=this.board[i][n];if(s.getIsCross()||s.getIsBlock())break;t.push([i,n])}for(var r=n;r<this.C;r++){var b=this.board[e][r];if(b.getIsCross()||b.getIsBlock())break;t.push([e,r])}for(var g=n;g>=0;g--){var o=this.board[e][g];if(o.getIsCross()||o.getIsBlock())break;t.push([e,g])}return t}},{key:"isWithinBound",value:function(e,n){return e>=0&&e<this.R&&n>=0&&n<this.C}},{key:"setBoard",value:function(e){this.board=e}},{key:"getBoard",value:function(){return this.board}},{key:"getLevels",value:function(){return this.levelManager.getLevels()}},{key:"getCommandManager",value:function(){return this.commandManager}},{key:"getLevelManger",value:function(){}}]),e}(),he=function(e){var n=e.i,t=e.j,a=e.onClick,i=e.type,s=e.isLight,r=e.isBlock,b=(e.isCross,e.isEmpty,e.lightNum),g="";b>=0&&(g=b+"");var o=r?"inertia_broken_circle":"inertia_ground",k=s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAADOklEQVR4Xu3bPW8UMRAG4A1CUFGnASqo6BBFJIo0SFdTXU0kKn4PNfVV1CkpkChoqUiV/AokpEM+blZe7649u2O/4/gmTe5jvbafe/2xq7uzzv5EAmei0la4M0BhCAzQAIUCwuKWwAYB94k+VfWh19SYA9z3z4+jfm8//aH3q2h7DY2YhHv+4iIK+WzzrQpIbcC9n7gU2pToEVKtH2oVd103wHM4awBdOU1ELcBseJRKLUQNwOx4mohowAHe0/NH3YMnr4U7sWFxdBJVAdfMeQ9ffunF/v7+MMJvGVC84vpaMUgkIjKBPeCa5M2Nc4L009giYNb0hZgOMRzOKERUAoukjyA1U4gALIrnI2qk0ACFm6hmALWukw2w8gRC5r+YQenVuHQCDVCYcAM0wLhANUM43AwvfT7XzZObA3PBoe4RVpNA4VQxW/zkEpgb0gCFogZogP+/aZDzJuoS02YSqIV43wGdm9rVSGk817nS2xgDXDLfzBzLSuDtzQ/2PMk99qQSyEVxHxL32FYAWcPYoXAWGu5xCDzUHMgCpGTFELl47hytAfaIqf3gHFKNeMgEslPoJzFclFL4qDswfrsQ2xi/vsOKnIJwaXv15v3A79fPr8lyyKFLjVMB5C4WhMjFOwXAwVBOLRhLAVELh+YQprqTm2t/GHMSqIGHXkQGc6F7Qt/Qn5oTlwBq/uQBPQf2CfQ1764vR1eBHEAPTmtOh9xMCHFSP+UaYS58ARoKaGVHiP3Hq6ve5N1mc3i83W4P/10aJ5I1em+3241cj+eA9glaWQyQNAhyLnVTcEFZaJ+glbmbq1PpWzhEo4ejU2iAwk/PAO8bILWXhjItIsJ+9IvQ8TywYKAqKr11mfMv3r/iFUytvO61VPLcYkArrv+Ym1TUYqICmMLjIsWOaxYQgedtzIsHpHgF4RA2wHXjq99AG6AQkLOArKtiWKrZOTDEKZXI5gBzpGrFOYrP8cUrCDptNxNWpMAvYoA5AelcOedB1NxHbVcdwga4PI7JmwqxO87eFUaqZlgwYBWlekxXLMzjqml3NQ1hwlV3mAEKPxIDNEChgLC4JdAAhQLC4pZAAxQKCItbAoWA/wB5knZg02yCFQAAAABJRU5ErkJgggAA":"";return Object(l.jsxs)("div",{id:"cell-".concat(n,"-").concat(t),className:"node ".concat(o),onClick:function(){return a(n,t,i)},children:[Object(l.jsx)("img",{src:k,alt:""}),Object(l.jsxs)("text",{children:[" ",g," "]})]})},we=function e(n,t){Object(c.a)(this,e),this.i=void 0,this.j=void 0,this.i=n,this.j=t},Ae=[],ue=0;ue<10;ue++){for(var de=[],ve=0;ve<10;ve++)de.push(new we(ue,ve));Ae.push(de)}var je=function(e){var n=e.game,t=Object(i.useState)(n.getBoard()),a=Object(o.a)(t,2),s=(a[0],a[1],Object(i.useState)([])),r=Object(o.a)(s,2),b=r[0],g=r[1],k=Object(i.useState)([]),c=Object(o.a)(k,2),h=c[0],w=c[1],A=Object(i.useState)(D.OFF),u=Object(o.a)(A,2),d=u[0],v=u[1],j=Object(i.useState)(!1),f=Object(o.a)(j,2);f[0],f[1];return Object(i.useEffect)((function(){if(d===D.ON){console.log("TURN ONNNNNNNNNN");for(var e=function(e){setTimeout((function(){var n=b[e];document.getElementById("cell-".concat(n[0],"-").concat(n[1])).className="inertia_ground node-shortest-path"}),10*e)},n=0;n<b.length;n++)e(n)}else{console.log("TURN OFFFFFFFFF");for(var t=function(e){setTimeout((function(){var n=b[e];document.getElementById("cell-".concat(n[0],"-").concat(n[1])).className="inertia_ground"}),1)},a=0;a<b.length;a++)t(a);for(var l=function(e){setTimeout((function(){var n=h[e];document.getElementById("cell-".concat(n[0],"-").concat(n[1])).className="pipe_grid_cell"}),1)},i=0;i<h.length;i++)l(i)}}),[b,d]),Object(l.jsxs)("div",{className:"pipe_board center",children:[Object(l.jsx)("div",{className:"grid_container",children:n.getBoard().map((function(e,t){return Object(l.jsx)("div",{className:"pipe_grid_row",children:e.map((function(e,a){return Object(l.jsx)(he,{i:e.getI(),j:e.getJ(),onClick:function(){return function(e,n,t){console.log("cell clicks (".concat(e,", ").concat(n,")"));var a=t.move(e,n),l=a[0],i=a[1],s=a[2];v(i),g(l),w(s)}(t,a,n)},imgSrc:e.getType(),type:e.getType(),isBlock:e.getIsBlock(),isCross:e.getIsCross(),isEmpty:e.getIsEmpty(),isLight:e.getIsLight(),lightNum:e.getLightsNum()})}))})}))}),Object(l.jsx)(ee.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:1e3,message:"The level is cleared",open:n.hasWon(),onClose:function(){}})]})},fe=new ce(10,10),Be=fe.getLevels(),ye=function(){var e=Object(i.useState)(!1),n=Object(o.a)(e,2),t=(n[0],n[1]),a=Object(i.useState)(!1),s=Object(o.a)(a,2),r=s[0],b=s[1];return Object(l.jsxs)("div",{className:"inertia__app",children:[Object(l.jsx)("h1",{children:" LIGHT UP "}),Object(l.jsx)(V.a,{labelId:"label",id:"select",onChange:function(e){return function(e){var n=e.target.value;fe.loadLevel(n),t((function(e){return!e})),b((function(e){return!e}))}(e)},children:Object(g.a)(Be.keys()).map((function(e){return Object(l.jsxs)(H.a,{value:e,children:[" ",e," "]})}))}),Object(l.jsx)("div",{children:Object(l.jsx)(J,{resetTimer:r})}),Object(l.jsx)("div",{children:Object(l.jsx)(je,{game:fe})}),Object(l.jsx)("div",{children:" instruction "}),Object(l.jsx)("p",{children:" Trying to collect coins as many as possible. Click undo if you step on a bomb. "})]})},Ce=Object(O.a)({collectionCard:{minWidth:500,margin:25,background:"#22A7F0"},collectionContainer:{paddingLeft:"40px",paddingRight:"40px"}}),me=new v(10,10),pe=new m(10,10),Ie=function(){var e=Ce();return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:" Collections "}),Object(l.jsx)(I.a,{exact:!0,path:"/",children:Object(l.jsxs)(F.a,{container:!0,spacing:2,className:e.collectionContainer,justify:"center",children:[Object(l.jsx)(p.b,{to:"/sokoban",children:Object(l.jsx)(F.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)(x.a,{className:e.collectionCard,children:Object(l.jsx)(N.a,{children:Object(l.jsx)(Y.a,{children:Object(l.jsx)("h1",{children:" Sokoban "})})})})})}),Object(l.jsx)(p.b,{to:"/flushtubes",children:Object(l.jsx)(F.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)(x.a,{className:e.collectionCard,children:Object(l.jsx)(N.a,{children:Object(l.jsx)(Y.a,{children:Object(l.jsx)("h1",{children:" Flush Tubes [work in progress]"})})})})})}),Object(l.jsx)(p.b,{to:"/inertia",children:Object(l.jsx)(F.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)(x.a,{className:e.collectionCard,children:Object(l.jsx)(N.a,{children:Object(l.jsx)(Y.a,{children:Object(l.jsx)("h1",{children:" Inertia "})})})})})}),Object(l.jsx)(p.b,{to:"/lightup",children:Object(l.jsx)(F.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)(x.a,{className:e.collectionCard,children:Object(l.jsx)(N.a,{children:Object(l.jsx)(Y.a,{children:Object(l.jsx)("h1",{children:" Light Up "})})})})})})]})}),Object(l.jsx)(I.a,{path:"/inertia",children:Object(l.jsx)(Z,{})}),Object(l.jsx)(I.a,{path:"/sokoban",children:Object(l.jsx)(te,{game:pe})}),Object(l.jsx)(I.a,{path:"/flushtubes",children:Object(l.jsx)(se,{game:me})}),Object(l.jsx)(I.a,{path:"/lightup",children:Object(l.jsx)(ye,{})})]})})};var Oe=function(){return new v(10,10),new m(10,10),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(p.a,{children:[Object(l.jsx)(I.c,{children:Object(l.jsx)(G,{})}),Object(l.jsx)(Ie,{}),Object(l.jsx)("p",{children:" Enjoy the classic puzzles games "}),Object(l.jsx)("p",{children:" Made By ChuangWei Ma"})]})})},Ee=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,133)).then((function(n){var t=n.getCLS,a=n.getFID,l=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),a(e),l(e),i(e),s(e)}))};b.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(Oe,{})}),document.getElementById("root")),Ee()}},[[88,1,2]]]);
//# sourceMappingURL=main.ff2f4720.chunk.js.map